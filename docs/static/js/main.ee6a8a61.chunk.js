(this["webpackJsonpatlas-monitor"]=this["webpackJsonpatlas-monitor"]||[]).push([[0],{272:function(e,t,n){},330:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n(0),c=n.n(r),i=n(21),s=n.n(i);n(272),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var o=n(66),l=n(5),d=n(26),j=n(34),u=n(35),b=function e(t){Object(d.a)(this,e),this.__entityName=void 0,this.__entityName=t};function O(e){return isNaN(+e)||"boolean"===typeof e?{value:void 0,error:!0}:{value:+e,error:!1}}function h(e){var t=e;return"number"===typeof t&&(t=""+t),null===t?{value:t,error:!1}:"string"!==typeof t?{value:void 0,error:!0}:{value:t,error:!1}}function m(e){if(!("string"===typeof e||e instanceof Date))return{value:void 0,error:!0};if(e instanceof Date)return{value:e,error:!1};var t=""+e;return isNaN(Date.parse(t))?{value:void 0,error:!0}:{value:new Date(t),error:!1}}var f=n(235),p=function(e){Object(j.a)(n,e);var t=Object(u.a)(n);function n(e,a){var r;return Object(d.a)(this,n),(r=t.call(this,e)).validation=void 0,r.validation=a,r}return n}(Object(f.a)(Error)),g=function(e){Object(j.a)(n,e);var t=Object(u.a)(n);function n(e){var a;Object(d.a)(this,n),(a=t.call(this,"User")).id=void 0,a.username=void 0,a.email=void 0,a.deleted=void 0,a.createdAt=void 0,a.updatedAt=void 0,a.bearer=void 0;var r={};for(var c in a.id=O(e.id).value||0,r.id=O(e.id).error,a.username=h(e.username).value||"",r.username=h(e.username).error,a.email=h(e.email).value||"",r.email=h(e.email).error,a.deleted=!!e.deleted,a.createdAt=m(e.createdAt).value||new Date,r.createdAt=m(e.createdAt).error,a.updatedAt=m(e.updatedAt).value||new Date,r.updatedAt=m(e.updatedAt).error,a.bearer=h(e.bearer).value||"",r.bearer=h(e.bearer).error,r)if(!0===r[c])throw new p("Invalid types",r);return a}return n}(b),x=c.a.createContext({getUser:function(){return null},isLogged:!1,login:function(e){},logout:function(){}});function v(e){var t=e.children,n=c.a.useState(!1),r=Object(l.a)(n,2),i=r[0],s=r[1],o=c.a.useState(null),d=Object(l.a)(o,2),j=d[0],u=d[1],b=c.a.useState(!1),O=Object(l.a)(b,2),h=O[0],m=O[1];function f(e){!e.newValue&&i&&p()}function p(){localStorage.auth=null,s(!1),u(null)}return c.a.useEffect((function(){var e=function(){try{var e=JSON.parse(localStorage.auth),t=e?new g({id:+e.id,username:String(e.username),email:String(e.email),deleted:!!e.deleted,createdAt:new Date(e.createdAt),updatedAt:new Date(e.updatedAt),bearer:String(e.bearer)}):null;return t&&!t.id?(p(),null):t}catch(n){p()}return null}();u(e),s(!!e),m(!0)}),[]),c.a.useEffect((function(){return window.addEventListener("storage",f),function(){return window.removeEventListener("storage",f)}})),h?Object(a.jsx)(x.Provider,{value:{isLogged:i,getUser:function(){return j||(p(),null)},login:function(e){localStorage.auth=JSON.stringify(e),u(e),s(!0)},logout:p},children:t}):null}v.displayName="AuthProvider";var y=function(){return c.a.useContext(x)},w=n(86),k=n(416),N=function(e){return Object(k.a)({})},C=n(9),S=n(10),E=n(4),R=n(58),P=n(387),I=n(401),T=n(378),L=n(382),B=n(76),F=n(176),A=n.n(F),W=240,D=function(e){return Object(k.a)({root:{display:"flex"},appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:W,width:"calc(100% - ".concat(W,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:36},hide:{display:"none"},drawer:{width:W,flexShrink:0,whiteSpace:"nowrap"},drawerOpen:{width:W,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerClose:Object(S.a)({transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),overflowX:"hidden",width:e.spacing(7)+1},e.breakpoints.up("sm"),{width:e.spacing(9)+1}),toolbar:{display:"flex",alignItems:"center",padding:e.spacing(1),justifyContent:"flex-end"},content:Object(S.a)({flexGrow:1,padding:e.spacing(2)},e.breakpoints.down("sm"),{padding:e.spacing(0)}),list:{width:250},fullList:{width:"auto"},popperTop:{marginTop:8},typographyFlex:{flexGrow:1},header:{background:e.palette.header.dark,color:e.palette.common.white},rightSideMenu:{marginTop:50}})},M=n(32),z=n(409),U=n(333),J=n(332),_=n(423),q=n(236),H=n(377),G=n(389),Z=n(415),V=n(33),Y=n(14),K=n.n(Y),$=n(19),Q=n(369),X=function(e){return Object(k.a)({root:{width:"100%"},container:{maxHeight:"74vh"},textMain:{margin:e.spacing(2),fontWeight:500},box:{display:"flex",justifyContent:"center",alignItems:"center"},loading:{display:"flex",height:"90vh",justifyContent:"center",alignItems:"center"}})},ee=n(23),te=n(178),ne=n(371),ae=n(375),re=n(374),ce=n(370),ie=n(372),se=n(417),oe=n(373),le=n(376),de=function(e){return Object(k.a)({root:{width:"100%"},container:{maxHeight:"74vh"},textMain:{marginBottom:e.spacing(2),fontWeight:500},progress:Object(S.a)({minWidth:150,background:"transparent"},e.breakpoints.down("sm"),{minWidth:0}),box:{display:"flex",justifyContent:"space-around",alignItems:"center"},iconButton:{top:-8},loading:{display:"flex",height:"90vh",justifyContent:"center",alignItems:"center"},cell:{background:"transparent"}})},je=n(3),ue=n(367),be=function(e){return Object(k.a)({root:{width:"100%"}})};function Oe(e){return Object(a.jsxs)(z.a,{display:"flex",alignItems:"center",children:[Object(a.jsx)(z.a,{width:"100%",mr:1,children:Object(a.jsx)(ue.a,Object(E.a)({variant:"determinate"},e))}),Object(a.jsx)(z.a,{minWidth:35,children:Object(a.jsx)(B.a,{variant:"body2",color:"textSecondary",children:"".concat(Math.round(e.value),"%")})})]})}var he=c.a.forwardRef((function(e,t){var n=e.classes,c=e.className,i=e.progress,s=Object(r.useState)(0),o=Object(l.a)(s,2),d=o[0],j=o[1];return Object(r.useEffect)((function(){j(i)}),[i]),Object(a.jsx)(z.a,{className:Object(je.a)(n.root,c),children:Object(a.jsx)(Oe,{value:d})})})),me=Object(C.a)(be)(he),fe=n(20),pe=n(98),ge=n.n(pe),xe=n(99),ve=n.n(xe),ye=n(122),we=n.n(ye),ke=function(e,t){return function(e,t){var n=t||function(e){return e.accept("application/json")},a=function(e,t){return console.log("request.".concat(e,":"),t)};return{endPoint:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){return e})),post:function(t){var r="".concat(e,"/").concat(t);return a("post",r),n(we.a.post(r))},put:function(t){var r="".concat(e,"/").concat(t);return a("put",r),n(we.a.put(r))},delete:function(t){var r="".concat(e,"/").concat(t);return a("delete",r),n(we.a.delete(r))},get:function(t){var r="".concat(e,"/").concat(t);return a("get",r),n(we.a.get(r))}}}(e||"http://api.atlasrender.com:3002",t)};function Ne(e){var t=y(),n=t.getUser,a=t.isLogged,r=n(),c=function(e){return a&&r&&r.bearer&&e.set("Authorization","Bearer "+r.bearer),e};return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e;return ke(t,c)}}var Ce=n(407),Se=function(e){Object(j.a)(n,e);var t=Object(u.a)(n);function n(e){var a;Object(d.a)(this,n),(a=t.call(this,"ShortJobs")).id=void 0,a.name=void 0,a.attemptsPerTaskLimit=void 0,a.createdAt=void 0,a.updatedAt=void 0,a.description=void 0,a.failed=void 0,a.frameRange=void 0,a.organization=void 0,a.doneTasks=void 0,a.failedTasks=void 0,a.pendingTasks=void 0,a.processingTasks=void 0,a.pluginSettings=void 0,a.submitter=void 0;var r={};for(var c in a.id=O(e.id).value||0,r.id=O(e.id).error,a.name=h(e.name).value||"",r.name=h(e.name).error,a.attemptsPerTaskLimit=O(e.attempts_per_task_limit).value||0,r.attemptsPerTaskLimit=O(e.attempts_per_task_limit).error,a.createdAt=m(e.createdAt).value||new Date,r.createdAt=m(e.createdAt).error,a.updatedAt=m(e.updatedAt).value||new Date,r.updatedAt=m(e.updatedAt).error,a.description=h(e.description).value||"",r.description=h(e.description).error,a.failed=!!e.failed,a.frameRange=Object(ee.a)(e.frameRange),a.doneTasks=O(e.doneTasks).value||0,r.doneTasks=O(e.doneTasks).error,a.failedTasks=O(e.failedTasks).value||0,r.failedTasks=O(e.failedTasks).error,a.pendingTasks=O(e.pendingTasks).value||0,r.pendingTasks=O(e.pendingTasks).error,a.processingTasks=O(e.processingTasks).value||0,r.processingTasks=O(e.processingTasks).error,a.organization=e.organization,a.pluginSettings=e.pluginSettings,a.submitter=e.submitter,r)if(!0===r[c])throw new p("Invalid types",r);return a}return n}(b);function Ee(){var e=Object(w.b)().enqueueSnackbar;return function(t){return e(t,{anchorOrigin:{vertical:"bottom",horizontal:"center"},variant:"error"})}}var Re=function(e){return Object(k.a)({})},Pe=n(368),Ie=c.a.forwardRef((function(e,t){e.classes,e.className;return Object(a.jsx)(c.a.Fragment,{children:Object(a.jsx)(Pe.a,{size:75})})})),Te=Object(C.a)(Re)(Ie),Le=n(152),Be=n(151),Fe=n(150),Ae=n(138),We=n(97),De=n.n(We),Me=function e(t){if(Object(d.a)(this,e),this.type=void 0,this.payload=void 0,"object"!==typeof t)throw new TypeError('Incorrect type of input, expected "object", got "'.concat(typeof t,'"'));if("string"!==typeof t.type)throw new TypeError('Incorrect type of "type" field, expected "string", got "'.concat(typeof t.type,'"'));this.type=t.type,this.payload=t.payload},ze=function(e){Object(j.a)(n,e);var t=Object(u.a)(n);function n(){return Object(d.a)(this,n),t.call(this)}return Object(Ae.a)(n,null,[{key:"getInstance",value:function(){return n.instance||(n.instance=new n),n.instance}},{key:"connect",value:function(e){n.disconnect();var t="ws://api.atlasrender.com:3003";e&&(t+="?"+De.a.stringify({bearer:e})),n.ws=new WebSocket(t),n.ws.onopen=function(e){console.log("Connected to web socket")},n.ws.onclose=function(e){e.wasClean?console.log("Disconnected from web socket."):console.error("Web socket connection terminated.",e.code,"Reason: ",e.reason)},n.ws.onerror=function(e){console.error("Web socket error:",e)},n.ws.onmessage=function(e){try{var t=new Me(JSON.parse(e.data));console.log("Dispatching event ",t.type),n.instance.emit(t.type,t.payload)}catch(a){a instanceof TypeError?console.error("Incorrect message got through websocket connection.",a.message,e.data):a instanceof SyntaxError?console.error("Incorrect message got through websocket connection. Expected object, got: ",e.data):console.error(a)}}}},{key:"disconnect",value:function(){n.ws&&n.ws.close(1e3,"Session end"),n.ws=null}}]),n}(n(217).EventEmitter);ze.instance=new ze,ze.ws=null;var Ue="RENDER_JOB_UPDATE",Je="RENDER_JOB_CREATE",_e="RENDER_JOB_DELETE",qe="RENDER_JOB_ATTEMPT_LOG_CREATE",He="RENDER_TASK_UPDATE",Ge=function(){function e(t){Object(d.a)(this,e),this.handlers=void 0,this.enqueueErrorSnackbar=void 0,this.handlers={},this.enqueueErrorSnackbar=t}return Object(Ae.a)(e,[{key:"on",value:function(e,t){return this.handlers["".concat(e)]=t,this}},{key:"handle",value:function(e){var t=this.handlers["".concat(e.status)];"function"===typeof t?t():"string"===typeof t?this.enqueueErrorSnackbar(t):this.enqueueErrorSnackbar(e.response.body.message)}}]),e}();var Ze=c.a.forwardRef((function(e,t){var n=e.classes,i=e.className,s=y().logout,o=Ne(),d=Object(fe.b)().changeRoute,j=Ee(),u=Object(M.a)(),b=c.a.useState(0),O=Object(l.a)(b,2),h=O[0],m=O[1],f=c.a.useState(10),p=Object(l.a)(f,2),g=p[0],x=p[1],v=Object(r.useState)([]),w=Object(l.a)(v,2),k=w[0],N=w[1],C=Object(r.useState)(!1),S=Object(l.a)(C,2),E=S[0],R=S[1];function P(){return I.apply(this,arguments)}function I(){return(I=Object($.a)(K.a.mark((function e(){var t;return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o().get("jobs");case 3:if(t=e.sent,Array.isArray(t.body))try{console.log(t.body),N(t.body.map((function(e){return new Se(e)})))}catch(n){j("Invalid data types")}e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),new Ge(j).on(401,(function(){s()})).handle(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}Object(r.useEffect)((function(){console.log("adding event listener");var e=function(e){console.log("Create Job Listener"),o().get("jobs").query({id:e.id}).then((function(e){console.log(e.body),N((function(t){return[new Se(e.body)].concat(Object(ee.a)(t))}))})).catch((function(e){console.error(e),j("Cant add new Job")}))},t=function(e){console.log("Delete Job Listener"),o().get("jobs").query({id:e.id}).then((function(t){N((function(t){var n=t.findIndex((function(t){return t.id===e.id}));if(n>=0){var a=Object(ee.a)(t);return a.splice(n,1),Object(ee.a)(a)}return t}))}))},n=function(e){console.log("Update Job Listener"),o().get("jobs").query({id:e.id}).then((function(t){N((function(n){var a=n.findIndex((function(t){return t.id===e.id}));return a>=0&&(n[a]=new Se(t.body)),Object(ee.a)(n)}))}))};return ze.getInstance().addListener(Ue,n),ze.getInstance().addListener(Je,e),ze.getInstance().addListener(_e,t),Promise.all([P()]).then((function(){R(!0)})),function(){ze.getInstance().removeListener(Ue,n),ze.getInstance().removeListener(Je,e),ze.getInstance().removeListener(_e,t)}}),[]);return E?Object(a.jsxs)(z.a,{className:i,children:[Object(a.jsxs)(Q.a,{container:!0,children:[Object(a.jsx)(Q.a,{item:!0,xs:11,children:Object(a.jsx)(B.a,{variant:"h5",className:Object(je.a)(n.textMain),children:"Render Jobs"})}),Object(a.jsxs)(Q.a,{item:!0,xs:1,className:Object(je.a)(n.box,i),children:[Object(a.jsx)(J.a,{className:Object(je.a)(n.iconButton,i),children:Object(a.jsx)(ge.a,{})}),Object(a.jsx)(J.a,{className:Object(je.a)(n.iconButton,i),children:Object(a.jsx)(ve.a,{})})]})]}),Object(a.jsxs)(te.a,{className:n.root,children:[Object(a.jsx)(ce.a,{className:n.container,children:Object(a.jsxs)(ne.a,{stickyHeader:!0,"aria-label":"sticky table",children:[Object(a.jsx)(ie.a,{children:Object(a.jsxs)(oe.a,{children:[Object(a.jsx)(re.a,{className:n.cell,align:"left",children:"Id"}),Object(a.jsx)(re.a,{className:n.cell,align:"left",children:"Name"}),Object(a.jsx)(re.a,{className:n.cell,align:"left",children:"Submitter"}),Object(a.jsx)(re.a,{className:n.cell,align:"left",children:"Organization"}),Object(a.jsx)(re.a,{className:n.cell,align:"left",children:"Date"}),Object(a.jsx)(re.a,{align:"left",className:n.progress,children:"Progress"})]})}),Object(a.jsx)(ae.a,{children:k.slice(h*g,h*g+g).map((function(t,n){var r,c="done"===(r="done")?Le.a[400]:"failed"===r?u.palette.error.dark:"inProgress"===r?Be.a[200]:"inQueue"===r?Fe.a[300]:"#fff";return Object(a.jsxs)(oe.a,{style:{background:c},hover:!0,role:"checkbox",tabIndex:-1,onClick:function(){return d({panel:"".concat(t.id)})},children:[Object(a.jsx)(re.a,{component:"th",scope:"row",children:t.id}),Object(a.jsx)(re.a,{align:"left",children:t.name}),Object(a.jsx)(re.a,{align:"left",children:t.submitter.username}),Object(a.jsx)(re.a,{align:"left",children:t.organization.name}),Object(a.jsx)(re.a,{align:"left",children:Object(Ce.a)(t.createdAt,"dd.MM.yyyy hh:mm")}),Object(a.jsx)(re.a,{align:"left",children:Object(le.b)("md",e.width)?Object(a.jsx)(me,{progress:t.doneTasks/(t.doneTasks+t.pendingTasks+t.failedTasks+t.processingTasks)*100}):"10%"})]},n)}))})]})}),Object(a.jsx)(se.a,{rowsPerPageOptions:[10,25,100],component:"div",count:k.length,rowsPerPage:g,page:h,onChangePage:function(e,t){m(t)},onChangeRowsPerPage:function(e){x(+e.target.value),m(0)}})]})]}):Object(a.jsx)(z.a,{className:n.loading,children:Object(a.jsx)(Te,{})})}));Ze.displayName="RenderJobsTable";var Ve=Object(le.a)()(Object(C.a)(de)(Ze)),Ye=n(383),Ke=function(e){return Object(k.a)({root:{width:"100%",backgroundColor:e.palette.background.paper},paddingNone:{padding:0}})},$e=n(40),Qe=function(e){return Object(k.a)({itemListMargin:{marginBottom:2}})},Xe=n(334),et=n(218),tt=n.n(et),nt=c.a.forwardRef((function(e,t){var n=e.classes,r=(e.className,e.children),c=e.progress,i=Object($e.a)(e,["classes","className","children","progress"]),s=Object(M.a)();return Object(a.jsx)(Xe.a,Object(E.a)(Object(E.a)({},i),{},{style:{background:"linear-gradient(90deg, ".concat(tt.a[200]," ").concat(c,"%, ").concat(s.palette.common.white," 0%)")},className:n.itemListMargin,children:r}))})),at=Object(C.a)(Qe)(nt),rt=c.a.forwardRef((function(e,t){var n=e.classes,r=e.className,c=Object(fe.b)().changeRoute;return Object(a.jsx)(z.a,{className:Object(je.a)(n.root,r),children:Object(a.jsx)(L.a,{component:"nav","aria-label":"secondary mailbox folders",className:n.paddingNone,children:[{id:1,name:"Pathfinder Logo",submitter:"Danil Andreev",progress:10},{id:2,name:"Pathfinder Logo",submitter:"Andrii Demchyshyn",progress:50},{id:3,name:"Pathfinder Logo",submitter:"Danil Andreev",progress:60},{id:4,name:"Pathfinder Logo",submitter:"Danil Andreev",progress:20},{id:5,name:"Pathfinder Logo",submitter:"Danil Andreev",progress:30},{id:6,name:"Pathfinder Logo",submitter:"Danil Andreev",progress:100}].map((function(e){return Object(a.jsx)(at,{progress:e.progress,button:!0,onClick:function(){return c({panel:"jobDetails"})},children:Object(a.jsx)(Ye.a,{primary:e.name,secondary:e.submitter})},"render-job-".concat(e.id))}))})})})),ct=Object(C.a)(Ke)(rt),it=n(101),st=n.n(it),ot=n(420),lt=n(41),dt=n.n(lt),jt=function(e){return Object(k.a)({pathText:{color:dt.a[500]},mainText:{marginTop:e.spacing(2),fontWeight:700},progressMargin:{marginBottom:e.spacing(2)},dividerMargin:{marginBottom:e.spacing(2)},pluginMargin:{marginTop:e.spacing(2)},boxContainer:{backgroundColor:dt.a[200],borderRadius:3,padding:e.spacing(1)},boxContainerTitle:{fontSize:9,color:dt.a[500]},boxContainerText:{fontSize:16,fontWeight:500},customTabsMargin:{marginTop:e.spacing(2)},normalContent:Object(S.a)({},e.breakpoints.down("sm"),{padding:e.spacing(2)}),box:{display:"flex",justifyContent:"flex-end",alignItems:"center"},iconButton:{top:8},loading:{display:"flex",height:"90vh",justifyContent:"center",alignItems:"center"}})},ut=n(100),bt=n.n(ut),Ot=n(410),ht=n(384),mt=function(e){return Object(k.a)({root:{backgroundColor:e.palette.background.paper},fullWidth:{width:"100%"},paddingToolbar:{padding:e.spacing(2)}})};function ft(e){return{id:"full-width-tab-".concat(e),"aria-controls":"full-width-tabpanel-".concat(e)}}var pt=c.a.forwardRef((function(e,t){var n=e.classes,r=e.className,c=e.children,i=e.onChange,s=e.value,o=e.onChangeIndex,l=Object(M.a)();return Object(a.jsxs)(z.a,{className:Object(je.a)(n.root,r),children:[Object(a.jsx)(T.a,{className:n.paddingToolbar,children:Object(a.jsxs)(Ot.a,{className:Object(je.a)(n.fullWidth,r),value:s,onChange:i,indicatorColor:"primary",textColor:"primary",variant:"fullWidth","aria-label":"full width tabs example",children:[Object(a.jsx)(ht.a,Object(E.a)({label:"TASKS"},ft(0))),Object(a.jsx)(ht.a,Object(E.a)({label:"INFO"},ft(1))),Object(a.jsx)(ht.a,Object(E.a)({label:"STATISTICS"},ft(2)))]})}),Object(a.jsx)(bt.a,{axis:"rtl"===l.direction?"x-reverse":"x",index:s,onChangeIndex:o,children:c})]})})),gt=Object(C.a)(mt)(pt),xt=function(e){return Object(k.a)({})},vt=c.a.forwardRef((function(e,t){e.classes,e.className;var n=e.children,r=e.value,c=e.index,i=Object($e.a)(e,["classes","className","children","value","index"]);return Object(a.jsx)(z.a,Object(E.a)(Object(E.a)({role:"tabpanel",hidden:r!==c,id:"full-width-tabpanel-".concat(c),"aria-labelledby":"full-width-tab-".concat(c)},i),{},{children:r===c&&Object(a.jsx)(z.a,{p:2,children:n})}))})),yt=Object(C.a)(xt)(vt),wt=n(222),kt=n.n(wt),Nt=function(e){var t;return Object(k.a)({root:{width:"100%"},container:{maxHeight:"74vh"},textMain:{marginBottom:e.spacing(2),fontWeight:500},progress:(t={minWidth:150,background:"transparent"},Object(S.a)(t,e.breakpoints.down("md"),{minWidth:110}),Object(S.a)(t,e.breakpoints.down("sm"),{minWidth:0}),t),box:{display:"flex",justifyContent:"flex-end",alignItems:"center"},iconButton:{top:-8},iconVisible:{padding:0},cell:{background:"transparent"}})},Ct=function(e){Object(j.a)(n,e);var t=Object(u.a)(n);function n(e){var a;Object(d.a)(this,n),(a=t.call(this,"ShortJobs")).id=void 0,a.frame=void 0,a.status=void 0,a.createdAt=void 0,a.updatedAt=void 0,a.progress=void 0;var r={};for(var c in a.id=O(e.id).value||0,r.id=O(e.id).error,a.frame=O(e.frame).value||0,r.frame=O(e.frame).error,a.status=h(e.status).value||"",r.status=h(e.status).error,a.createdAt=m(e.createdAt).value||new Date,r.createdAt=m(e.createdAt).error,a.updatedAt=m(e.updatedAt).value||new Date,r.updatedAt=m(e.updatedAt).error,a.progress=O(e.progress).value||0,r.progress=O(e.progress).error,r)if(!0===r[c])throw new p("Invalid types",r);return a}return n}(b),St=n(385),Et=n(386),Rt=n(388),Pt=n(335),It=n(148),Tt=function(e){var t;return Object(k.a)({root:{backgroundColor:e.palette.baseDarkColors.main},dialogContainer:(t={counterReset:"line 0",height:650},Object(S.a)(t,e.breakpoints.down("sm"),{height:500}),Object(S.a)(t,e.breakpoints.down("xs"),{height:400}),Object(S.a)(t,"background",It.a[900]),Object(S.a)(t,"overflow","auto"),Object(S.a)(t,"boxShadow","inset 0 0 10px rgba(0,0,0,0.5)"),Object(S.a)(t,"margin",e.spacing(0,2,2,2)),Object(S.a)(t,"padding",0),Object(S.a)(t,"borderRadius",e.spacing(.5,0,.5,.5)),t),dialogTitle:{textAlign:"center"},row:{padding:e.spacing(0,2),counterIncrement:"line","&:before":{content:"counter(line)",borderRight:"1px solid ".concat(It.a[700]),padding:e.spacing(.5),paddingRight:e.spacing(2),marginRight:e.spacing(2),color:It.a[700],textAlign:"right",minWidth:60}},rowText:{overflowWrap:"break-word",fontFamily:"Monospace",fontSize:16},loading:{display:"flex",height:"60vh",justifyContent:"center",alignItems:"center"},buttonGroupContainer:{width:"100%",display:"flex",justifyContent:"flex-end",padding:e.spacing(0,2)},button1:{border:"1px solid ".concat(It.a[900]),borderBottom:0,borderRadius:"4px 4px 4px 0px"},button2:{border:"1px solid ".concat(It.a[900]),borderBottom:0},button3:{border:"1px solid ".concat(It.a[900]),borderBottom:0,borderRadius:"4px 4px 0px 4px"}})},Lt=function(e){var t;return Object(k.a)({dialogContainer:(t={counterReset:"line 0",height:700},Object(S.a)(t,e.breakpoints.down("sm"),{height:500}),Object(S.a)(t,e.breakpoints.down("xs"),{height:400}),Object(S.a)(t,"background",It.a[900]),Object(S.a)(t,"overflow","auto"),Object(S.a)(t,"boxShadow","inset 0 0 10px rgba(0,0,0,0.5)"),Object(S.a)(t,"margin",e.spacing(0,2,2,2)),Object(S.a)(t,"padding",0),Object(S.a)(t,"borderRadius",e.spacing(.5)),t),dialogTitle:{textAlign:"center"},row:{padding:e.spacing(0,2),counterIncrement:"line","&:before":{content:"counter(line)",borderRight:"1px solid ".concat(It.a[700]),padding:e.spacing(.5),paddingRight:e.spacing(2),marginRight:e.spacing(2),color:It.a[700],textAlign:"right",minWidth:60}},rowText:{overflowWrap:"break-word",fontFamily:"Monospace",fontSize:16}})},Bt=c.a.forwardRef((function(e,t){var n=e.classes,i=(e.className,e.handleGetLogs),s=Object(r.useState)([{message:"haha",type:"info"}]),o=Object(l.a)(s,2),d=o[0],j=o[1],u=c.a.useRef(null),b=c.a.useRef(null);function O(){}Object(r.useEffect)((function(){i().then((function(e){console.log(e),j(e)}))}),[]),Object(r.useEffect)((function(){return window.addEventListener("scroll",O),function(){return window.removeEventListener("scroll",O)}}),[]),Object(r.useEffect)((function(){u.current&&h(u.current,b.current)&&u.current.scrollIntoView({behavior:"smooth"})}),[d]);var h=function(e,t){var n=window.pageYOffset+e.getBoundingClientRect().top,a=(window.pageYOffset,e.getBoundingClientRect().bottom,window.pageYOffset,window.pageYOffset+document.documentElement.clientHeight);return e.offsetTop-(t.scrollTop+t.offsetHeight)<0||n-12<a};return Object(a.jsxs)(L.a,{className:n.dialogContainer,ref:b,children:[d.map((function(e,t){var r=e.message.split("\n"),i="white";switch(e.type){case"info":i="white";break;case"warning":i="yellow";break;case"error":i="red"}return r.map((function(e,t){return Object(a.jsx)(c.a.Fragment,{children:Object(a.jsx)(Xe.a,{className:n.row,children:Object(a.jsx)(B.a,{className:n.rowText,style:{color:i},children:e})})})}))})),Object(a.jsx)("div",{style:{height:1},id:"target",ref:u})]})})),Ft=Object(C.a)(Lt)(Bt),At=n(219),Wt=n.n(At),Dt=n(221),Mt=n.n(Dt),zt=n(220),Ut=n.n(zt);function Jt(e){var t=e.children,n=e.value,r=e.index,c=Object($e.a)(e,["children","value","index"]);return Object(a.jsx)("div",Object(E.a)(Object(E.a)({role:"tabpanel",hidden:n!==r,id:"full-width-tabpanel-".concat(r),"aria-labelledby":"full-width-tab-".concat(r)},c),{},{children:n===r&&Object(a.jsx)(z.a,{p:3,children:Object(a.jsx)(B.a,{children:t})})}))}function _t(e){return{id:"full-width-tab-".concat(e),"aria-controls":"full-width-tabpanel-".concat(e)}}var qt=c.a.forwardRef((function(e,t){var n=e.classes,i=(e.style,e.className,e.open),s=e.onClose,o=e.taskId,d=y().logout,j=Ee(),u=Ne(),b=Object(M.a)(),O=Object(r.useState)(!1),h=Object(l.a)(O,2),m=h[0],f=h[1],p=Object(r.useState)([]),g=Object(l.a)(p,2),x=g[0],v=g[1],w=Object(r.useState)([]),k=Object(l.a)(w,2),N=k[0],C=k[1],S=Object(r.useState)(0),R=Object(l.a)(S,2),I=R[0],T=R[1],F=Object(r.useState)(0),A=Object(l.a)(F,2),W=A[0],D=(A[1],Object(r.useState)(!1)),U=Object(l.a)(D,2),J=U[0],_=U[1],q=Object(r.useState)(!0),H=Object(l.a)(q,2),G=H[0],Z=H[1],V=Object(r.useState)(!0),Y=Object(l.a)(V,2),Q=Y[0],X=Y[1],te=c.a.useRef(null),ne=c.a.useRef(null),ae=Object(r.useRef)(G);function re(e){ae.current&&(console.log("Create log listener"),u().get("attempts/".concat(x[W],"/log/").concat(e.id)).then((function(t){console.log("Event:",e),"undefined"!==t.body.message&&x[W]===e.attemptId&&(console.log(t.body),C((function(e){return[].concat(Object(ee.a)(e),[t.body])})))})).catch((function(e){j("Cant get log")})))}function ce(){return ie.apply(this,arguments)}function ie(){return(ie=Object($.a)(K.a.mark((function e(){var t,n,a;return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u().get("tasks/".concat(o,"/attempts"));case 3:return t=e.sent,n=t.body[0].id,v(t.body.map((function(e){return e.id}))),e.next=8,u().get("attempts/".concat(n,"/log"));case 8:a=e.sent,C(a.body),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(0),new Ge(j).on(401,(function(){d()})).on(403,"You have no access to view this data").on(404,"Task not found").handle(e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,12]])})))).apply(this,arguments)}function se(){return oe.apply(this,arguments)}function oe(){return(oe=Object($.a)(K.a.mark((function e(){var t;return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,le();case 3:return t=e.sent,e.abrupt("return",t);case 7:e.prev=7,e.t0=e.catch(0),j("Cant get attempts");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function le(){return de.apply(this,arguments)}function de(){return(de=Object($.a)(K.a.mark((function e(){return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",[{message:"hahahihi",type:"info"}]);case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(r.useEffect)((function(){return J&&G&&ze.getInstance().addListener(qe,re),function(){ze.getInstance().removeListener(qe,re)}}),[J]),Object(r.useEffect)((function(){0!==o&&i&&Promise.all([ce()]).then((function(){f(!0),_(!0)}))}),[i]),Object(r.useEffect)((function(){return window.addEventListener("scroll",je),function(){return window.removeEventListener("scroll",je)}}),[]),Object(r.useEffect)((function(){te.current&&Q&&ue(te.current,ne.current)&&te.current.scrollIntoView({behavior:"smooth"})}),[N]),0!==o&&se().then((function(e){}));function je(){}var ue=function(e,t){var n=window.pageYOffset+e.getBoundingClientRect().top,a=(window.pageYOffset,e.getBoundingClientRect().bottom,window.pageYOffset,window.pageYOffset+document.documentElement.clientHeight);return e.offsetTop-(t.scrollTop+t.offsetHeight)<0||n-12<a};return Object(a.jsxs)(St.a,{open:i,onClose:function(){C([]),f(!1),_(!1),s()},maxWidth:!1,fullWidth:!0,children:[Object(a.jsx)(Et.a,{className:n.dialogTitle,children:"Task Logs"}),Object(a.jsxs)(z.a,{className:n.root,children:[Object(a.jsx)(P.a,{position:"static",color:"default",children:Object(a.jsxs)(Ot.a,{value:I,onChange:function(e,t){T(t)},indicatorColor:"primary",textColor:"primary",variant:"fullWidth","aria-label":"full width tabs example",children:[Object(a.jsx)(ht.a,Object(E.a)({label:"Slave information"},_t(0))),Object(a.jsx)(ht.a,Object(E.a)({label:"Slave logs"},_t(1)))]})}),Object(a.jsxs)(bt.a,{axis:"rtl"===b.direction?"x-reverse":"x",index:I,onChangeIndex:function(e){T(e)},children:[Object(a.jsx)(Jt,{value:I,index:0,dir:b.direction,children:Object(a.jsx)(z.a,{style:{height:716},children:Object(a.jsx)(Ft,{handleGetLogs:se})})}),Object(a.jsx)(Jt,{value:I,index:1,dir:b.direction,children:m?Object(a.jsxs)(c.a.Fragment,{children:[Object(a.jsx)(z.a,{className:n.buttonGroupContainer,children:Object(a.jsxs)(Rt.a,{"aria-label":"outlined primary button group",children:[Object(a.jsx)(Pt.a,{className:n.button1,style:{background:It.a[700]},onClick:function(){te.current&&te.current.scrollIntoView({behavior:"smooth"})},children:Object(a.jsx)(Wt.a,{})}),Object(a.jsx)(Pt.a,{className:n.button2,style:Q?{background:It.a[700]}:{background:It.a[800],color:It.a[900]},onClick:function(){X(!Q)},children:Object(a.jsx)(Ut.a,{})}),Object(a.jsx)(Pt.a,{className:n.button3,style:G?{background:It.a[700]}:{background:It.a[800],color:It.a[900]},onClick:function(){Z(!G),ae.current=!G,G?ze.getInstance().removeListener(qe,re):ce().then((function(){ze.getInstance().addListener(qe,re)}))},children:Object(a.jsx)(Mt.a,{})})]})}),Object(a.jsxs)(L.a,{className:n.dialogContainer,ref:ne,children:[N.map((function(e,t){var r=e.message.split("\n"),i="white";switch(e.type){case"info":i="white";break;case"warning":i="yellow";break;case"error":i="red"}return r.map((function(e,t){return Object(a.jsx)(c.a.Fragment,{children:Object(a.jsx)(Xe.a,{className:n.row,children:Object(a.jsx)(B.a,{className:n.rowText,style:{color:i},children:e})})},t)}))})),Object(a.jsx)("div",{style:{height:1},id:"target",ref:te})]})]}):Object(a.jsx)(z.a,{className:n.loading,children:Object(a.jsx)(Te,{})})})]})]})]})})),Ht=Object(C.a)(Tt)(qt),Gt=c.a.forwardRef((function(e,t){var n=e.classes,i=e.className,s=y().logout,o=Ne(),d=Ee(),j=(0,Object(fe.b)().getRouteParams)().panel,u=c.a.useState(0),b=Object(l.a)(u,2),O=b[0],h=b[1],m=c.a.useState(10),f=Object(l.a)(m,2),p=f[0],g=f[1],x=Object(r.useState)([]),v=Object(l.a)(x,2),w=v[0],k=v[1],N=Object(r.useState)(!1),C=Object(l.a)(N,2),S=C[0],E=C[1],R=Object(r.useState)(0),P=Object(l.a)(R,2),I=P[0],T=P[1];Object(r.useEffect)((function(){console.log("adding event listener");var e=function(e){console.log("Update TASK Listener"),o().get("tasks/".concat(e.id)).then((function(t){console.log("Task:",t.body),console.log("MessageID:",e.id),k((function(n){var a=n.findIndex((function(t){return t.id===e.id}));return a>=0&&(n[a]=new Ct(t.body)),Object(ee.a)(n)}))})).catch((function(e){d("Cant update tasks")}))};return ze.getInstance().addListener(He,e),L(),function(){ze.getInstance().removeListener(He,e)}}),[]);var L=function(){o().get("jobs/".concat(j,"/tasks")).then((function(e){if(Array.isArray(e.body))try{console.log(e.body),k(e.body.map((function(e){return new Ct(e)})))}catch(t){d("Invalid data types")}})).catch((function(e){new Ge(d).on(401,(function(){s()})).on(403,"You don't have permissions to this data").on(404,"Render job not found").handle(e)}))};return Object(a.jsxs)(z.a,{children:[Object(a.jsxs)(Q.a,{container:!0,children:[Object(a.jsx)(Q.a,{item:!0,xs:10,children:Object(a.jsx)(B.a,{variant:"h5",className:Object(je.a)(n.textMain,i),children:"Tasks"})}),Object(a.jsxs)(Q.a,{item:!0,xs:2,className:Object(je.a)(n.box,i),children:[Object(a.jsx)(J.a,{className:Object(je.a)(n.iconButton,i),children:Object(a.jsx)(ge.a,{})}),Object(a.jsx)(J.a,{className:Object(je.a)(n.iconButton,i),children:Object(a.jsx)(ve.a,{})})]})]}),Object(a.jsxs)(te.a,{elevation:0,className:n.root,children:[Object(a.jsx)(ce.a,{className:n.container,children:Object(a.jsxs)(ne.a,{stickyHeader:!0,"aria-label":"sticky table",children:[Object(a.jsx)(ie.a,{children:Object(a.jsxs)(oe.a,{children:[Object(a.jsx)(re.a,{className:n.cell,align:"left",children:"Id"}),Object(a.jsx)(re.a,{className:n.cell,align:"left",children:"Frame"}),Object(a.jsx)(re.a,{className:n.cell,align:"left",children:"Start Time"}),Object(a.jsx)(re.a,{className:n.cell,align:"left",children:"Slave"}),Object(a.jsx)(re.a,{className:n.cell,align:"left",children:"Elapsed Time"}),Object(a.jsx)(re.a,{align:"left",className:n.progress,children:"Progress"}),Object(a.jsx)(re.a,{className:n.cell,align:"left",children:" "})]})}),Object(a.jsx)(ae.a,{children:w.slice(O*p,O*p+p).map((function(t,r){return Object(a.jsxs)(oe.a,{hover:!0,role:"checkbox",tabIndex:-1,children:[Object(a.jsx)(re.a,{component:"th",scope:"row",children:t.id}),Object(a.jsx)(re.a,{align:"left",children:t.frame}),Object(a.jsx)(re.a,{align:"left",children:Object(Ce.a)(t.createdAt,"dd.MM.yyyy hh:mm")}),Object(a.jsx)(re.a,{align:"left",children:"Slave"}),Object(a.jsx)(re.a,{align:"left",children:Object(Ce.a)(t.createdAt,"dd.MM.yyyy hh:mm")}),Object(a.jsx)(re.a,{align:"left",children:Object(le.b)("md",e.width)?Object(a.jsx)(me,{progress:"done"===t.status?100:t.progress}):"10%"}),Object(a.jsx)(re.a,{align:"left",children:Object(a.jsx)(J.a,{className:n.iconVisible,onClick:function(){return e=t.id,T(e),void E(!0);var e},children:Object(a.jsx)(kt.a,{})})})]},r)}))})]})}),Object(a.jsx)(se.a,{rowsPerPageOptions:[10,25,100],component:"div",count:w.length,rowsPerPage:p,page:O,onChangePage:function(e,t){h(t)},onChangeRowsPerPage:function(e){g(+e.target.value),h(0)}})]}),Object(a.jsx)(Ht,{open:S,onClose:function(){E(!1)},taskId:I})]})}));Gt.displayName="TasksTable";var Zt=Object(le.a)()(Object(C.a)(Nt)(Gt)),Vt=function(e){return Object(k.a)({root:{width:"100%"},container:{maxHeight:"74vh"},textMain:{marginBottom:e.spacing(2),fontWeight:500},box:{display:"flex",justifyContent:"flex-end",alignItems:"center"},iconButton:{top:-8}})},Yt=function(e){return Object(k.a)({boxContainer:{borderRadius:3,padding:e.spacing(1),background:e.palette.baseDarkColors.main},boxContainerTitle:{fontSize:9,color:dt.a[500]},boxContainerText:{fontSize:16,fontWeight:500}})},Kt=c.a.forwardRef((function(e,t){var n=e.classes,r=e.className,c=e.label,i=e.children;Object(M.a)();return Object(a.jsxs)(z.a,{className:Object(je.a)(n.boxContainer,r),children:[Object(a.jsx)(B.a,{className:Object(je.a)(n.boxContainerTitle,r),children:c}),Object(a.jsx)(B.a,{className:Object(je.a)(n.boxContainerText,r),children:i})]})})),$t=Object(C.a)(Yt)(Kt);function Qt(e,t){return{cellName:e,cellContent:t}}var Xt=[Qt("Name","Pathfinder Logo"),Qt("Submitter","Danil Andreev"),Qt("Organisation","Blizzard Entertainment"),Qt("Description","Lorem ipsu lalalalalalallalasdfdgfsdfghsdfghsd "),Qt("Status","Done"),Qt("Frames","400 - 800"),Qt("Priority","1"),Qt("Competing tasks","2"),Qt("Submission time","23.09.2020 12.59.20"),Qt("Finish time","24.09.2020 12.59.20"),Qt("Plugin","Plug In Name")],en=c.a.forwardRef((function(e,t){var n,r=e.classes,i=e.className,s=c.a.useState(0),o=Object(l.a)(s,2),d=o[0],j=o[1],u=c.a.useState(10),b=Object(l.a)(u,2),O=b[0],h=b[1],m=Object(M.a)();return n=Object(U.a)(m.breakpoints.up("sm"))?Object(a.jsxs)(c.a.Fragment,{children:[Object(a.jsxs)(Q.a,{container:!0,children:[Object(a.jsx)(Q.a,{item:!0,xs:10,children:Object(a.jsx)(B.a,{variant:"h5",className:Object(je.a)(r.textMain,i),children:"Detailed Information"})}),Object(a.jsxs)(Q.a,{item:!0,xs:2,className:Object(je.a)(r.box,i),children:[Object(a.jsx)(J.a,{className:Object(je.a)(r.iconButton,i),children:Object(a.jsx)(ge.a,{})}),Object(a.jsx)(J.a,{className:Object(je.a)(r.iconButton,i),children:Object(a.jsx)(ve.a,{})})]})]}),Object(a.jsxs)(te.a,{elevation:0,className:r.root,children:[Object(a.jsx)(ce.a,{className:r.container,children:Object(a.jsx)(ne.a,{stickyHeader:!0,"aria-label":"sticky table",children:Object(a.jsx)(ae.a,{children:Xt.slice(d*O,d*O+O).map((function(e){return Object(a.jsxs)(oe.a,{hover:!0,role:"checkbox",tabIndex:-1,children:[Object(a.jsx)(re.a,{component:"th",scope:"row",children:e.cellName}),Object(a.jsx)(re.a,{align:"left",children:e.cellContent})]},e.cellName)}))})})}),Object(a.jsx)(se.a,{rowsPerPageOptions:[10,25,100],component:"div",count:Xt.length,rowsPerPage:O,page:d,onChangePage:function(e,t){j(t)},onChangeRowsPerPage:function(e){h(+e.target.value),j(0)}})]})]}):Object(a.jsx)(c.a.Fragment,{children:Object(a.jsxs)(Q.a,{container:!0,spacing:2,children:[Object(a.jsx)(Q.a,{item:!0,xs:12,children:Object(a.jsx)($t,{label:"Name",children:"Pathfinder Logo"})}),Object(a.jsx)(Q.a,{item:!0,xs:12,children:Object(a.jsx)($t,{label:"Submitter",children:"Danil Andreev"})}),Object(a.jsx)(Q.a,{item:!0,xs:12,children:Object(a.jsx)($t,{label:"Organisation",children:"Blizzard Entertainment"})}),Object(a.jsx)(Q.a,{item:!0,xs:12,children:Object(a.jsx)($t,{label:"Priority",children:"1"})}),Object(a.jsx)(Q.a,{item:!0,xs:12,children:Object(a.jsx)($t,{label:"Status",children:"Done"})}),Object(a.jsx)(Q.a,{item:!0,xs:12,children:Object(a.jsx)($t,{label:"Submission date",children:"25.09.2020 12.59.20"})}),Object(a.jsx)(Q.a,{item:!0,xs:12,children:Object(a.jsx)($t,{label:"Finish date",children:"29.09.2020 12.59.20"})}),Object(a.jsx)(Q.a,{item:!0,xs:12,children:Object(a.jsx)($t,{label:"Frames",children:"400 - 800"})}),Object(a.jsx)(Q.a,{item:!0,xs:12,children:Object(a.jsx)($t,{label:"Competing tasks",children:"2"})}),Object(a.jsx)(Q.a,{item:!0,xs:12,children:Object(a.jsx)($t,{label:"Description",children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed rutrum sodales risus vitae fermentum. Pellentesque hendrerit ultricies libero et lacinia. Integer sed ultricies velit. Sed dui orci, lacinia fermentum lacus vitae, maximus pretium ante."})}),Object(a.jsx)(Q.a,{item:!0,xs:12,children:Object(a.jsx)($t,{label:"Plugin",children:"Plug In Name"})})]})}),Object(a.jsx)(z.a,{children:n})}));en.displayName="TasksTable";var tn=Object(C.a)(Vt)(en),nn=function(e){return Object(k.a)({textMain:{fontWeight:500},dividerMargin:{marginBottom:e.spacing(2)},pluginMargin:{marginTop:e.spacing(2)},chartHeight:{height:300},box:{display:"flex",justifyContent:"flex-end",alignItems:"center"},iconButton:{top:8}})},an=n(25),rn=n(24),cn=n(90),sn=n.n(cn),on=[{time:"1",slaves:10},{time:"2",slaves:30},{time:"3",slaves:20},{time:"4",slaves:56},{time:"5",slaves:0},{time:"6",slaves:101},{time:"7",slaves:32}],ln=c.a.forwardRef((function(e,t){var n,r=e.classes,c=e.className,i=Object(M.a)();return n=Object(U.a)(i.breakpoints.up("sm"))?400:300,Object(a.jsxs)(z.a,{className:r.root,children:[Object(a.jsx)(B.a,{variant:"h5",className:Object(je.a)(r.textMain,c),children:"Statistics"}),Object(a.jsx)(G.a,{className:Object(je.a)(r.dividerMargin,c)}),Object(a.jsxs)(Q.a,{container:!0,spacing:2,ref:t,children:[Object(a.jsx)(Q.a,{item:!0,xs:12,md:6,children:Object(a.jsxs)(an.d,{data:on,height:n,children:[Object(a.jsx)(an.b,{}),Object(a.jsx)(an.g,{}),Object(a.jsx)(an.c,{valueField:"slaves",argumentField:"time"}),Object(a.jsx)(an.f,{text:"Slaves at current time"}),Object(a.jsx)(rn.a,{})]})}),Object(a.jsx)(Q.a,{item:!0,xs:12,md:6,children:Object(a.jsxs)(an.d,{data:on,height:n,children:[Object(a.jsx)(an.b,{}),Object(a.jsx)(an.g,{}),Object(a.jsx)(an.e,{valueField:"slaves",argumentField:"time"}),Object(a.jsx)(an.f,{text:"Render speed"}),Object(a.jsx)(rn.a,{})]})})]}),Object(a.jsxs)(Q.a,{container:!0,children:[Object(a.jsx)(Q.a,{item:!0,xs:11,children:Object(a.jsx)(B.a,{variant:"h6",className:Object(je.a)(r.pluginMargin,c),children:"Slaves"})}),Object(a.jsx)(Q.a,{item:!0,xs:1,className:Object(je.a)(r.box,c),children:Object(a.jsx)(J.a,{className:Object(je.a)(r.iconButton,c),children:Object(a.jsx)(sn.a,{})})})]}),Object(a.jsx)(G.a,{className:Object(je.a)(r.dividerMargin,c)}),Object(a.jsxs)(Q.a,{container:!0,spacing:2,children:[Object(a.jsx)(Q.a,{item:!0,xs:12,sm:6,md:4,children:Object(a.jsxs)(an.d,{data:on,height:300,children:[Object(a.jsx)(an.b,{}),Object(a.jsx)(an.g,{}),Object(a.jsx)(an.a,{valueField:"slaves",argumentField:"time"}),Object(a.jsx)(an.f,{text:"Slave 1"}),Object(a.jsx)(rn.a,{})]})}),Object(a.jsx)(Q.a,{item:!0,xs:12,sm:6,md:4,children:Object(a.jsxs)(an.d,{data:on,height:300,children:[Object(a.jsx)(an.b,{}),Object(a.jsx)(an.g,{}),Object(a.jsx)(an.a,{valueField:"slaves",argumentField:"time"}),Object(a.jsx)(an.f,{text:"Slave 2"}),Object(a.jsx)(rn.a,{})]})}),Object(a.jsx)(Q.a,{item:!0,xs:12,sm:6,md:4,children:Object(a.jsxs)(an.d,{data:on,height:300,children:[Object(a.jsx)(an.b,{}),Object(a.jsx)(an.g,{}),Object(a.jsx)(an.a,{valueField:"slaves",argumentField:"time"}),Object(a.jsx)(an.f,{text:"Slave 3"}),Object(a.jsx)(rn.a,{})]})}),Object(a.jsx)(Q.a,{item:!0,xs:12,sm:6,md:4,children:Object(a.jsxs)(an.d,{data:on,height:300,children:[Object(a.jsx)(an.b,{}),Object(a.jsx)(an.g,{}),Object(a.jsx)(an.a,{valueField:"slaves",argumentField:"time"}),Object(a.jsx)(an.f,{text:"Slave 4"}),Object(a.jsx)(rn.a,{})]})}),Object(a.jsx)(Q.a,{item:!0,xs:12,sm:6,md:4,children:Object(a.jsxs)(an.d,{data:on,height:300,children:[Object(a.jsx)(an.b,{}),Object(a.jsx)(an.g,{}),Object(a.jsx)(an.a,{valueField:"slaves",argumentField:"time"}),Object(a.jsx)(an.f,{text:"Slave 5"}),Object(a.jsx)(rn.a,{})]})})]})]})}));ln.displayName="StatisticsTab";var dn=Object(C.a)(nn)(ln),jn=c.a.forwardRef((function(e,t){var n=e.classes,i=e.className,s=y().logout,o=Ne(),d=Object(M.a)(),j=Ee(),u=(0,Object(fe.b)().getRouteParams)().panel,b=c.a.useState(0),O=Object(l.a)(b,2),h=O[0],m=O[1],f=c.a.useState(!1),p=Object(l.a)(f,2),g=p[0],x=p[1],v=Object(r.useState)(),w=Object(l.a)(v,2),k=(w[0],w[1]),N=Object(r.useState)(),C=Object(l.a)(N,2),S=C[0],E=C[1],R=Object(r.useState)(!1),P=Object(l.a)(R,2),I=P[0],T=P[1];function L(e){console.log("Update Job Listener"),o().get("jobs").query({id:e.id}).then((function(t){+u===e.id&&E(new Se(t.body))}))}function F(){return A.apply(this,arguments)}function A(){return(A=Object($.a)(K.a.mark((function e(){var t,n;return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o().get("jobs/".concat(u));case 3:t=e.sent,console.log(t.body),n=t.body;try{n=new Se(t.body)}catch(a){j("Invalid data types")}E(n),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),new Ge(j).on(401,(function(){s()})).on(403,"You don't have permissions to this data").on(404,"Render job not found").handle(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function W(){return D.apply(this,arguments)}function D(){return(D=Object($.a)(K.a.mark((function e(){var t;return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o().get("jobs/".concat(u,"/tasks"));case 3:t=e.sent,k(t.body),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),new Ge(j).on(401,(function(){s()})).on(403,"You don't have permissions to this data").on(404,"Render job not found").handle(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}Object(r.useEffect)((function(){return ze.getInstance().addListener(Ue,L),Promise.all([F(),W()]).then((function(){T(!0)})),function(){ze.getInstance().removeListener(Ue,L)}}),[]);var _;_=Object(U.a)(d.breakpoints.up("md"))?Object(a.jsx)(Zt,{}):Object(a.jsx)(ct,{});var q=Object(V.h)().path;return I?Object(a.jsx)(V.c,{children:Object(a.jsx)(V.a,{exact:!0,path:q,children:Object(a.jsxs)(z.a,{children:[Object(a.jsxs)(z.a,{className:n.normalContent,children:[Object(a.jsxs)(B.a,{variant:"subtitle2",className:Object(je.a)(n.pathText,i),children:["Renders Jobs / ",null===S||void 0===S?void 0:S.name]}),Object(a.jsx)(B.a,{variant:"h4",className:Object(je.a)(n.mainText,i),children:null===S||void 0===S?void 0:S.name}),Object(a.jsx)(me,{progress:S?(null===S||void 0===S?void 0:S.doneTasks)/((null===S||void 0===S?void 0:S.doneTasks)+(null===S||void 0===S?void 0:S.pendingTasks)+(null===S||void 0===S?void 0:S.failedTasks)+(null===S||void 0===S?void 0:S.processingTasks))*100:10,className:Object(je.a)(n.progressMargin,i)}),Object(a.jsx)(B.a,{variant:"h6",children:"General"}),Object(a.jsx)(G.a,{className:Object(je.a)(n.dividerMargin,i)}),Object(a.jsxs)(Q.a,{container:!0,spacing:2,children:[Object(a.jsx)(Q.a,{item:!0,xs:12,sm:6,md:4,children:Object(a.jsx)($t,{label:"Name",children:null===S||void 0===S?void 0:S.name})}),Object(a.jsx)(Q.a,{item:!0,xs:12,sm:6,md:4,children:Object(a.jsx)($t,{label:"Submitter",children:"Danil Andreev"})}),Object(a.jsx)(Q.a,{item:!0,xs:12,sm:6,md:4,children:Object(a.jsx)($t,{label:"Organisation",children:null===S||void 0===S?void 0:S.organization.name})}),Object(a.jsx)(Q.a,{item:!0,xs:6,sm:3,md:2,children:Object(a.jsx)($t,{label:"Priority",children:"1"})}),Object(a.jsx)(Q.a,{item:!0,xs:6,sm:3,md:2,children:Object(a.jsx)($t,{label:"Status",children:"Done"})}),Object(a.jsx)(Q.a,{item:!0,xs:6,md:4,children:Object(a.jsx)($t,{label:"Submission date",children:S&&Object(Ce.a)(S.createdAt,"dd.MM.yyyy hh:mm")})}),Object(a.jsx)(Q.a,{item:!0,xs:6,md:4,children:Object(a.jsx)($t,{label:"Finish date",children:S&&Object(Ce.a)(S.updatedAt,"dd.MM.yyyy hh:mm")})}),S&&Object(a.jsx)(Q.a,{item:!0,xs:6,md:4,children:null===S||void 0===S?void 0:S.frameRange.map((function(e,t){return Object(a.jsx)(ot.a,{label:"Frames: ".concat(e.start," - ").concat(e.end),style:{minWidth:125}},t)}))}),Object(a.jsx)(Q.a,{item:!0,xs:12,children:Object(a.jsx)($t,{label:"Description",children:null===S||void 0===S?void 0:S.description})})]}),Object(a.jsxs)(Q.a,{container:!0,children:[Object(a.jsx)(Q.a,{item:!0,xs:11,children:Object(a.jsx)(B.a,{variant:"h6",className:Object(je.a)(n.pluginMargin,i),children:"Plugin"})}),Object(a.jsx)(Q.a,{item:!0,xs:1,className:Object(je.a)(n.box,i),children:Object(a.jsx)(J.a,{onClick:function(){x(!g)},className:Object(je.a)(n.iconButton,i),children:Object(a.jsx)(sn.a,{})})})]}),Object(a.jsx)(G.a,{className:Object(je.a)(n.dividerMargin,i)}),Object(a.jsxs)(Q.a,{container:!0,spacing:2,children:[Object(a.jsx)(Q.a,{item:!0,xs:12,sm:6,md:4,children:Object(a.jsx)($t,{label:"Name",children:"Plug in Name"})}),Object(a.jsx)(Q.a,{item:!0,xs:12,sm:6,md:4,children:Object(a.jsx)($t,{label:"Version",children:"ver.1.22474487139..."})}),Object(a.jsx)(Q.a,{item:!0,xs:12,children:Object(a.jsx)($t,{label:"Description",children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed rutrum sodales risus vitae fermentum. Pellentesque hendrerit ultricies libero et lacinia. Integer sed ultricies velit. Sed dui orci, lacinia fermentum lacus vitae, maximus pretium ante."})})]})]}),Object(a.jsxs)(gt,{value:h,onChange:function(e,t){m(t)},onChangeIndex:function(e){m(e)},className:Object(je.a)(n.customTabsMargin,i),children:[Object(a.jsx)(yt,{value:h,index:0,dir:d.direction,children:_}),Object(a.jsx)(yt,{value:h,index:1,dir:d.direction,children:Object(a.jsx)(tn,{})}),Object(a.jsx)(yt,{value:h,index:2,dir:d.direction,children:Object(a.jsx)(dn,{})})]})]})})}):Object(a.jsx)(z.a,{className:n.loading,children:Object(a.jsx)(Te,{})})}));jn.displayName="RenderJobsDetailsView";var un=Object(C.a)(jt)(jn),bn=c.a.forwardRef((function(e,t){var n=e.classes,i=e.className,s=y().logout,o=Ne(),d=Ee(),j=Object(r.useState)([]),u=Object(l.a)(j,2),b=(u[0],u[1]),O=Object(r.useState)(!1),h=Object(l.a)(O,2),m=(h[0],h[1]);function f(){return p.apply(this,arguments)}function p(){return(p=Object($.a)(K.a.mark((function e(){var t;return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o().get("jobs");case 3:t=e.sent,b(t.body),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),new Ge(d).on(401,(function(){s()})).handle(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}Object(r.useEffect)((function(){Promise.all([f()]).then((function(){m(!0)}))}),[]);var g,x=Object(M.a)();g=Object(U.a)(x.breakpoints.up("md"))?Object(a.jsx)(Ve,{}):Object(a.jsxs)(c.a.Fragment,{children:[Object(a.jsxs)(Q.a,{container:!0,children:[Object(a.jsx)(Q.a,{item:!0,xs:10,children:Object(a.jsx)(B.a,{variant:"h5",className:Object(je.a)(n.textMain),children:"Render Jobs"})}),Object(a.jsx)(Q.a,{item:!0,xs:2,className:Object(je.a)(n.box,i),children:Object(a.jsx)(J.a,{children:Object(a.jsx)(st.a,{})})})]}),Object(a.jsx)(ct,{})]});var v=Object(V.h)().path;return Object(a.jsxs)(V.c,{children:[Object(a.jsx)(V.a,{exact:!0,path:v,children:Object(a.jsx)(z.a,{children:g})}),Object(a.jsx)(V.a,{exact:!0,path:"".concat(v,"/:jobId"),children:Object(a.jsx)(un,{})})]})}));bn.displayName="RenderJobsView";var On=Object(C.a)(X)(bn),hn=n(392),mn=n(390),fn=function(e){return Object(k.a)({containerToken:{justifyContent:"center",alignItems:"center",marginTop:e.spacing(2),marginBottom:e.spacing(2)},root:{display:"flex",flexDirection:"row"},avatar:{variant:"circle",height:e.spacing(25),width:e.spacing(25)},container:Object(S.a)({alignItems:"center",justifyContent:"center"},e.breakpoints.down("sm"),{paddingLeft:e.spacing(2),paddingRight:e.spacing(2)}),topic:{marginTop:e.spacing(2),marginBottom:e.spacing(2)},box:{display:"flex",justifyContent:"flex-end",alignItems:"center"},typographyToken:{display:"flex",alignItems:"flex-end"},firstLine:Object(S.a)({justifyContent:"center",alignItems:"center",listStyleType:"none"},e.breakpoints.down("sm"),{paddingLeft:e.spacing(2),paddingRight:e.spacing(2)}),paddingNone:{paddingLeft:0,paddingBottom:0},loading:{display:"flex",height:"90vh",justifyContent:"center",alignItems:"center"}})},pn=n.p+"static/media/githubAvatar.40a04447.jpg",gn=n(366),xn=n(149),vn=function(e){return Object(k.a)({container:Object(S.a)({justifyContent:"center",alignItems:"center",marginTop:e.spacing(2),marginBottom:e.spacing(2)},e.breakpoints.down("sm"),{paddingLeft:e.spacing(2),paddingRight:e.spacing(2)}),box:{display:"flex",justifyContent:"flex-begin",alignItems:"flex-end"},lastToken:{color:e.palette.common.white,backgroundColor:e.palette.error.light},paddingNone:{paddingLeft:0,paddingBottom:0},newToken:{paddingLeft:0,paddingRight:0},tokenAdd:{paddingLeft:0,paddingRight:0},spacingBetweenButtonFix:{display:"flex",flexGrow:1},spacingInNewToken:{paddingRight:e.spacing(2)},topMargin:{marginTop:e.spacing(1)},generatedToken:{display:"flex",flexGrow:1,alignItems:"flex-begin",justifyContent:"flex-begin",textWrap:"wrap",flexDirection:"column",marginTop:e.spacing(1),marginBottom:e.spacing(1),marginLeft:e.spacing(2)},noWrap:{flexWrap:"nowrap"},createTokenControls:{display:"flex",justifyContent:"flex-end",alignItems:"center"},wrapWord:{whiteSpace:"pre-wrap",wordWrap:"break-word",wordBreak:"break-all"},closeButtonColor:{color:It.a[50]},copyClipboardHover:{"&:hover":{backgroundColor:xn.a[400]}}})},yn=n(44),wn=n.n(yn),kn=n(46),Nn=n.n(kn),Cn=n(171),Sn=n.n(Cn),En=n(421),Rn=n(70),Pn=n.n(Rn),In=n(61),Tn=n.n(In);function Ln(){var e=Object(w.b)().enqueueSnackbar;return function(t){return e(t,{anchorOrigin:{vertical:"bottom",horizontal:"center"},variant:"success"})}}var Bn=c.a.forwardRef((function(e,t){var n=e.classes,i=(e.style,e.className),s=(e.description,e.token,y().logout),o=Ne(),d=c.a.useState(!1),j=Object(l.a)(d,2),u=j[0],b=j[1],O=c.a.useState(),h=Object(l.a)(O,2),m=h[0],f=h[1],p=c.a.useState(!1),g=Object(l.a)(p,2),x=g[0],v=g[1],w=c.a.useState({name:"",description:""}),k=Object(l.a)(w,2),N=k[0],C=k[1],R=c.a.useState(null),P=Object(l.a)(R,2),I=P[0],T=P[1],F=Object(r.useState)({noInputError:!0,nameError:!1,descriptionError:!1}),A=Object(l.a)(F,2),W=A[0],D=A[1],_=Ln(),q=Ee();function H(){o().get("tokens").then((function(e){console.log(e.body),f(e.body)})).catch((function(e){new Ge(q).on(401,(function(){s()})).handle(e)}))}function Z(e){e.persist(),C((function(t){return Object(E.a)(Object(E.a)({},t),{},Object(S.a)({},e.target.name,e.target.value))}))}function V(){W.noInputError||W.nameError||W.descriptionError?q("Can`t create a token"):(v(!1),o().post("tokens").send(N).then((function(e){T(e.body),H()})).catch((function(e){new Ge(q).on(400,"Can not add token").on(401,(function(){s()})).handle(e)})))}function Y(e){f(null===m||void 0===m?void 0:m.filter((function(t){return t.id!==e}))),o().delete("tokens/".concat(e)).then((function(e){H()})).catch((function(e){new Ge(q).on(400,"Can not add token").on(401,(function(){s()})).on(404,"You have no permissions to delete this token").handle(e)}))}Object(r.useEffect)((function(){H()}),[]);var X=function(){b(!u),v(!1)};function ee(){v(!0)}function te(e){return ne.apply(this,arguments)}function ne(){return(ne=Object($.a)(K.a.mark((function e(t){var n;return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=document.createElement("textarea")).value=t,n.setAttribute("readonly",""),n.style.position="absolute",n.style.left="-9999px",document.body.appendChild(n),n.select(),document.execCommand("copy"),document.body.removeChild(n),e.abrupt("return",t);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ae(e){D((function(e){return Object(E.a)(Object(E.a)({},e),{},{noInputError:!1})})),"name"===e.target.name&&(!N.name.slice(0,1).match(/^[a-zA-Z]+$/)||!N.name||N.name.length>50?D((function(e){return Object(E.a)(Object(E.a)({},e),{},{nameError:!0})})):D((function(e){return Object(E.a)(Object(E.a)({},e),{},{nameError:!1})}))),"description"===e.target.name&&(!N.description||N.description.length>100?D((function(e){return Object(E.a)(Object(E.a)({},e),{},{descriptionError:!0})})):D((function(e){return Object(E.a)(Object(E.a)({},e),{},{descriptionError:!1})})))}var re,ce=Object(M.a)();return re=Object(U.a)(ce.breakpoints.up("md"))?Object(a.jsx)(Q.a,{container:!0,className:Object(je.a)(n.container,i),children:Object(a.jsx)(Q.a,{item:!0,xs:12,md:10,children:Object(a.jsxs)(L.a,{component:"nav","aria-label":"secondary mailbox folders",children:[Object(a.jsxs)(Xe.a,{className:n.paddingNone,children:[Object(a.jsx)(Ye.a,{primary:"Token",primaryTypographyProps:{variant:"h6"}}),Object(a.jsxs)(mn.a,{children:[u&&Object(a.jsx)(J.a,{edge:"end","aria-label":"delete",onClick:ee,style:{marginRight:ce.spacing(1)},children:Object(a.jsx)(Nn.a,{})}),Object(a.jsx)(J.a,{edge:"end","aria-label":"delete",onClick:X,children:u?Object(a.jsx)(Sn.a,{}):Object(a.jsx)(sn.a,{})})]})]}),Object(a.jsx)(G.a,{}),x&&Object(a.jsx)(Xe.a,{className:n.newToken,children:Object(a.jsxs)(Q.a,{container:!0,children:[Object(a.jsx)(Q.a,{item:!0,className:Object(je.a)(n.tokenAdd,n.spacingInNewToken,n.spacingBetweenButtonFix),children:Object(a.jsx)(En.a,{error:W.nameError,variant:"standard",required:!0,fullWidth:!0,name:"name",label:"Name",onChange:Z,onBlur:ae})}),Object(a.jsx)(Q.a,{item:!0,className:Object(je.a)(n.tokenAdd,n.spacingBetweenButtonFix),children:Object(a.jsx)(En.a,{error:W.descriptionError,variant:"standard",fullWidth:!0,name:"description",label:"Description",onChange:Z,onBlur:ae})}),Object(a.jsxs)(Q.a,{item:!0,className:n.createTokenControls,children:[Object(a.jsx)(J.a,{onClick:function(){v(!1)},children:Object(a.jsx)(Pn.a,{})}),Object(a.jsx)(J.a,{onClick:V,children:Object(a.jsx)(Tn.a,{})})]})]})}),I&&Object(a.jsxs)(Xe.a,{button:!0,classes:{button:n.copyClipboardHover},className:Object(je.a)(n.container,n.noWrap,n.lastToken),onClick:function(){te(null===I||void 0===I?void 0:I.token).then((function(e){_("successfully copied")})).catch((function(e){q("failed to copy")}))},children:[Object(a.jsxs)(z.a,{className:Object(je.a)(n.generatedToken,n.wrapWord),children:[Object(a.jsx)(B.a,{variant:"h6",children:null===I||void 0===I?void 0:I.token}),Object(a.jsx)(B.a,{variant:"caption",children:"This will never be shown again (Click to copy)"})]}),Object(a.jsx)(mn.a,{children:Object(a.jsx)(J.a,{edge:"end","aria-label":"close",style:{marginRight:ce.spacing(1)},onClick:function(){return T(null)},children:Object(a.jsx)(Pn.a,{className:n.closeButtonColor})})})]}),Object(a.jsxs)(gn.a,{in:u,timeout:"auto",unmountOnExit:!0,children:[null===m||void 0===m?void 0:m.map((function(e){return Object(a.jsxs)(Xe.a,{children:[Object(a.jsx)(Ye.a,{primary:e.name,secondary:e.description}),Object(a.jsx)(mn.a,{children:Object(a.jsx)(J.a,{edge:"end","aria-label":"delete",onClick:function(){return Y(e.id)},children:Object(a.jsx)(wn.a,{})})})]},"render-job-".concat(e.id))})),0===(null===m||void 0===m?void 0:m.length)&&Object(a.jsx)(Xe.a,{children:Object(a.jsx)(Ye.a,{primary:"No tokens were added, please create some"})})]})]})})}):re=Object(a.jsx)(Q.a,{container:!0,className:Object(je.a)(n.container,i),children:Object(a.jsx)(Q.a,{item:!0,xs:12,md:10,children:Object(a.jsxs)(L.a,{component:"nav","aria-label":"secondary mailbox folders",children:[Object(a.jsxs)(Xe.a,{className:n.paddingNone,children:[Object(a.jsx)(Ye.a,{primary:"Token",primaryTypographyProps:{variant:"h6"}}),Object(a.jsxs)(mn.a,{children:[u&&Object(a.jsx)(J.a,{edge:"end","aria-label":"delete",style:{marginRight:ce.spacing(0)},onClick:ee,children:Object(a.jsx)(Nn.a,{})}),Object(a.jsx)(J.a,{edge:"end","aria-label":"delete",onClick:X,children:u?Object(a.jsx)(Sn.a,{}):Object(a.jsx)(sn.a,{})})]})]}),Object(a.jsx)(G.a,{}),x&&Object(a.jsx)(Xe.a,{className:n.newToken,children:Object(a.jsxs)(Q.a,{container:!0,className:n.newToken,children:[Object(a.jsx)(Q.a,{item:!0,xs:12,className:n.tokenAdd,children:Object(a.jsx)(En.a,{variant:"standard",required:!0,fullWidth:!0,name:"name",label:"Name",autoFocus:!0,onChange:Z})}),Object(a.jsx)(Q.a,{item:!0,xs:12,className:Object(je.a)(n.tokenAdd,n.topMargin,n.spacingBetweenButtonFix),children:Object(a.jsx)(En.a,{variant:"standard",fullWidth:!0,name:"description",label:"Description",autoFocus:!0,onChange:Z})}),Object(a.jsx)(Pt.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:Object(je.a)(n.tokenAdd,n.topMargin),onClick:V,children:"Add Token"})]})}),I&&Object(a.jsxs)(Xe.a,{button:!0,classes:{button:n.copyClipboardHover},className:Object(je.a)(n.container,n.noWrap,n.lastToken),onClick:function(){te(null===I||void 0===I?void 0:I.token).then((function(e){_("successfully copied")})).catch((function(e){q("failed to copy")}))},children:[Object(a.jsxs)(z.a,{className:Object(je.a)(n.generatedToken),children:[Object(a.jsx)(B.a,{variant:"h6",className:n.wrapWord,children:null===I||void 0===I?void 0:I.token}),Object(a.jsx)(B.a,{variant:"caption",children:"This will never be shown again"})]}),Object(a.jsx)(mn.a,{children:Object(a.jsx)(J.a,{edge:"end","aria-label":"close",style:{marginRight:ce.spacing(1)},onClick:function(){return T(null)},children:Object(a.jsx)(Pn.a,{className:n.closeButtonColor})})})]}),Object(a.jsx)(gn.a,{in:u,timeout:"auto",unmountOnExit:!0,children:null===m||void 0===m?void 0:m.map((function(e){return Object(a.jsxs)(Xe.a,{children:[Object(a.jsx)(Ye.a,{primary:e.name,secondary:e.description}),Object(a.jsx)(mn.a,{children:Object(a.jsx)(J.a,{edge:"end","aria-label":"delete",onClick:function(){return Y(e.id)},children:Object(a.jsx)(wn.a,{})})})]},"render-job-".concat(e.id))}))})]})})}),Object(a.jsx)(z.a,{children:re})})),Fn=Object(C.a)(vn)(Bn),An=n(119),Wn=n.n(An),Dn=c.a.forwardRef((function(e,t){var n=e.classes,c=e.className,i=e.style,s=y(),o=s.getUser,d=s.logout,j=Ee(),u=Ne(),b=Object(r.useState)(null),O=Object(l.a)(b,2),h=O[0],m=O[1],f=Object(fe.b)(),p=f.getRouteParams,g=f.changeRoute,x=p().id,v=Object(r.useState)([]),w=Object(l.a)(v,2),k=(w[0],w[1]),N=Object(r.useState)(),C=Object(l.a)(N,2),S=(C[0],C[1],Object(r.useState)(!1)),E=Object(l.a)(S,2),R=E[0],P=E[1];function I(){return T.apply(this,arguments)}function T(){return(T=Object($.a)(K.a.mark((function e(){var t;return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u().get("tokens");case 3:t=e.sent,k(t.body),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),new Ge(j).on(401,(function(){d()})).handle(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function B(){return F.apply(this,arguments)}function F(){return(F=Object($.a)(K.a.mark((function e(){var t,n,a;return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=o(),(n=x)||(n=null===t||void 0===t?void 0:t.id),e.prev=3,e.next=6,u().get("users/".concat(n));case 6:a=e.sent,m(a.body),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(3),new Ge(j).on(401,(function(){d()})).on(404,"User not found").handle(e.t0);case 14:case"end":return e.stop()}}),e,null,[[3,10]])})))).apply(this,arguments)}Object(r.useEffect)((function(){Promise.all([B(),I()]).then((function(){P(!0)}))}),[]);var A,W=Object(M.a)();A=Object(U.a)(W.breakpoints.up("md"))?Object(a.jsxs)(Q.a,{container:!0,spacing:2,className:Object(je.a)(n.container,c),children:[Object(a.jsx)(Q.a,{item:!0,xs:4,children:Object(a.jsx)($t,{label:"Name",children:null===h||void 0===h?void 0:h.username})}),Object(a.jsx)(Q.a,{item:!0,xs:4,children:Object(a.jsx)($t,{label:"Department",children:"Pathfinder team crew"})}),Object(a.jsx)(Q.a,{item:!0,xs:2,children:Object(a.jsx)(_.a,{alt:"Who1sthat",src:pn,className:Object(je.a)(n.avatar,c)})}),Object(a.jsx)(Q.a,{item:!0,xs:4,children:Object(a.jsx)(Pt.a,{onClick:function(){var e;return g({page:"user",id:null===(e=o())||void 0===e?void 0:e.id,actions:"edit"})},children:"Edit Profile"})})]}):Object(a.jsxs)(Q.a,{container:!0,spacing:2,className:Object(je.a)(n.container,c),children:[Object(a.jsx)(Q.a,{item:!0,xs:12,className:Object(je.a)(n.container,n.root,c),children:Object(a.jsx)(_.a,{src:pn,className:Object(je.a)(n.avatar)})}),Object(a.jsx)(Q.a,{item:!0,xs:12,md:10,children:Object(a.jsx)($t,{label:"Name",children:null===h||void 0===h?void 0:h.username})}),Object(a.jsx)(Q.a,{item:!0,xs:12,md:10,children:Object(a.jsx)($t,{label:"Department",children:"Pathfinder team crew"})})]});var D=Object(V.h)().path;return R?Object(a.jsx)(V.c,{children:Object(a.jsx)(V.a,{path:D,children:Object(a.jsxs)(z.a,{style:i,className:c,children:[A,Object(a.jsx)(Q.a,{container:!0,className:n.firstLine,children:Object(a.jsx)(Q.a,{item:!0,xs:12,md:10,children:Object(a.jsxs)(L.a,{component:"nav","aria-label":"secondary mailbox folders",children:[Object(a.jsx)(Xe.a,{className:n.paddingNone,children:Object(a.jsx)(Ye.a,{primary:"Organizations",primaryTypographyProps:{variant:"h6"}})}),Object(a.jsx)(G.a,{})]})})}),Object(a.jsx)(Q.a,{container:!0,className:n.firstLine,children:Object(a.jsx)(Q.a,{item:!0,xs:12,md:10,children:Object(a.jsxs)(L.a,{children:[null===h||void 0===h?void 0:h.organizations.map((function(e){return Object(a.jsxs)(Xe.a,{button:!0,onClick:function(){g({page:"organization",id:e.id})},children:[Object(a.jsx)(hn.a,{children:Object(a.jsx)(_.a,{src:"https://cdn.sportclub.ru/assets/2019-09-20/n97c311rvb.jpg"})}),Object(a.jsx)(Ye.a,{primary:e.name,secondary:e.description}),Object(a.jsxs)(mn.a,{children:[Object(a.jsx)(ot.a,{label:"MainRole",style:{backgroundColor:"#f76"}}),Object(a.jsx)(J.a,{edge:"end",children:Object(a.jsx)(Wn.a,{})})]})]},e.id)})),0===(null===h||void 0===h?void 0:h.organizations.length)&&Object(a.jsx)(Xe.a,{children:Object(a.jsx)(Ye.a,{primary:"You are not a member of any organization"})})]})})}),Object(a.jsx)(Fn,{})]})})}):Object(a.jsx)(z.a,{className:n.loading,children:Object(a.jsx)(Te,{})})})),Mn=Object(C.a)(fn)(Dn),zn=n(400),Un=function(e){return Object(k.a)({loading:{display:"flex",height:"90vh",justifyContent:"center",alignItems:"center"},firstLine:Object(S.a)({justifyContent:"center",alignItems:"center",listStyleType:"none"},e.breakpoints.down("sm"),{paddingLeft:e.spacing(2),paddingRight:e.spacing(2)}),nameDescription:{justifyContent:"flex-begin"},settingButtongAlign:{display:"flex",flexAlignment:"flex-end"},avatar:{height:e.spacing(25),width:e.spacing(25)},itemsRowBackground:{marginBottom:e.spacing(1),backgroundColor:It.a[200],borderRadius:"5px"},selectFieldStyle:{borderRadius:"5px"},avatarBox:{display:"flex",justifyContent:"center",marginTop:e.spacing(2),width:"inherit"},paddingNone:{paddingLeft:0,paddingBottom:0},colorBar:{width:4,height:e.spacing(7)},rolesDescription:Object(S.a)({width:500,overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},e.breakpoints.down("xs"),{width:"70%"}),rolesPrimary:Object(S.a)({width:500,overflowWrap:"anywhere"},e.breakpoints.down("xs"),{width:"70%"}),roleItem:{paddingLeft:e.spacing(2)}})},Jn=function(e){return Object(k.a)({firstLine:Object(S.a)({justifyContent:"center",alignItems:"center",listStyleType:"none"},e.breakpoints.down("sm"),{paddingLeft:e.spacing(2),paddingRight:e.spacing(2)}),paddingNone:{paddingLeft:0,paddingBottom:0}})},_n=c.a.forwardRef((function(e,t){var n=e.classes,r=(e.style,e.className,e.children),c=e.onClick,i=e.can,s=void 0===i||i,o=e.color,l=void 0===o?"#FFF":o;return Object(a.jsx)(Q.a,{container:!0,className:n.firstLine,children:Object(a.jsx)(Q.a,{item:!0,xs:12,md:10,children:Object(a.jsxs)(L.a,{component:"nav","aria-label":"secondary mailbox folders",children:[Object(a.jsxs)(Xe.a,{className:n.paddingNone,children:[Object(a.jsx)(Ye.a,{style:{color:l},primary:r,primaryTypographyProps:{variant:"h6"}}),s&&Object(a.jsx)(mn.a,{children:Object(a.jsx)(J.a,{edge:"end","aria-label":"delete",onClick:c,children:Object(a.jsx)(Nn.a,{})})})]}),Object(a.jsx)(G.a,{})]})})})})),qn=Object(C.a)(Jn)(_n),Hn=n(225),Gn=n.n(Hn),Zn=function(e){return Object(k.a)({container:{display:"flex",alignItems:"center",justifyContent:"center",margin:0},listRoot:{padding:e.spacing(0,0,0,0)}})},Vn=c.a.forwardRef((function(e,t){var n=e.classes,r=e.style,c=e.className,i=e.plugin,s=e.invokeDialog,o=e.setCurrentPlugin,l=e.can,d=void 0===l||l;return Object(a.jsx)(Q.a,{container:!0,spacing:0,className:n.container,children:Object(a.jsx)(Q.a,{item:!0,xs:10,children:Object(a.jsx)(L.a,{className:n.listRoot,children:Object(a.jsxs)(Xe.a,{style:r,className:c,button:!0,onClick:function(){s(),o(i.id)},children:[Object(a.jsx)(Ye.a,{primary:i.name,secondary:i.description}),d&&Object(a.jsx)(mn.a,{children:Object(a.jsx)(J.a,{children:Object(a.jsx)(Pn.a,{})})})]})})})})})),Yn=Object(C.a)(Zn)(Vn),Kn=n(393),$n=n(394),Qn=c.a.createContext(Object($.a)(K.a.mark((function e(){return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))),Xn=c.a.forwardRef((function(e,t){var n=e.children,r=c.a.useState(null),i=Object(l.a)(r,2),s=i[0],o=i[1],d=c.a.useState(!1),j=Object(l.a)(d,2),u=j[0],b=j[1];function O(){return(O=Object($.a)(K.a.mark((function e(t,n){return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o(Object(E.a)(Object(E.a)({},n),{},{onAccept:t}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return c.a.useLayoutEffect((function(){setTimeout((function(){u||o(null)}),100)}),[u]),c.a.useLayoutEffect((function(){s&&b(!0)}),[s]),Object(a.jsxs)(c.a.Fragment,{children:[Object(a.jsxs)(St.a,{id:"confirm-dialog","aria-labelledby":"confirm-dialog",onClose:function(e){return b(!1)},open:u,children:[Object(a.jsx)(Et.a,{id:"confirm-dialog-title",children:null===s||void 0===s?void 0:s.title}),Object(a.jsx)(Kn.a,{children:null===s||void 0===s?void 0:s.text}),Object(a.jsxs)($n.a,{children:[Object(a.jsx)(Pt.a,{onClick:function(e){s&&s.onAccept().then(),b(!1)},children:(null===s||void 0===s?void 0:s.accept)||"Accept"}),Object(a.jsx)(Pt.a,{onClick:function(e){b(!1),(null===s||void 0===s?void 0:s.onDismiss)&&s.onDismiss()},children:(null===s||void 0===s?void 0:s.dismiss)||"Dismiss"})]})]}),Object(a.jsx)(Qn.Provider,{value:function(e,t){return O.apply(this,arguments)},children:n})]})})),ea=function(){return c.a.useContext(Qn)},ta=n(418),na=n(15),aa=function(e){return Object(k.a)({dialog:{maxWidth:400},dialogUsers:{width:"100%",textAlign:"center",paddingBottom:0,marginTop:e.spacing(2)},avatarContainer:{display:"flex",width:"100%",justifyContent:"center",alignItems:"center",marginTop:e.spacing(2)},avatar:{width:100,height:100},notFound:{display:"flex",width:"100%",height:250,justifyContent:"center",alignItems:"center"},info:{width:"100%",textAlign:"center",marginTop:0},userContainer:{display:"flex",height:300,justifyContent:"center",alignItems:"center"},colorBar:{width:4,height:e.spacing(7)},menuPaper:Object(S.a)({height:400,width:346},e.breakpoints.down("xs"),{height:300,width:215}),menuRoleBar:{width:4,height:e.spacing(6)},menuHeader:{paddingBottom:0},menuListItemText:{paddingLeft:e.spacing(2),overflowWrap:"anywhere"},listItemHeader:{paddingBottom:0},dangerZoneContainer:{display:"flex",justifyContent:"center",alignItems:"center"},dangerZoneButton:{margin:e.spacing(2),marginBottom:e.spacing(1)},dangerZoneHeader:{paddingBottom:0,color:e.palette.error.dark},dangerZoneDivider:{backgroundColor:e.palette.error.dark},search:{position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(na.c)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(na.c)(e.palette.common.white,.25)},marginLeft:0,width:"100%",marginTop:e.spacing(1)},searchIcon:{padding:e.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit"},inputInput:Object(S.a)({padding:e.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(e.spacing(4),"px)"),transition:e.transitions.create("width"),width:"11ch"},e.breakpoints.up("sm"),{width:"25ch"}),paddingNoneBottom:{paddingBottom:0}})},ra=n(391),ca=n(242),ia=n(395),sa=function(e){return Object(k.a)({searchInput:{background:It.a[700],borderRadius:4,padding:e.spacing(.5,1)},iconSearch:{"&:hover":{color:"#454545",cursor:"pointer"}}})},oa=c.a.forwardRef((function(e,t){var n=e.classes,r=(e.className,e.style,e.onChange);return Object(a.jsx)(ra.a,{style:{width:"100%"},children:Object(a.jsx)(ca.a,{className:n.searchInput,onChange:r,placeholder:"Search\u2026",endAdornment:Object(a.jsx)(ia.a,{position:"end",children:Object(a.jsx)(Pn.a,{className:n.iconSearch})}),startAdornment:Object(a.jsx)(ia.a,{position:"start",children:Object(a.jsx)(st.a,{})})})})})),la=Object(C.a)(sa)(oa),da=c.a.forwardRef((function(e,t){var n=e.classes,c=(e.style,e.className,e.user),i=e.roles,s=e.open,o=e.onClose,d=e.onRemove,j=e.onAddRole,u=e.onRemoveRole,b=ea(),O=(0,y().getUser)(),h=Object(r.useState)(null),m=Object(l.a)(h,2),f=m[0],p=m[1],g=Object(r.useState)(null),x=Object(l.a)(g,2),v=(x[0],x[1],Object(r.useState)(i)),w=Object(l.a)(v,2),k=w[0],N=w[1],C=Object(r.useState)(""),S=Object(l.a)(C,2),E=S[0],R=S[1];return Object(r.useEffect)((function(){N(i.filter((function(e){return e.name.toLowerCase().includes(E)})))}),[E]),Object(r.useEffect)((function(){N(i)}),[i]),Object(a.jsxs)(St.a,{open:s,onClose:o,fullWidth:!0,maxWidth:"sm",children:[Object(a.jsx)(z.a,{className:n.userContainer,style:(null===c||void 0===c?void 0:c.roles.length)?{background:"linear-gradient(45deg, #".concat(null===c||void 0===c?void 0:c.roles[0].color,", #fff 100%)")}:{background:"transparent"},children:Object(a.jsxs)(Q.a,{container:!0,children:[Object(a.jsx)(Q.a,{item:!0,xs:12,children:Object(a.jsx)(z.a,{className:n.avatarContainer,children:Object(a.jsx)(_.a,{className:n.avatar,src:"https://cdn.sportclub.ru/assets/2019-09-20/n97c311rvb.jpg"})})}),Object(a.jsxs)(Q.a,{item:!0,xs:12,children:[Object(a.jsx)(B.a,{variant:"h6",className:n.dialogUsers,children:null===c||void 0===c?void 0:c.username}),Object(a.jsx)(B.a,{variant:"body2",className:n.info,children:"JeyM1@gmail.com"})]})]})}),Object(a.jsxs)(L.a,{children:[Object(a.jsxs)(Xe.a,{className:n.listItemHeader,children:[Object(a.jsx)(Ye.a,{primaryTypographyProps:{variant:"h6"},children:"Roles"}),Object(a.jsx)(mn.a,{onClick:function(e){p(e.currentTarget)},children:Object(a.jsx)(J.a,{children:Object(a.jsx)(Nn.a,{})})}),Object(a.jsxs)(ta.a,{className:n.menu,id:"simple-menu",anchorEl:f,keepMounted:!0,open:Boolean(f),onClose:function(){p(null)},anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},classes:{paper:n.menuPaper},children:[Object(a.jsx)(Xe.a,{className:n.menuHeader,children:Object(a.jsx)(Ye.a,{primaryTypographyProps:{variant:"h6"},children:"Add Role to User"})}),Object(a.jsx)(G.a,{}),Object(a.jsx)(Xe.a,{children:Object(a.jsx)(la,{onChange:function(e){R(e.target.value.toLowerCase())}})}),0!==k.length?k.map((function(e){return Object(a.jsx)(Xe.a,{button:!0,onClick:function(){return j(e.id,null===c||void 0===c?void 0:c.id)},children:Object(a.jsx)(Ye.a,{className:n.menuListItemText,style:e.color?{borderLeft:"4px solid #".concat(e.color)}:{borderLeft:0},primary:e.name,secondary:e.description})},e.id)})):Object(a.jsx)(z.a,{className:n.notFound,children:Object(a.jsx)(B.a,{variant:"h5",color:"textSecondary",children:"No roles found"})})]})]}),Object(a.jsx)(G.a,{}),null===c||void 0===c?void 0:c.roles.map((function(e){return Object(a.jsxs)(Xe.a,{children:[Object(a.jsx)(hn.a,{style:{minWidth:16},children:Object(a.jsx)(z.a,{className:n.colorBar,style:e.color?{backgroundColor:"#".concat(e.color)}:{backgroundColor:"transparent"}})}),Object(a.jsx)(Ye.a,{primary:e.name,secondary:e.description}),Object(a.jsx)(mn.a,{onClick:function(){return u(e.id,null===c||void 0===c?void 0:c.id)},children:Object(a.jsx)(J.a,{children:Object(a.jsx)(wn.a,{})})})]})})),Object(a.jsx)(G.a,{}),Object(a.jsx)(Xe.a,{className:n.dangerZoneHeader,children:Object(a.jsx)(Ye.a,{primaryTypographyProps:{variant:"h6"},children:"Danger Zone"})}),Object(a.jsx)(G.a,{className:n.dangerZoneDivider}),Object(a.jsx)(z.a,{className:n.dangerZoneContainer,children:Object(a.jsx)(Pt.a,{className:n.dangerZoneButton,variant:"contained",color:"secondary",onClick:function(){return b(Object($.a)(K.a.mark((function e(){return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",d([null===c||void 0===c?void 0:c.id]));case 1:case"end":return e.stop()}}),e)}))),{title:"are you sure you want to remove user: ".concat(null===c||void 0===c?void 0:c.username," ?")})},children:(null===O||void 0===O?void 0:O.id)===(null===c||void 0===c?void 0:c.id)?"Leave from Organization":"Remove User from Organization"})})]})]})})),ja=Object(C.a)(aa)(da),ua=n(412),ba=function(e){var t;return Object(k.a)({dialog:(t={minWidth:500},Object(S.a)(t,e.breakpoints.down("xs"),{minWidth:300}),Object(S.a)(t,"height",512),Object(S.a)(t,"overflow","auto"),t),search:{position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(na.c)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(na.c)(e.palette.common.white,.25)},marginLeft:0,width:"100%"},searchBar:{padding:e.spacing(1,1.5,0,1.5)},searchIcon:{padding:e.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit"},inputInput:Object(S.a)({padding:e.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(e.spacing(4),"px)"),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("sm"),{width:"40ch"}),paddingNoneBottom:{paddingBottom:0},searchInput:{background:It.a[700],borderRadius:4,padding:e.spacing(.5,1)},iconSearch:{"&:hover":{color:"#454545",cursor:"pointer"}}})},Oa=c.a.forwardRef((function(e,t){var n=e.classes,r=(e.style,e.className,e.open),c=(e.allUsers,e.newUsers),i=e.onClose,s=e.onNewUserClick,o=e.onAdduser,l=e.availableUsers;return Object(a.jsxs)(St.a,{open:r,onClose:i,children:[Object(a.jsx)(Et.a,{className:n.paddingNoneBottom,children:"Choose users to add"}),Object(a.jsx)(z.a,{className:n.searchBar,children:Object(a.jsx)(la,{})}),Object(a.jsx)(L.a,{className:n.dialog,children:l.map((function(e){return Object(a.jsxs)(Xe.a,{button:!0,onClick:function(){return s(e.id)},children:[Object(a.jsx)(hn.a,{children:Object(a.jsx)(_.a,{})}),Object(a.jsx)(Ye.a,{primary:e.username,secondary:"department"}),Object(a.jsx)(ua.a,{checked:c.includes(e.id),color:"primary",disableFocusRipple:!0,disableTouchRipple:!0,disableRipple:!0,style:{backgroundColor:"transparent"},inputProps:{"aria-label":"secondary checkbox"}})]},e.id)}))}),Object(a.jsx)(Pt.a,{fullWidth:!0,onClick:function(){return o(c)},children:"Add new users"})]})})),ha=Object(C.a)(ba)(Oa),ma=n(142),fa=n.n(ma),pa=n(396),ga=function(e){return Object(k.a)({firstLine:{justifyContent:"center",alignItems:"center",listStyleType:"none"},dialogRoles:{width:"100%",textAlign:"center",paddingBottom:e.spacing(2)},gridPadding:{marginBottom:e.spacing(1)},paddingNone:{paddingLeft:0,paddingBottom:0},newRole:Object(S.a)({},e.breakpoints.down("xs"),{maxWidth:375}),makeDefaultButton:{backgroundColor:pa.a[700],"&:hover":{backgroundColor:pa.a[600]}},disabledButton:{backgroundColor:pa.a[900]}})},xa=function(e){var t;return Object(k.a)({container:{display:"flex",flexDirection:"row",justifyContent:"space-between",flexWrap:"wrap",width:"100%",padding:e.spacing(1)},defaultContainer:{display:"flex",flexDirection:"row",flexWrap:"wrap"},color:{width:30,height:30,borderRadius:5,marginRight:3,marginLeft:3,marginBottom:6,padding:0},inputContainer:{display:"flex",flexDirection:"row"},paddingLeft:{paddingLeft:e.spacing(1),width:"100%"},inputAdornment:{display:"flex",alignItems:"center",justifyContent:"center",width:30,height:30,background:dt.a[200],borderRadius:"4px 0px 0px 4px",textAlign:"center",color:dt.a[600]},input:(t={maxWidth:110},Object(S.a)(t,e.breakpoints.down("xs"),{maxWidth:"100%",minWidth:"80%",width:"90%"}),Object(S.a)(t,"height",30),Object(S.a)(t,"padding",0),Object(S.a)(t,"color",dt.a[700]),Object(S.a)(t,"border","1px solid ".concat(dt.a[200])),Object(S.a)(t,"borderRadius","0px 4px 4px 0px"),t),insideInput:{marginLeft:5}})},va=c.a.forwardRef((function(e,t){var n,c=e.classes,i=e.className,s=e.onChange,o=e.color,d=e.handleGetInvalidColor,j=Object(M.a)(),u=Object(r.useState)(o||"FFF"),b=Object(l.a)(u,2),O=b[0],h=b[1],m=Object(r.useState)(!1),f=Object(l.a)(m,2),p=f[0],g=f[1];function x(e){if(!e)return!1;switch("#"===e.substring(0,1)&&(e=e.substring(1)),e.length){case 3:return/^[0-9A-F]{3}$/i.test(e);case 6:return/^[0-9A-F]{6}$/i.test(e);case 8:return/^[0-9A-F]{8}$/i.test(e);default:return!1}}return console.log(O),Object(r.useEffect)((function(){o&&x(o)?h(o):h("f44336")}),[o]),n=Object(U.a)(j.breakpoints.up("sm"))?"auto":"100%",Object(a.jsxs)(L.a,{className:Object(je.a)(c.container,i),children:[Object(a.jsx)(z.a,{className:c.defaultContainer,children:["FF6900","FCB900","00D084","8ED1FC","0693E3","ABB8C3","EB144C","F78DA7","9900EF"].map((function(e,t){return Object(a.jsx)(Xe.a,{button:!0,className:c.color,style:O===e?{background:"#".concat(e),boxShadow:"#".concat(e," 0px 0px 8px")}:{background:"#".concat(e)},onClick:function(){return t=e,!o&&h(t),g(!1),void(s&&s(t));var t}},t)}))}),Object(a.jsxs)(z.a,{className:c.inputContainer,style:{width:n},children:[Object(a.jsx)(z.a,{className:c.inputAdornment,style:{background:"#".concat(O||"FFF"),border:"1px solid #".concat(O||"FFF"),color:j.palette.getContrastText("#".concat(O||"FFF"))},children:"#"}),Object(a.jsx)(ca.a,{onChange:function(e){!o&&h(e.target.value),s&&s(e.target.value),x("#"+e.target.value)?d&&d("FFF"):d&&d("f44336")},className:c.input,value:o,classes:{input:c.paddingLeft},inputProps:{maxLength:6},onBlur:function(e){x("#".concat(e.target.value))?g(!1):g(!0)},style:p?{border:"2px solid ".concat(xn.a[600])}:{border:"1px solid ".concat(It.a[200])}})]})]})})),ya=Object(C.a)(xa)(va),wa=function(e){return Object(k.a)({paddingNone:{paddingLeft:0,paddingBottom:0},scroll:{height:256,overflow:"auto"}})},ka=n(397),Na=c.a.forwardRef((function(e,t){e.style;var n=e.classes,r=(e.className,e.handleSwitch),c=e.addRole;return Object(a.jsx)(Q.a,{item:!0,xs:12,children:Object(a.jsxs)(L.a,{className:n.scroll,children:[Object(a.jsxs)(Xe.a,{className:n.paddingNone,children:[Object(a.jsx)(Ye.a,{primary:"User manager",secondary:"Can manage users"}),Object(a.jsx)(mn.a,{children:Object(a.jsx)(ka.a,{checked:c.canManageUsers,onChange:r,name:"canManageUsers",inputProps:{"aria-label":"secondary checkbox"}})})]}),Object(a.jsxs)(Xe.a,{className:n.paddingNone,children:[Object(a.jsx)(Ye.a,{primary:"Jobs creator",secondary:"Can create jobs"}),Object(a.jsx)(mn.a,{children:Object(a.jsx)(ka.a,{checked:c.canCreateJobs,onChange:r,name:"canCreateJobs",inputProps:{"aria-label":"secondary checkbox"}})})]}),Object(a.jsxs)(Xe.a,{className:n.paddingNone,children:[Object(a.jsx)(Ye.a,{primary:"Jobs editor",secondary:"Can edit jobs"}),Object(a.jsx)(mn.a,{children:Object(a.jsx)(ka.a,{checked:c.canEditJobs,onChange:r,name:"canEditJobs",inputProps:{"aria-label":"secondary checkbox"}})})]}),Object(a.jsxs)(Xe.a,{className:n.paddingNone,children:[Object(a.jsx)(Ye.a,{primary:"Jobs delete",secondary:"Can delete jobs"}),Object(a.jsx)(mn.a,{children:Object(a.jsx)(ka.a,{checked:c.canDeleteJobs,onChange:r,name:"canDeleteJobs",inputProps:{"aria-label":"secondary checkbox"}})})]}),Object(a.jsxs)(Xe.a,{className:n.paddingNone,children:[Object(a.jsx)(Ye.a,{primary:"Roles manager",secondary:"Can manage roles"}),Object(a.jsx)(mn.a,{children:Object(a.jsx)(ka.a,{checked:c.canManageRoles,onChange:r,name:"canManageRoles",inputProps:{"aria-label":"secondary checkbox"}})})]}),Object(a.jsxs)(Xe.a,{className:n.paddingNone,children:[Object(a.jsx)(Ye.a,{primary:"Plugin manager",secondary:"Can manage plugins"}),Object(a.jsx)(mn.a,{children:Object(a.jsx)(ka.a,{checked:c.canManagePlugins,onChange:r,name:"canManagePlugins",inputProps:{"aria-label":"secondary checkbox"}})})]}),Object(a.jsxs)(Xe.a,{className:n.paddingNone,children:[Object(a.jsx)(Ye.a,{primary:"Team manager",secondary:"Can manage teams"}),Object(a.jsx)(mn.a,{children:Object(a.jsx)(ka.a,{checked:c.canManageTeams,onChange:r,name:"canManageTeams",inputProps:{"aria-label":"secondary checkbox"}})})]}),Object(a.jsxs)(Xe.a,{className:n.paddingNone,children:[Object(a.jsx)(Ye.a,{primary:"Audit editor",secondary:"Can edit audit"}),Object(a.jsx)(mn.a,{children:Object(a.jsx)(ka.a,{checked:c.canEditAudit,onChange:r,name:"canEditAudit",inputProps:{"aria-label":"secondary checkbox"}})})]})]})})})),Ca=Object(C.a)(wa)(Na),Sa=K.a.mark(Ea);function Ea(){var e;return K.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=0;case 1:return e++,t.next=5,e;case 5:t.next=1;break;case 7:return t.abrupt("return",e);case 8:case"end":return t.stop()}}),Sa)}var Ra=c.a.forwardRef((function(e,t){var n=e.classes,i=(e.style,e.className,e.modify),s=e.role,o=e.open,d=e.onClose,j=e.onAddRole,u=e.onModifyRole,b=e.isDefault,O=e.onExited,h=0,m=c.a.useRef(Ea());if(o){h=m.current.next().value}var f=Object(r.useState)(b||!1),p=Object(l.a)(f,2),g=p[0],x=p[1],v=Object(r.useState)(""),y=Object(l.a)(v,2),w=y[0],k=y[1],N=Ee(),C=Object(M.a)(),R=Object(r.useState)({id:(null===s||void 0===s?void 0:s.id)||h,name:(null===s||void 0===s?void 0:s.name)||"",description:(null===s||void 0===s?void 0:s.description)||"",color:(null===s||void 0===s?void 0:s.color)||"FFF",permissionLevel:(null===s||void 0===s?void 0:s.permissionLevel)||1,canManageUsers:(null===s||void 0===s?void 0:s.canManageUsers)||!1,canCreateJobs:(null===s||void 0===s?void 0:s.canCreateJobs)||!1,canEditJobs:(null===s||void 0===s?void 0:s.canEditJobs)||!1,canDeleteJobs:(null===s||void 0===s?void 0:s.canDeleteJobs)||!1,canManageRoles:(null===s||void 0===s?void 0:s.canManageRoles)||!1,canManagePlugins:(null===s||void 0===s?void 0:s.canManagePlugins)||!1,canManageTeams:(null===s||void 0===s?void 0:s.canManageTeams)||!1,canEditAudit:(null===s||void 0===s?void 0:s.canEditAudit)||!1}),P=Object(l.a)(R,2),I=P[0],T=P[1],L=Object(r.useState)({noInputError:!1,nameError:!1,descriptionError:!1,permissionLevelError:!1}),B=Object(l.a)(L,2),F=B[0],A=B[1];Object(r.useEffect)((function(){s&&T({id:s.id,name:s.name,description:null===s||void 0===s?void 0:s.description,color:s.color,permissionLevel:s.permissionLevel,canManageUsers:s.canManageUsers,canCreateJobs:s.canCreateJobs,canEditJobs:s.canEditJobs,canDeleteJobs:s.canDeleteJobs,canManageRoles:s.canManageRoles,canManagePlugins:s.canManagePlugins,canManageTeams:s.canManageTeams,canEditAudit:s.canEditAudit})}),[s]);var W=function(e){return function(t){t.persist(),T("permissionLevel"!==e?function(n){return n&&Object(E.a)(Object(E.a)({},n),{},Object(S.a)({},e,t.target.value))}:function(n){return n&&Object(E.a)(Object(E.a)({},n),{},Object(S.a)({},e,+t.target.value))})}};console.log("Invalid",w);var D=function(e){A((function(e){return Object(E.a)(Object(E.a)({},e),{},{noInputError:!1})})),"name"===e.target.name&&(I.name.match(/[^A-Za-z0-9_ ]/)||!I.name||I.name.length<3||I.name.length>50?A((function(e){return Object(E.a)(Object(E.a)({},e),{},{nameError:!0})})):A((function(e){return Object(E.a)(Object(E.a)({},e),{},{nameError:!1})}))),"description"===e.target.name&&(!I.description||I.name.length>500?A((function(e){return Object(E.a)(Object(E.a)({},e),{},{descriptionError:!0})})):A((function(e){return Object(E.a)(Object(E.a)({},e),{},{descriptionError:!1})}))),"permissionLevel"===e.target.name&&(!I.permissionLevel||I.permissionLevel<0||I.permissionLevel>1e3?A((function(e){return Object(E.a)(Object(E.a)({},e),{},{permissionLevelError:!0})})):A((function(e){return Object(E.a)(Object(E.a)({},e),{},{permissionLevelError:!1})})))};function z(){d(),A({noInputError:!1,nameError:!1,descriptionError:!1,permissionLevelError:!1}),x(!1)}return Object(a.jsxs)(St.a,{open:o,onClose:z,onExited:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){O&&O(),T({id:h,name:"",description:"",color:"fff",permissionLevel:1,canManageUsers:!1,canCreateJobs:!1,canEditJobs:!1,canDeleteJobs:!1,canManageRoles:!1,canManagePlugins:!1,canManageTeams:!1,canEditAudit:!1})})),children:[Object(a.jsx)(Et.a,{className:n.dialogRoles,style:{background:"#".concat("f44336"!==w?I.color||"FFF":w),color:C.palette.getContrastText("#".concat("f44336"!==w?I.color||"FFF":w))},children:i?"Modify role":"Add new role"}),Object(a.jsx)(G.a,{}),Object(a.jsx)(Xe.a,{className:n.newRole,children:Object(a.jsxs)(Q.a,{container:!0,children:[Object(a.jsx)(Q.a,{item:!0,xs:12,className:n.gridPadding,children:Object(a.jsx)(En.a,{error:F.nameError,variant:"standard",required:!0,fullWidth:!0,name:"name",label:"Name",value:null===I||void 0===I?void 0:I.name,onChange:W("name"),onBlur:D})}),Object(a.jsx)(Q.a,{item:!0,xs:12,className:n.gridPadding,children:Object(a.jsx)(En.a,{error:F.descriptionError,variant:"standard",fullWidth:!0,multiline:!0,rowsMax:5,name:"description",label:"Description",value:null===I||void 0===I?void 0:I.description,onChange:W("description"),onBlur:D})}),Object(a.jsx)(Q.a,{item:!0,xs:12,className:n.gridPadding,children:Object(a.jsx)(En.a,{error:F.permissionLevelError,type:"number",variant:"standard",required:!0,fullWidth:!0,name:"permissionLevel",label:"Permission Level",value:null===I||void 0===I?void 0:I.permissionLevel,onChange:W("permissionLevel"),onBlur:D})}),i&&Object(a.jsx)(Pt.a,{fullWidth:!0,onClick:function(){x(!0)},className:n.makeDefaultButton,disabled:b||g,classes:{disabled:n.disabledButton},children:"Mark as default"}),Object(a.jsx)(Q.a,{item:!0,xs:12,className:n.gridPadding,children:Object(a.jsx)(ya,{onChange:function(e){T((function(t){return t&&Object(E.a)(Object(E.a)({},t),{},{color:e})}))},color:I.color,handleGetInvalidColor:function(e){console.log("###########",e),k(e)}})}),Object(a.jsx)(Q.a,{container:!0,className:n.firstLine,children:Object(a.jsx)(Ca,{addRole:I,handleSwitch:function(e){T((function(t){return Object(E.a)(Object(E.a)({},t),{},Object(S.a)({},e.target.name,e.target.checked))}))}})}),Object(a.jsx)(Pt.a,{fullWidth:!0,onClick:function(){F.noInputError||F.nameError||F.descriptionError||F.permissionLevelError||"f44336"===w?N("Invalid input"):(i?u&&u(null===s||void 0===s?void 0:s.id,I,g):j(I,F),z())},children:"Accept"})]})})]})})),Pa=Object(C.a)(ga)(Ra),Ia=n(75),Ta=function(e){return Object(k.a)({pluginDialogTitle:{width:"100%",textAlign:"center"},maxDialogWidth:{width:900},descriptionPadding:{padding:e.spacing(0,2,0,2)},descriptionListItem:{paddingBottom:e.spacing(0)},mainBox:{display:"flex"},boxWithInfo:{width:320,marginRight:20,margin:e.spacing(1,0,1,0)},readmeBox:{width:550,borderLeft:"1px solid ".concat(It.a[700]),margin:e.spacing(1,0,1,0),marginRight:10},readme:{height:400,overflow:"auto",margin:e.spacing(1,1.5,1,2)},descriptionOverflow:{width:300},noReadme:{display:"flex",textAlign:"center",justifyContent:"center",alignItems:"center"},settingSpecList:{height:480,overflow:"auto"}})},La=n(224),Ba=n(102),Fa=n.n(Ba),Aa=n(103),Wa=n.n(Aa),Da=n(104),Ma=n.n(Da),za=n(105),Ua=n.n(za),Ja=n(233),_a=n(398),qa=n(399),Ha=Object(Ja.a)({palette:{type:"dark",header:{main:_a.a[600],dark:It.a[900],light:_a.a[300]},baseLightColors:{main:It.a[200],dark:It.a[300],light:It.a[100]},baseColors:{main:It.a[500],dark:It.a[600],light:It.a[400]},baseDarkColors:{main:It.a[800],dark:It.a[900],light:It.a[700]},primary:{main:qa.a[400]}}}),Ga=c.a.forwardRef((function(e,t){e.style;var n,r=e.classes,i=(e.className,e.open),s=e.currentPlugin,o=e.onClose,d=null===(n=s.readme)||void 0===n?void 0:n.split("\n");function j(e){var t=e.children,n=e.value,r=e.index,c=Object($e.a)(e,["children","value","index"]);return console.log(s),Object(a.jsx)("div",Object(E.a)(Object(E.a)({role:"tabpanel",hidden:n!==r,id:"full-width-tabpanel-".concat(r),"aria-labelledby":"full-width-tab-".concat(r)},c),{},{children:n===r&&Object(a.jsx)(z.a,{children:Object(a.jsx)(B.a,{children:t})})}))}function u(e){return{id:"full-width-tab-".concat(e),"aria-controls":"full-width-tabpanel-".concat(e)}}var b=c.a.useState(0),O=Object(l.a)(b,2),h=O[0],m=O[1];return Object(a.jsxs)(St.a,{open:i,onClose:o,maxWidth:!1,children:[Object(a.jsx)(Et.a,{className:r.pluginDialogTitle,children:s.name}),Object(a.jsx)(G.a,{}),Object(a.jsxs)(Ot.a,{value:h,onChange:function(e,t){m(t)},indicatorColor:"primary",className:r.tabsColor,variant:"fullWidth",children:[Object(a.jsx)(ht.a,Object(E.a)({label:"Info"},u(0))),Object(a.jsx)(ht.a,Object(E.a)({label:"Settings Spec"},u(1)))]}),Object(a.jsx)(j,{value:h,index:0,children:Object(a.jsxs)(z.a,{className:r.mainBox,children:[Object(a.jsx)(z.a,{className:r.boxWithInfo,children:Object(a.jsxs)(L.a,{style:{paddingTop:0},children:[Object(a.jsx)(Xe.a,{className:r.descriptionListItem,style:{paddingTop:0},children:Object(a.jsx)(Ye.a,{primary:"Version",secondary:s.version,secondaryTypographyProps:{variant:"body2"}})}),s.description&&Object(a.jsxs)(c.a.Fragment,{children:[Object(a.jsx)(Xe.a,{className:r.descriptionListItem,children:Object(a.jsx)(Ye.a,{primary:"Description"})}),Object(a.jsx)(z.a,{className:Object(je.a)(r.maxDialogWidth,r.descriptionPadding),children:Object(a.jsx)(B.a,{align:"justify",variant:"body2",color:"textSecondary",className:r.descriptionOverflow,children:s.description})})]}),s.note&&Object(a.jsxs)(c.a.Fragment,{children:[Object(a.jsx)(Xe.a,{className:r.descriptionListItem,children:Object(a.jsx)(Ye.a,{primary:"Note"})}),Object(a.jsx)(z.a,{className:Object(je.a)(r.maxDialogWidth,r.descriptionPadding),children:Object(a.jsx)(B.a,{align:"justify",variant:"body2",color:"textSecondary",className:r.descriptionOverflow,children:s.note})})]})]})}),Object(a.jsxs)(z.a,{className:r.readmeBox,children:[Object(a.jsx)(B.a,{variant:"h5",align:"center",style:{padding:Ha.spacing(1,0,1,0)},children:"README"}),Object(a.jsx)(G.a,{}),s.readme?Object(a.jsx)(z.a,{className:r.readme,children:null===d||void 0===d?void 0:d.map((function(e){return Object(a.jsx)(La.a,{children:e})}))}):Object(a.jsx)(z.a,{className:Object(je.a)(r.readme,r.noReadme),children:"No ReadMe were provided"})]})]})}),Object(a.jsx)(j,{value:h,index:1,children:Object(a.jsx)(L.a,{className:Object(je.a)(r.maxDialogWidth,r.settingSpecList),children:s.rules.map((function(e){return Object(a.jsxs)(Xe.a,{children:[Object(a.jsx)(hn.a,{children:Object(a.jsxs)(_.a,{children:["string"===e.getType()&&Object(a.jsx)(Fa.a,{}),"separator"===e.getType()&&Object(a.jsx)(Wa.a,{}),"boolean"===e.getType()&&Object(a.jsx)(Tn.a,{}),("integer"===e.getType()||"float"===e.getType())&&Object(a.jsx)(Ma.a,{}),"folder"===e.getType()&&Object(a.jsx)(Ua.a,{})]})}),Object(a.jsx)(Ye.a,{primary:e.name,secondary:e.getType()})]})}))})}),Object(a.jsx)(Pt.a,{fullWidth:!0,onClick:o,children:"Close"})]})})),Za=Object(C.a)(Ta)(Ga),Va=function(e){return Object(k.a)({pluginDialogTitle:{width:"100%",textAlign:"center"},root:{backgroundColor:e.palette.background.paper,width:800,minHeight:600},paddingNone:{padding:0},field:{paddingBottom:e.spacing(2)}})};function Ya(e){var t=e.children,n=e.value,r=e.index,c=Object($e.a)(e,["children","value","index"]);return Object(a.jsx)("div",Object(E.a)(Object(E.a)({role:"tabpanel",hidden:n!==r,id:"full-width-tabpanel-".concat(r),"aria-labelledby":"full-width-tab-".concat(r)},c),{},{children:n===r&&Object(a.jsx)(z.a,{p:3,children:Object(a.jsx)(B.a,{children:t})})}))}function Ka(e){return{id:"full-width-tab-".concat(e),"aria-controls":"full-width-tabpanel-".concat(e)}}var $a=c.a.forwardRef((function(e,t){e.style;var n=e.classes,c=(e.className,e.open),i=e.onClose,s=Object(M.a)(),o=Object(r.useState)({name:"name",version:"version"}),d=Object(l.a)(o,2),j=d[0],u=(d[1],Object(r.useState)([])),b=Object(l.a)(u,2),O=b[0],h=b[1],m=Object(r.useState)([]),f=Object(l.a)(m,2),p=f[0],g=f[1],x=Object(r.useState)(0),v=Object(l.a)(x,2),y=v[0],w=v[1],k=Object(r.useState)(!1),N=Object(l.a)(k,2),C=N[0],S=N[1];Object(r.useEffect)((function(){var e=Object.entries(j),t=[];e.forEach((function(e){var n=Object(l.a)(e,2),a=n[0],r=n[1];t.push({key:a,value:r})})),h(t)}),[c]);var R=function(e,t){e.persist();var n=Object(ee.a)(O);n.map((function(a,r){t===r&&(a[e.target.name]=e.target.value,n.splice(t,1,a))})),h(n)},I=function(){console.log(p),g(O.map((function(e){return Object(E.a)({},e)}))),S(!C)};return Object(a.jsxs)(St.a,{open:c,onClose:function(){h([]),g([]),i()},maxWidth:!1,children:[Object(a.jsx)(Et.a,{className:n.pluginDialogTitle,children:"Slave"}),Object(a.jsxs)(z.a,{className:n.root,children:[Object(a.jsx)(P.a,{position:"static",color:"default",children:Object(a.jsxs)(Ot.a,{value:y,onChange:function(e,t){w(t)},indicatorColor:"primary",textColor:"primary",variant:"fullWidth","aria-label":"full width tabs example",children:[Object(a.jsx)(ht.a,Object(E.a)({label:"Slave information"},Ka(0))),Object(a.jsx)(ht.a,Object(E.a)({label:"Slave env"},Ka(1)))]})}),Object(a.jsxs)(bt.a,{axis:"rtl"===s.direction?"x-reverse":"x",index:y,onChangeIndex:function(e){w(e)},children:[Object(a.jsx)(Ya,{value:y,index:0,dir:s.direction,children:Object(a.jsxs)(z.a,{children:[Object(a.jsx)(B.a,{variant:"h6",children:"Name: Slave Name"}),Object(a.jsx)(B.a,{variant:"h6",children:"Info: Info"}),Object(a.jsx)(B.a,{variant:"h6",children:"Info: Info"}),Object(a.jsx)(B.a,{variant:"h6",children:"Info: Info"})]})}),Object(a.jsxs)(Ya,{value:y,index:1,dir:s.direction,children:[Object(a.jsxs)(L.a,{className:Object(je.a)(n.paddingNone,n.field),children:[Object(a.jsxs)(Xe.a,{className:n.paddingNone,children:[Object(a.jsx)(Ye.a,{primary:"Environment variables",primaryTypographyProps:{variant:"h6"}}),Object(a.jsx)(mn.a,{children:C&&Object(a.jsx)(J.a,{edge:"end","aria-label":"delete",onClick:function(){h((function(e){return[].concat(Object(ee.a)(e),[{key:"",value:""}])}))},children:Object(a.jsx)(Nn.a,{})})})]}),Object(a.jsx)(G.a,{style:{marginBottom:8}}),O.map((function(e,t){return Object(a.jsx)(Xe.a,{children:Object(a.jsxs)(Q.a,{container:!0,spacing:2,children:[Object(a.jsx)(Q.a,{item:!0,xs:4,children:Object(a.jsx)(En.a,{disabled:!C,fullWidth:!0,label:"key",name:"key",value:e.key,onChange:function(e){return R(e,t)}})}),Object(a.jsx)(Q.a,{item:!0,xs:C?7:8,children:Object(a.jsx)(En.a,{disabled:!C,fullWidth:!0,label:"value",name:"value",value:e.value,onChange:function(e){return R(e,t)}})}),C&&Object(a.jsx)(Q.a,{item:!0,xs:1,children:Object(a.jsx)(mn.a,{children:Object(a.jsx)(J.a,{edge:"end","aria-label":"delete",style:{marginRight:0,marginTop:16},onClick:function(){return function(e){var t=Object(ee.a)(O);t.splice(e,1),h(t)}(t)},children:Object(a.jsx)(wn.a,{})})})})]})},t)}))]}),C?Object(a.jsxs)(Q.a,{container:!0,spacing:2,children:[Object(a.jsx)(Q.a,{item:!0,xs:6,children:Object(a.jsx)(Pt.a,{fullWidth:!0,variant:"contained",color:"primary",onClick:I,children:"Save"})}),Object(a.jsx)(Q.a,{item:!0,xs:6,children:Object(a.jsx)(Pt.a,{fullWidth:!0,variant:"contained",color:"primary",onClick:function(){console.log("cancel:",p),h(p.map((function(e){return Object(E.a)({},e)}))),S(!1)},children:"Cancel"})})]}):Object(a.jsx)(Pt.a,{fullWidth:!0,variant:"contained",color:"primary",onClick:I,children:"Edit"})]})]})]})]})})),Qa=Object(C.a)(Va)($a),Xa=c.a.forwardRef((function(e,t){var n=e.classes,i=(e.className,y()),s=i.logout,o=i.getUser,d=Ee(),j=Ne(),u=Object(fe.b)(),b=u.getRouteParams,O=u.changeRoute,h=b().id,m=ea(),f=Object(r.useState)(!1),p=Object(l.a)(f,2),g=p[0],x=p[1],v=Object(r.useState)(),w=Object(l.a)(v,2),k=w[0],N=w[1],C=Object(r.useState)(!1),S=Object(l.a)(C,2),R=S[0],P=S[1],I=Object(r.useState)(!1),T=Object(l.a)(I,2),B=T[0],F=T[1],A=Object(r.useState)(null),W=Object(l.a)(A,2),D=(W[0],W[1]),q=Object(r.useState)(null),H=Object(l.a)(q,2),G=(H[0],H[1]),Z=Object(r.useState)(null),Y=Object(l.a)(Z,2),X=(Y[0],Y[1]),te=Object(r.useState)([]),ne=Object(l.a)(te,2),ae=ne[0],re=ne[1],ce=Object(r.useState)(),ie=Object(l.a)(ce,2),se=ie[0],oe=ie[1],le=Object(r.useState)(null),de=Object(l.a)(le,2),je=(de[0],de[1],Object(r.useState)(!1)),ue=Object(l.a)(je,2),be=ue[0],Oe=ue[1],he=Object(r.useState)(!1),me=Object(l.a)(he,2),pe=(me[0],me[1]),ge=c.a.useState(!1),xe=Object(l.a)(ge,2),ve=(xe[0],xe[1],Object(r.useState)(!1)),ye=Object(l.a)(ve,2),we=ye[0],ke=ye[1],Ce=Object(r.useState)(!1),Se=Object(l.a)(Ce,2),Re=Se[0],Pe=Se[1],Ie=Object(r.useState)(null),Le=Object(l.a)(Ie,2),Be=Le[0],Fe=Le[1],Ae=Object(r.useState)(null),We=Object(l.a)(Ae,2),De=We[0],Me=We[1],ze=Object(r.useState)([]),Ue=Object(l.a)(ze,2),Je=Ue[0],_e=Ue[1],qe=Object(r.useState)([]),He=Object(l.a)(qe,2),Ze=He[0],Ve=He[1],Ke=Object(r.useState)([]),$e=Object(l.a)(Ke,2),Qe=$e[0],et=$e[1],tt=Object(r.useState)(null),nt=Object(l.a)(tt,2),at=nt[0],rt=nt[1],ct=Object(r.useState)(),it=Object(l.a)(ct,2),st=it[0],lt=it[1],dt=Object(r.useState)(),jt=Object(l.a)(dt,2),ut=jt[0],bt=jt[1],Ot=Object(r.useState)(!1),ht=Object(l.a)(Ot,2),mt=ht[0],ft=ht[1],pt=Object(r.useState)(),gt=Object(l.a)(pt,2),xt=gt[0],vt=gt[1],yt=Object(r.useState)(!1),wt=Object(l.a)(yt,2),kt=wt[0],Nt=wt[1];Object(r.useEffect)((function(){x(!1),Promise.all([zt(),Jt(),Dt(),Et(),Tt(),qt()]).then((function(){x(!0)}))}),[h]);var Ct=function(e){var t,n=o();n&&(t=e.filter((function(e){return e.id===n.id})))&&N(t[0])},St=function(e){return!(!k||!(k.roles.length>0&&k.roles[0][e]||k.id===(null===Be||void 0===Be?void 0:Be.ownerUser.id)))};function Et(){return Rt.apply(this,arguments)}function Rt(){return(Rt=Object($.a)(K.a.mark((function e(){var t;return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j().get("organizations/".concat(h,"/roles"));case 3:t=e.sent,re(t.body),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),new Ge(d).on(401,(function(){s()})).on(404,"Organization not found").handle(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function It(){return(It=Object($.a)(K.a.mark((function e(t){var n;return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j().get("organizations/".concat(h,"/roles/").concat(t));case 3:n=e.sent,oe(n.body),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),new Ge(d).on(401,(function(){s()})).on(404,"Role not found").handle(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function Tt(){return Lt.apply(this,arguments)}function Lt(){return(Lt=Object($.a)(K.a.mark((function e(){var t;return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j().get("plugins").query({organization:h});case 3:t=e.sent,bt(t.body),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),new Ge(d).on(401,(function(){s()})).on(404,"Organization not found").handle(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function Bt(e,t){if(t.noInputError||t.nameError||t.descriptionError||t.permissionLevelError)d("Invalid data types");else{P(!1);var n=e;n.permissionLevel=+n.permissionLevel,j().post("organizations/".concat(h,"/roles")).send(n).then((function(e){Et().then()})).catch((function(e){new Ge(d).on(400,"Can not add new role").on(401,(function(){s()})).on(409,"Role with this name already exist").handle(e)}))}}function Ft(e,t,n){F(!1),t.permissionLevel=+t.permissionLevel;var a=Object(E.a)({},t);delete a.id,j().post("organizations/".concat(h,"/roles/").concat(e)).send(a).then((function(e){Et().then(),Dt().then()})).catch((function(e){new Ge(d).on(400,"Can not edit role").on(401,(function(){s()})).on(404,"Role not found").on(409,"Role with this name already exist").handle(e)}))}function At(e){(function(e){return It.apply(this,arguments)})(e).then((function(){F(!0)}))}function Wt(){Oe(!0)}function Dt(){return Mt.apply(this,arguments)}function Mt(){return(Mt=Object($.a)(K.a.mark((function e(){var t;return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j().get("organizations/".concat(h,"/users"));case 3:return t=e.sent,et(t.body),Ct(t.body),e.abrupt("return",t.body);case 9:e.prev=9,e.t0=e.catch(0),new Ge(d).on(401,(function(){s()})).on(404,"Organization not found").handle(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function zt(){return Ut.apply(this,arguments)}function Ut(){return(Ut=Object($.a)(K.a.mark((function e(){var t;return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j().get("organizations/".concat(h));case 3:t=e.sent,Fe(t.body),lt(t.body.defaultRole.id),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),new Ge(d).on(401,(function(){s()})).on(404,"Organization not found").handle(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function Jt(){return _t.apply(this,arguments)}function _t(){return(_t=Object($.a)(K.a.mark((function e(){var t;return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j().get("users");case 3:t=e.sent,Me(t.body),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),new Ge(d).on(401,(function(){s()})).handle(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function qt(){return Ht.apply(this,arguments)}function Ht(){return(Ht=Object($.a)(K.a.mark((function e(){var t;return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j().get("organizations/".concat(h,"/availableUsers"));case 3:t=e.sent,Ve(t.body),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),new Ge(d).on(401,(function(){s()})).on(404,"Organization not found").handle(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function Gt(e){j().get("plugins/".concat(e)).then((function(e){vt(Object(E.a)(Object(E.a)({},e.body),{},{rules:new Ia.PluginSettingsSpec(e.body.rules)}))})).catch((function(e){new Ge(d).on(401,(function(){s()})).on(404,"Plugin not found").handle(e)}))}var Zt,Vt=Object(M.a)();Zt=Object(U.a)(Vt.breakpoints.up("md"))?Object(a.jsx)(z.a,{className:n.container,children:Object(a.jsxs)(Q.a,{container:!0,className:n.firstLine,children:[Object(a.jsx)(Q.a,{item:!0,xs:8,children:Object(a.jsx)(z.a,{children:Object(a.jsxs)(Q.a,{container:!0,spacing:2,className:n.nameDescription,children:[Object(a.jsx)(Q.a,{item:!0,xs:6,children:Object(a.jsx)($t,{label:"Organization name",children:null===Be||void 0===Be?void 0:Be.name})}),Object(a.jsx)(Q.a,{item:!0,xs:6}),Object(a.jsx)(Q.a,{item:!0,xs:10,children:Object(a.jsx)($t,{label:"description",children:(null===Be||void 0===Be?void 0:Be.description)||"No description provided."})})]})})}),Object(a.jsx)(Q.a,{item:!0,xs:2,children:Object(a.jsx)(_.a,{src:"https://cdn.sportclub.ru/assets/2019-09-20/n97c311rvb.jpg",className:n.avatar})})]})}):Object(a.jsxs)(Q.a,{container:!0,spacing:2,className:n.firstLine,children:[Object(a.jsx)(z.a,{className:n.avatarBox,children:Object(a.jsx)(_.a,{src:"https://cdn.sportclub.ru/assets/2019-09-20/n97c311rvb.jpg",className:n.avatar})}),Object(a.jsx)(Q.a,{item:!0,xs:12,md:10,children:Object(a.jsx)($t,{label:"Organization name",children:"Blizzard entertainment"})}),Object(a.jsx)(Q.a,{item:!0,xs:12,md:10,children:Object(a.jsx)($t,{label:"description",children:"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Dicta dolorem, dolorum nam quidem sint sunt!"})})]});var Yt=Object(V.h)().path;return g?Object(a.jsx)(V.c,{children:Object(a.jsx)(V.a,{path:Yt,children:Object(a.jsxs)(z.a,{children:[Zt,Object(a.jsx)(qn,{children:"Slaves",can:St("canManagePlugins")}),Object(a.jsx)(Q.a,{container:!0,className:n.firstLine,children:Object(a.jsx)(Q.a,{item:!0,xs:12,md:10,children:["Kiev slave","Harkov slave","Lvov slave"].map((function(e,t){return Object(a.jsxs)(Xe.a,{children:[Object(a.jsx)(zn.a,{children:Object(a.jsx)(Gn.a,{})}),Object(a.jsx)(Ye.a,{primary:e,secondary:"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Consequuntur, rerum?"}),St("canManagePlugins")&&Object(a.jsx)(mn.a,{onClick:Wt,children:Object(a.jsx)(J.a,{children:Object(a.jsx)(Wn.a,{})})})]},t)}))})}),Object(a.jsx)(Qa,{open:be,onClose:function(){Oe(!1)}}),Object(a.jsx)(qn,{onClick:function(){oe(void 0),P(!R)},can:St("canManageRoles"),children:"Roles"}),Object(a.jsx)(Pa,{open:R,onClose:function(){P(!1),Nt(!1)},onAddRole:Bt,onModifyRole:Ft}),Object(a.jsx)(Q.a,{container:!0,className:n.firstLine,children:Object(a.jsx)(Q.a,{item:!0,xs:12,md:10,children:Object(a.jsx)(L.a,{children:ae.map((function(e){return Object(a.jsxs)(Xe.a,{children:[Object(a.jsx)(Ye.a,{primary:e.name,secondary:e.description,className:n.roleItem,style:{borderLeft:"4px solid #".concat(e.color),color:st===e.id?pa.a[700]:void 0},classes:{primary:n.rolesPrimary,secondary:n.rolesDescription}}),St("canManageRoles")&&Object(a.jsxs)(mn.a,{children:[Object(a.jsx)(J.a,{edge:"end","aria-label":"delete",style:{marginRight:Vt.spacing(0)},onClick:function(){st===e.id&&Nt(!0),At(e.id)},children:Object(a.jsx)(fa.a,{})}),Object(a.jsx)(J.a,{edge:"end","aria-label":"delete",onClick:function(){return m(Object($.a)(K.a.mark((function t(){return K.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(n=e.id,X(null),void j().delete("organizations/".concat(h,"/roles/").concat(n)).then((function(e){Et().then()})).catch((function(e){new Ge(d).on(400,"Can not delete role").on(401,(function(){s()})).on(404,"Role not found").handle(e)}))));case 1:case"end":return t.stop()}var n}),t)}))),{title:"are you sure to delete role: ".concat(e.name," ?")})},children:Object(a.jsx)(wn.a,{})})]})]},e.id)}))})})}),Object(a.jsx)(Pa,{open:B,onClose:function(){F(!1),Nt(!1)},role:se,modify:!0,onAddRole:Bt,onModifyRole:Ft,isDefault:kt}),Object(a.jsx)(qn,{onClick:function(){ke(!0)},can:St("canManageUsers"),children:"Members"}),Object(a.jsx)(ha,{open:we,onClose:function(){ke(!1),_e([])},allUsers:De,newUsers:Je,availableUsers:Ze,onNewUserClick:function(e){var t=Je;Je.includes(e)?(t=t.filter((function(t){return t!==e})),_e(t)):_e([].concat(Object(ee.a)(Je),[e]))},onAdduser:function(e){j().post("organizations/".concat(h,"/users")).send({userIds:e}).then((function(e){zt().then(),Dt().then(),qt().then(),_e([]),ke(!1),pe(!0)})).catch((function(e){new Ge(d).on(400,"Can not add user").on(401,(function(){s()})).handle(e)}))}}),Object(a.jsx)(Q.a,{container:!0,className:n.firstLine,spacing:0,children:Qe.map((function(e,t){var n;return Object(a.jsx)(Q.a,{item:!0,xs:12,md:10,children:Object(a.jsxs)(Xe.a,{button:!0,onClick:function(){O({page:"user",id:e.id})},children:[Object(a.jsx)(hn.a,{children:Object(a.jsx)(_.a,{src:"https://cdn.sportclub.ru/assets/2019-09-20/n97c311rvb.jpg"})}),Object(a.jsx)(Ye.a,{primary:e.username,secondary:e.email}),Object(a.jsxs)(mn.a,{children:[e.roles[0]&&Object(a.jsx)(ot.a,{label:null===(n=e.roles[0])||void 0===n?void 0:n.name,style:{backgroundColor:"#".concat(null===e||void 0===e?void 0:e.roles[0].color)}}),St("canManageUsers")&&Object(a.jsx)(J.a,{onClick:function(){return function(e){Pe(!0),rt(e)}(e)},children:Object(a.jsx)(Wn.a,{})})]})]})},t)}))}),Object(a.jsx)(ja,{open:Re,onClose:function(){return Pe(!1)},user:at,roles:ae,onRemove:function(e){Pe(!1),j().delete("organizations/".concat(h,"/users")).send({userIds:e}).then((function(e){zt().then(),Dt().then(),qt().then()})).catch((function(e){new Ge(d).on(400,"Can not delete user").on(401,(function(){s()})).on(404,"User not exist").on(409,"Some users are not in organization").handle(e)}))},onAddRole:function(e,t){D(null),j().post("organizations/".concat(h,"/roles/").concat(e,"/users")).send({userId:t}).then((function(e){Dt().then((function(e){var n=e.filter((function(e){return e.id===t}));rt(n[0])})).catch((function(e){new Ge(d).on(401,(function(){s()})).handle(e)})),Et().then()})).catch((function(e){new Ge(d).on(400,"Can not add role to user").on(401,(function(){s()})).on(403,"User already owns this role").on(404,"Role or User not found").handle(e)}))},onRemoveRole:function(e,t){G(null),j().delete("organizations/".concat(h,"/roles/").concat(e,"/users")).send({userId:t}).then((function(e){Dt().then((function(e){var n=e.filter((function(e){return e.id===t}));rt(n[0])})),Et().then()})).catch((function(e){new Ge(d).on(400,"Can not delete role from user").on(401,(function(){s()})).on(403,"User does not own this role").on(404,"Role not found").handle(e)}))}}),Object(a.jsx)(qn,{children:"Plugins",can:St("canManagePlugins"),onClick:function(){return O({page:"plugin/create",id:h})}}),null===ut||void 0===ut?void 0:ut.map((function(e){return Object(a.jsx)(Yn,{plugin:e,invokeDialog:function(){ft(!mt)},setCurrentPlugin:Gt,can:k&&St("canManagePlugins")})})),xt&&Object(a.jsx)(Za,{currentPlugin:xt,onClose:function(){return ft(!1)},open:mt}),k&&k.id===(null===Be||void 0===Be?void 0:Be.ownerUser.id)&&Object(a.jsxs)(c.a.Fragment,{children:[Object(a.jsx)(qn,{children:"Danger Zone",can:!1,color:"#f50057"}),Object(a.jsx)(Q.a,{container:!0,className:n.firstLine,children:Object(a.jsx)(Q.a,{item:!0,xs:10,children:Object(a.jsx)(Pt.a,{fullWidth:!0,variant:"contained",color:"secondary",onClick:function(){return m(Object($.a)(K.a.mark((function e(){return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",void j().delete("organizations/".concat(h)).then((function(){O({page:"user",id:null===Be||void 0===Be?void 0:Be.ownerUser.id})})).catch((function(e){})));case 1:case"end":return e.stop()}}),e)}))),{title:"are you sure to delete organization: ".concat(Be.name," ?")})},children:"Delete organization"})})})]})]})})}):Object(a.jsx)(z.a,{className:n.loading,children:Object(a.jsx)(Te,{})})})),er=Object(C.a)(Un)(Xa),tr=n(231),nr=n.n(tr),ar=n(230),rr=n.n(ar),cr=n(422),ir=n(411),sr=function(e){return Object(k.a)({container:{justifyContent:"center",alignItems:"flex-end"},flexNoWrap:{flexWrap:"nowrap"},flexItem:{display:"flex",alignItems:"center",listStyleType:"none"},buttonAdd:{backgroundColor:It.a[200]},fullWidth:{width:"100%"},submitButton:{backgroundColor:Be.a[500]},chipStyle:{marginRight:e.spacing(1),marginBottom:e.spacing(1)},selectMargin:{marginTop:e.spacing(2)},gridContainer:{display:"flex",justifyContent:"center",alignItems:"flex-end"},loading:{display:"flex",height:"90vh",justifyContent:"center",alignItems:"center"}})},or=function(e){return Object(k.a)({header:{textAlign:"center"},headerSettings:{textAlign:"center",padding:e.spacing(1)}})},lr=function(e){return Object(k.a)({container:{width:"100%",padding:e.spacing(1,0)},separator:{background:It.a[500],width:"100%"},text:{textAlign:"center",fontSize:13,color:e.palette.text.secondary}})},dr=c.a.forwardRef((function(e,t){var n=e.classes,r=(e.className,e.style,e.label);return Object(a.jsxs)(z.a,{className:n.container,children:[r&&Object(a.jsx)(B.a,{className:n.text,children:r}),Object(a.jsx)(G.a,{className:n.separator})]})})),jr=Object(C.a)(lr)(dr),ur=function(e){return Object(k.a)({container:{display:"flex",width:"100%"},text:{display:"flex",textAlign:"center",alignItems:"center",justifyContent:"center"}})},br=c.a.forwardRef((function(e,t){var n=e.classes,i=(e.className,e.style,e.field),s=e.setPluginSetting,o=Object(r.useState)(i.default),d=Object(l.a)(o,2),j=d[0],u=d[1];function b(){u(!j)}return Object(r.useEffect)((function(){s(i,j)}),[j]),Object(a.jsx)(Q.a,{container:!0,spacing:1,className:n.container,children:i.label?Object(a.jsxs)(c.a.Fragment,{children:[Object(a.jsx)(Q.a,{item:!0,xs:3,style:{display:"flex",justifyContent:"center",margin:1},children:Object(a.jsx)(B.a,{className:n.text,variant:"button",style:{height:36,width:"100%"},children:i.label.toUpperCase()})}),Object(a.jsx)(Q.a,{item:!0,xs:2,children:Object(a.jsx)(ka.a,{checked:j,onChange:b,name:"checkedA",inputProps:{"aria-label":"secondary checkbox"}})})]}):Object(a.jsx)(ka.a,{checked:j,onChange:b,name:"checkedA",inputProps:{"aria-label":"secondary checkbox"}})})})),Or=Object(C.a)(ur)(br),hr=function(e){return Object(k.a)({input:{padding:e.spacing(0)}})},mr=c.a.forwardRef((function(e,t){e.classes,e.className,e.style;var n=e.field,c=e.setPluginSetting,i=Object(r.useState)(n.default),s=Object(l.a)(i,2),o=s[0],d=s[1];return Object(r.useEffect)((function(){c(n,o)}),[o]),Object(a.jsxs)(Q.a,{container:!0,spacing:1,children:[Object(a.jsx)(Q.a,{item:!0,xs:3,style:{display:"flex",alignItems:"center"},children:Object(a.jsx)(Pt.a,{fullWidth:!0,children:n.name})}),Object(a.jsx)(Q.a,{item:!0,xs:9,children:Object(a.jsx)(En.a,{variant:"outlined",fullWidth:!0,value:o,onChange:function(e){d(e.target.value)},onBlur:function(){c(n,o)},size:"small",style:{padding:0}})})]})})),fr=Object(C.a)(hr)(mr),pr=n(424),gr=function(e){return Object(k.a)({field:{"& input::-webkit-clear-button, & input::-webkit-outer-spin-button, & input::-webkit-inner-spin-button":{display:"none"}},sliderStyles:{},thumb:{height:24,width:10,marginTop:-11,marginLeft:-9,borderRadius:2},rail:{height:10}})},xr=c.a.forwardRef((function(e,t){var n=e.classes,i=(e.className,e.style,e.field),s=e.setPluginSetting,o=(e.value,c.a.useState("")),d=Object(l.a)(o,2),j=d[0],u=d[1],b=c.a.useState(!0),O=Object(l.a)(b,2),h=O[0],m=O[1],f=c.a.useState(i.default||null),p=Object(l.a)(f,2),g=p[0],x=p[1],v=c.a.useRef(null),y=Object(r.useState)(0),w=Object(l.a)(y,2),k=w[0],N=w[1],C=Object(r.useState)(1e3),S=Object(l.a)(C,2),E=S[0],R=S[1];return c.a.useEffect((function(){u(String(g)),s(i,g)}),[g]),Object(a.jsxs)(Q.a,{container:!0,spacing:1,children:[Object(a.jsx)(Q.a,{item:!0,xs:3,style:{display:"flex",alignItems:"center"},children:Object(a.jsx)(Pt.a,{fullWidth:!0,onClick:function(){return m((function(e){return!e}))},children:i.name})}),Object(a.jsx)(Q.a,{item:!0,xs:h?2:9,children:Object(a.jsx)(En.a,{ref:v,value:j,variant:"outlined",type:"number",size:"small",fullWidth:!0,className:n.field,style:h?{paddingRight:16}:{},onChange:function(e){return u(e.target.value)},onBlur:function(){isNaN(+j)?u(String(g||"")):(x(+j),+j<k&&N(k-Math.abs(1.4*+j)),+j>E&&R(E+1.4*+j))},onKeyPress:function(e){"Enter"===e.key&&v.current&&v.current.blur()}})}),h&&Object(a.jsx)(Q.a,{item:!0,xs:7,style:{display:"flex",alignItems:"center"},children:Object(a.jsx)(pr.a,{className:n.sliderStyles,defaultValue:30,value:g||0,onChange:function(e,t){"number"===typeof t&&x(t)},"aria-labelledby":"discrete-slider",valueLabelDisplay:"off",step:1,min:null!=i.min?i.min:k,max:null!=i.max?i.max:E,classes:{thumb:n.thumb}})})]})})),vr=Object(C.a)(gr)(xr),yr=function(e){return Object(k.a)({field:{"& input::-webkit-clear-button, & input::-webkit-outer-spin-button, & input::-webkit-inner-spin-button":{display:"none"}},sliderStyles:{},thumb:{height:24,width:10,marginTop:-11,marginLeft:-9,borderRadius:2},rail:{height:10}})},wr=c.a.forwardRef((function(e,t){var n=e.classes,i=(e.className,e.style,e.field),s=e.setPluginSetting,o=(e.value,c.a.useState("")),d=Object(l.a)(o,2),j=d[0],u=d[1],b=c.a.useState(!0),O=Object(l.a)(b,2),h=O[0],m=O[1],f=c.a.useState(i.default||null),p=Object(l.a)(f,2),g=p[0],x=p[1],v=c.a.useRef(null),y=Object(r.useState)(0),w=Object(l.a)(y,2),k=w[0],N=w[1],C=Object(r.useState)(1e3),S=Object(l.a)(C,2),E=S[0],R=S[1];return c.a.useEffect((function(){u(String(g)),s(i,g)}),[g]),Object(a.jsxs)(Q.a,{container:!0,spacing:1,children:[Object(a.jsx)(Q.a,{item:!0,xs:3,style:{display:"flex",alignItems:"center"},children:Object(a.jsx)(Pt.a,{fullWidth:!0,onClick:function(){return m((function(e){return!e}))},children:"Samples"})}),Object(a.jsx)(Q.a,{item:!0,xs:h?2:9,children:Object(a.jsx)(En.a,{ref:v,value:j,fullWidth:!0,variant:"outlined",type:"number",size:"small",className:n.field,style:h?{paddingRight:16}:{},onChange:function(e){return u(e.target.value)},onBlur:function(){isNaN(+j)?u(String(g||"")):(x(+j),+j<k&&N(k-Math.abs(1.4*+j)),+j>E&&R(E+1.4*+j))},onKeyPress:function(e){"Enter"===e.key&&v.current&&v.current.blur()}})}),h&&Object(a.jsx)(Q.a,{item:!0,xs:7,style:{display:"flex",alignItems:"center"},children:Object(a.jsx)(pr.a,{className:n.sliderStyles,defaultValue:30,value:g||0,onChange:function(e,t){"number"===typeof t&&x(t)},"aria-labelledby":"discrete-slider",valueLabelDisplay:"off",step:1,min:null!=i.min?i.min:k,max:null!=i.max?i.max:E,classes:{thumb:n.thumb}})})]})})),kr=Object(C.a)(yr)(wr),Nr=c.a.forwardRef((function(e,t){var n=e.classes,c=(e.style,e.className,e.setPluginSetting),i=e.pluginId,s=y().logout,o=Ne(),d=Ee(),j=Object(r.useState)(null),u=Object(l.a)(j,2),b=u[0],O=u[1],h=Object(r.useState)(!1),m=Object(l.a)(h,2),f=m[0],p=m[1];function g(){return x.apply(this,arguments)}function x(){return(x=Object($.a)(K.a.mark((function e(){var t,n;return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o().get("plugins/".concat(i));case 3:t=e.sent,console.log(t.body.rules),n=Object(E.a)(Object(E.a)({},t.body),{},{rules:new Ia.PluginSettingsSpec(t.body.rules)}),O(n),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),new Ge(d).on(401,(function(){s()})).on(404,"Plugin not found").handle(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}Object(r.useEffect)((function(){Promise.all([g()]).then((function(){p(!0)}))}),[i]);var v=[];return b&&(v=Object(ee.a)(b.rules)),f&&b?Object(a.jsxs)(z.a,{children:[Object(a.jsx)(B.a,{variant:"h6",className:n.header,children:b.name}),Object(a.jsxs)(z.a,{children:[Object(a.jsx)(B.a,{variant:"h6",className:n.headerSettings,children:"Plugin Settings"}),Object(a.jsx)(G.a,{style:{marginBottom:16}})]}),Object(a.jsx)(Q.a,{container:!0,spacing:2,children:v.map((function(e){switch(e.getType()){case"integer":return Object(a.jsx)(Q.a,{item:!0,xs:12,children:Object(a.jsx)(vr,{field:e,setPluginSetting:c})});case"string":return Object(a.jsx)(Q.a,{item:!0,xs:12,children:Object(a.jsx)(fr,{field:e,setPluginSetting:c})});case"float":return Object(a.jsx)(Q.a,{item:!0,xs:12,children:Object(a.jsx)(kr,{field:e,setPluginSetting:c})});case"group":return Object(a.jsx)(Q.a,{item:!0,xs:12,children:Object(a.jsx)(En.a,{fullWidth:!0,label:e.label})});case"separator":return Object(a.jsx)(Q.a,{item:!0,xs:12,children:Object(a.jsx)(jr,{label:e.label})});case"boolean":return Object(a.jsx)(Q.a,{item:!0,xs:12,children:Object(a.jsx)(Or,{field:e,setPluginSetting:c})})}}))})]}):Object(a.jsx)(z.a,{})})),Cr=Object(C.a)(or)(Nr),Sr=function(e){var t;return Object(k.a)({dialog:(t={minWidth:800},Object(S.a)(t,e.breakpoints.down("sm"),{minWidth:500}),Object(S.a)(t,e.breakpoints.down("xs"),{minWidth:300}),t),search:{position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(na.c)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(na.c)(e.palette.common.white,.25)},marginLeft:0,width:"100%"},searchIcon:{padding:e.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit"},inputInput:Object(S.a)({padding:e.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(e.spacing(4),"px)"),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("sm"),{width:"24ch"}),paddingNoneBottom:{paddingBottom:0},loading:{display:"flex",height:"90vh",justifyContent:"center",alignItems:"center"},notFound:{display:"flex",width:"100%",height:220,justifyContent:"center",alignItems:"center"},pluginContainer:{maxHeight:220,overflow:"auto"}})},Er=c.a.forwardRef((function(e,t){var n=e.classes,c=(e.style,e.className,e.open),i=e.onClose,s=e.getPlugin,o=e.organizationId,d=y().logout,j=Ee(),u=y().getUser,b=Ne(),O=Object(r.useState)(!1),h=Object(l.a)(O,2),m=h[0],f=h[1],p=Object(r.useState)([]),g=Object(l.a)(p,2),x=g[0],v=g[1],w=Object(r.useState)(null),k=Object(l.a)(w,2),N=k[0],C=k[1],S=Object(r.useState)(""),E=Object(l.a)(S,2),R=E[0],P=E[1],I=Object(r.useState)([]),T=Object(l.a)(I,2),F=T[0],A=T[1];function W(){return D.apply(this,arguments)}function D(){return(D=Object($.a)(K.a.mark((function e(){var t,n,a;return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null===(t=u())||void 0===t?void 0:t.id,e.prev=1,e.next=4,b().get("users/".concat(n,"/organizations"));case 4:return e.sent,e.next=7,b().get("plugins").query({organization:o});case 7:a=e.sent,v(a.body),A(a.body),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(1),new Ge(j).on(401,(function(){d()})).on(404,"No organization found").handle(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])})))).apply(this,arguments)}Object(r.useEffect)((function(){A(x.filter((function(e){return e.name.toLowerCase().includes(R)})))}),[R]),Object(r.useEffect)((function(){W().then()}),[o]),Object(r.useEffect)((function(){Promise.all([W()]).then((function(){f(!0)}))}),[]);return Object(a.jsx)(St.a,{open:c,onClose:function(){i()},maxWidth:!1,children:m?Object(a.jsxs)(z.a,{className:n.dialog,children:[Object(a.jsx)(Et.a,{className:n.paddingNoneBottom,children:"Select Plugin"}),Object(a.jsx)(L.a,{children:Object(a.jsxs)(Q.a,{container:!0,children:[Object(a.jsxs)(Q.a,{item:!0,xs:5,children:[Object(a.jsxs)(Xe.a,{className:n.paddingNoneBottom,children:[Object(a.jsxs)(z.a,{className:n.search,children:[Object(a.jsx)(z.a,{className:n.searchIcon,children:Object(a.jsx)(st.a,{})}),Object(a.jsx)(ca.a,{onChange:function(e){P(e.target.value.toLowerCase())},placeholder:"Search\u2026",classes:{root:n.inputRoot,input:n.inputInput},inputProps:{"aria-label":"search"}})]}),Object(a.jsx)(J.a,{style:{padding:8},children:Object(a.jsx)(Pn.a,{})})]}),Object(a.jsx)(Q.a,{container:!0,className:n.pluginContainer,children:0!==F.length?F.map((function(e){return Object(a.jsx)(Q.a,{item:!0,xs:12,children:Object(a.jsx)(Xe.a,{button:!0,onClick:function(){return t=e.id,void b().get("plugins/".concat(t,"/preview")).then((function(e){C(e.body)})).catch((function(e){new Ge(j).on(401,(function(){d()})).on(404,"Plugin not found").handle(e)}));var t},children:e.name})},e.id)})):Object(a.jsx)(z.a,{className:n.notFound,children:Object(a.jsx)(B.a,{variant:"h5",color:"textSecondary",children:"No plugins found"})})})]}),Object(a.jsx)(Q.a,{item:!0,xs:7,children:N?Object(a.jsxs)(z.a,{children:[Object(a.jsxs)(B.a,{variant:"h6",children:["name: ",N.name]}),Object(a.jsxs)(B.a,{variant:"h6",children:["version: ",N.version]}),Object(a.jsxs)(B.a,{variant:"h6",children:["description: ",N.description]}),Object(a.jsxs)(B.a,{variant:"h6",children:["note: ",N.note]}),Object(a.jsxs)(B.a,{variant:"h6",children:["readme: ",N.readme]})]}):Object(a.jsx)(B.a,{variant:"h6",children:"No plugin selected"})}),Object(a.jsx)(Pt.a,{fullWidth:!0,onClick:function(){return N&&s(N),void i()},children:"Submit"})]})})]}):Object(a.jsx)(z.a,{className:n.loading,children:Object(a.jsx)(Te,{})})})})),Rr=Object(C.a)(Sr)(Er),Pr=n(143),Ir=n.n(Pr),Tr=function(e){var t;return Object(k.a)({title:{textAlign:"center",paddingBottom:0},dialogContainer:(t={minWidth:600},Object(S.a)(t,e.breakpoints.down("sm"),{minWidth:450}),Object(S.a)(t,e.breakpoints.down("xs"),{minWidth:300}),t),addButton:{margin:e.spacing(2)}})},Lr=c.a.forwardRef((function(e,t){var n=e.classes,c=(e.style,e.className,e.open),i=e.onClose,s=e.onAddFrame,o=Ee(),d=Object(r.useState)({start:0,end:10,step:1,renumberStart:0,renumberStep:1}),j=Object(l.a)(d,2),u=j[0],b=j[1],O=Object(r.useState)({errorStart:!1,errorEnd:!1,errorStep:!1,errorRenumberStart:!1,errorRenumberStep:!1}),h=Object(l.a)(O,2),m=h[0],f=h[1],p=function(e){e.persist(),Ir.a.isInteger(+e.target.value)&&b((function(t){return Object(E.a)(Object(E.a)({},t),{},Object(S.a)({},e.target.name,+e.target.value))}))},g=function(e){"start"===e.target.name&&(u.start<0?f((function(e){return Object(E.a)(Object(E.a)({},e),{},{errorStart:!0})})):f((function(e){return Object(E.a)(Object(E.a)({},e),{},{errorStart:!1})}))),"end"===e.target.name&&(u.end<0?f((function(e){return Object(E.a)(Object(E.a)({},e),{},{errorEnd:!0})})):f((function(e){return Object(E.a)(Object(E.a)({},e),{},{errorEnd:!1})}))),"step"===e.target.name&&(u.step<=0?f((function(e){return Object(E.a)(Object(E.a)({},e),{},{errorStep:!0})})):f((function(e){return Object(E.a)(Object(E.a)({},e),{},{errorStep:!1})}))),"renumberStart"===e.target.name&&(u.renumberStart<0?f((function(e){return Object(E.a)(Object(E.a)({},e),{},{errorRenumberStart:!0})})):f((function(e){return Object(E.a)(Object(E.a)({},e),{},{errorRenumberStart:!1})}))),"renumberStep"===e.target.name&&(u.renumberStep<=0?f((function(e){return Object(E.a)(Object(E.a)({},e),{},{errorRenumberStep:!0})})):f((function(e){return Object(E.a)(Object(E.a)({},e),{},{errorRenumberStep:!1})}))),"start"!==e.target.name&&"end"!==e.target.name||(u.start>u.end?f((function(e){return Object(E.a)(Object(E.a)({},e),{},{errorStart:!0,errorEnd:!0})})):f((function(e){return Object(E.a)(Object(E.a)({},e),{},{errorStart:!1,errorEnd:!1})})))};return Object(a.jsxs)(St.a,{open:c,onClose:i,maxWidth:!1,children:[Object(a.jsx)(Et.a,{className:n.title,children:"Frame range"}),Object(a.jsxs)(L.a,{className:n.dialogContainer,children:[Object(a.jsx)(Xe.a,{children:Object(a.jsx)(En.a,{error:m.errorStart,fullWidth:!0,label:"Frame start",name:"start",value:u.start,onChange:p,onBlur:g})}),Object(a.jsx)(Xe.a,{children:Object(a.jsx)(En.a,{error:m.errorEnd,fullWidth:!0,label:"Frame end",name:"end",value:u.end,onChange:p,onBlur:g})}),Object(a.jsx)(Xe.a,{children:Object(a.jsx)(En.a,{error:m.errorStep,fullWidth:!0,label:"Step",name:"step",value:u.step,onChange:p,onBlur:g})}),Object(a.jsx)(Xe.a,{children:Object(a.jsx)(En.a,{error:m.errorRenumberStart,fullWidth:!0,label:"Renumber Start",name:"renumberStart",value:u.renumberStart,onChange:p,onBlur:g})}),Object(a.jsx)(Xe.a,{children:Object(a.jsx)(En.a,{error:m.errorRenumberStep,fullWidth:!0,label:"Renumber step",name:"renumberStep",value:u.renumberStep,onChange:p,onBlur:g})})]}),Object(a.jsx)(Pt.a,{className:n.addButton,onClick:function(){m.errorStart||m.errorEnd||m.errorStep||m.errorRenumberStart||m.errorRenumberStep?o("Invalid Input"):(s(u),i())},variant:"outlined",children:"Add Frame range"})]})})),Br=Object(C.a)(Tr)(Lr),Fr=c.a.forwardRef((function(e,t){var n,i=e.classes,s=e.style,o=e.className,d=y().logout,j=Ln(),u=Ee(),b=y().getUser,O=Object(fe.b)().changeRoute,h=Ne(),m=b(),f=Object(r.useState)([]),p=Object(l.a)(f,2),g=p[0],x=p[1],v=Object(r.useState)(!1),w=Object(l.a)(v,2),k=w[0],N=w[1],C=Object(r.useState)(),R=Object(l.a)(C,2),P=R[0],I=R[1],T=Object(r.useState)({start:0,end:10,step:1,renumberStart:0,renumberStep:1}),F=Object(l.a)(T,2),A=(F[0],F[1]),W=Object(r.useState)([]),D=Object(l.a)(W,2),M=D[0],J=D[1],_=Object(r.useState)({name:"",user:m?m.username:"",description:"",organization:null===(n=g[0])||void 0===n?void 0:n.id,frameRange:[],attempts_per_task_limit:1,plugin:void 0,pluginSettings:{}}),q=Object(l.a)(_,2),G=q[0],Z=q[1],V=Object(r.useState)([]),Y=Object(l.a)(V,2),X=(Y[0],Y[1]),te=Object(r.useState)(""),ne=Object(l.a)(te,2),ae=(ne[0],ne[1],Object(r.useState)(null)),re=Object(l.a)(ae,2),ce=re[0],ie=re[1],se=Object(r.useState)(!1),oe=Object(l.a)(se,2),le=oe[0],de=oe[1],je=Object(r.useState)(!1),ue=Object(l.a)(je,2),be=ue[0],Oe=ue[1],he=Object(r.useState)({errorName:!1,errorAttempts:!1,errorDescription:!1,noInputError:!1}),me=Object(l.a)(he,2),pe=me[0],ge=me[1];function xe(){return ve.apply(this,arguments)}function ve(){return(ve=Object($.a)(K.a.mark((function e(){var t,n,a;return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null===(t=b())||void 0===t?void 0:t.id,e.prev=1,e.next=4,h().get("users/".concat(n,"/organizations"));case 4:a=e.sent,I(a.body[0].name),x(a.body),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),new Ge(u).on(401,(function(){d()})).on(404,"User not found").handle(e.t0);case 13:case"end":return e.stop()}}),e,null,[[1,9]])})))).apply(this,arguments)}function ye(){return we.apply(this,arguments)}function we(){return(we=Object($.a)(K.a.mark((function e(){var t,n,a,r;return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null===(t=b())||void 0===t?void 0:t.id,e.prev=1,e.next=4,h().get("users/".concat(n,"/organizations"));case 4:return a=e.sent,e.next=7,h().get("plugins").query({organization:a.body[0].id});case 7:r=e.sent,X(r.body),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(1),new Ge(u).on(401,(function(){d()})).on(404,"Organization not found").handle(e.t0);case 15:case"end":return e.stop()}}),e,null,[[1,11]])})))).apply(this,arguments)}Object(r.useEffect)((function(){Promise.all([xe(),ye()]).then((function(){N(!0)}))}),[]),Object(r.useEffect)((function(){Z((function(e){return Object(E.a)(Object(E.a)({},e),{},Object(S.a)({},"frameRange",M))}))}),[M]),Object(r.useEffect)((function(){ye().then()}),[G]),Object(r.useEffect)((function(){Z((function(e){var t;return Object(E.a)(Object(E.a)({},e),{},{organization:null===(t=g[0])||void 0===t?void 0:t.id})}))}),[g]),Object(r.useEffect)((function(){Z((function(e){return Object(E.a)(Object(E.a)({},e),{},{plugin:null===ce||void 0===ce?void 0:ce.id})}))}),[ce]);function ke(e){e.persist(),Z((function(t){return Object(E.a)(Object(E.a)({},t),{},Object(S.a)({},e.target.name,e.target.value))}))}console.log(G);var Ce,Se,Re,Pe,Ie=function(e){ge((function(e){return Object(E.a)(Object(E.a)({},e),{},{noInputError:!1})})),"name"===e.target.name&&(G.name.match(/[^A-Za-z0-9_ ]/)||!G.name||G.name.length<3||G.name.length>100?ge((function(e){return Object(E.a)(Object(E.a)({},e),{},{errorName:!0})})):ge((function(e){return Object(E.a)(Object(E.a)({},e),{},{errorName:!1})}))),"attempts_per_task_limit"===e.target.name&&(G.attempts_per_task_limit<0?ge((function(e){return Object(E.a)(Object(E.a)({},e),{},{errorAttempts:!0})})):ge((function(e){return Object(E.a)(Object(E.a)({},e),{},{errorAttempts:!1})}))),"description"===e.target.name&&(G.description.match(/[^A-Za-z0-9_ ]/)||G.description.length>1e3?ge((function(e){return Object(E.a)(Object(E.a)({},e),{},{errorDescription:!0})})):ge((function(e){return Object(E.a)(Object(E.a)({},e),{},{errorDescription:!1})})))};Object(U.a)("(min-width:800px)")?(Ce=Object(a.jsxs)(Q.a,{container:!0,spacing:2,children:[Object(a.jsx)(Q.a,{item:!0,xs:4,children:Object(a.jsx)(En.a,{error:pe.errorName,fullWidth:!0,name:"name",required:!0,label:"Work title",onChange:ke,onBlur:Ie})}),Object(a.jsx)(Q.a,{item:!0,xs:2,children:Object(a.jsx)(En.a,{error:pe.errorAttempts,fullWidth:!0,label:"Attempts",name:"attempts_per_task_limit",value:G.attempts_per_task_limit,onChange:function(e){if(e.persist(),Ir.a.isInteger(+e.target.value)){if("attempts_per_task_limit"===e.target.name)return void Z((function(t){return Object(E.a)(Object(E.a)({},t),{},Object(S.a)({},e.target.name,+e.target.value))}));e&&A((function(t){return Object(E.a)(Object(E.a)({},t),{},Object(S.a)({},e.target.name,+e.target.value))}))}},onBlur:Ie})}),Object(a.jsx)(Q.a,{item:!0,xs:2,children:Object(a.jsx)(En.a,{fullWidth:!0,label:"Priority",name:"priority"})}),Object(a.jsxs)(Q.a,{item:!0,xs:4,children:[Object(a.jsx)(cr.a,{id:"Organization",children:"Organization"}),Object(a.jsx)(ir.a,{value:P,fullWidth:!0,labelId:"Organization",required:!0,children:g.map((function(e){return Object(a.jsx)(H.a,{value:e.name,onClick:function(){return function(e){I(e.name),Z((function(t){return Object(E.a)(Object(E.a)({},t),{},{organization:e.id})})),console.log(P)}(e)},children:e.name},e.id)}))})]}),Object(a.jsx)(Q.a,{item:!0,xs:12,children:Object(a.jsx)(En.a,{error:pe.errorDescription,fullWidth:!0,InputLabelProps:{shrink:!0},label:"Description",name:"description",value:G.description,onChange:ke,onBlur:Ie})})]}),Se=Object(a.jsxs)(c.a.Fragment,{children:[Object(a.jsx)(Q.a,{item:!0,xs:10,children:Object(a.jsx)(Pt.a,{onClick:function(){Oe(!0)},fullWidth:!0,variant:"outlined",children:"Add new frame range"})}),Object(a.jsx)(Br,{open:be,onClose:function(){Oe(!1)},onAddFrame:function(e){J((function(t){return[].concat(Object(ee.a)(t),[e])}))}})]}),Re=Object(a.jsxs)(c.a.Fragment,{children:[Object(a.jsxs)(Q.a,{item:!0,xs:8,className:i.flexItem,children:[Object(a.jsx)(Pt.a,{fullWidth:!0,variant:"outlined",onClick:function(){de(!0)},children:"Select Plugin"}),Object(a.jsx)(Rr,{open:le,onClose:function(){de(!1)},getPlugin:function(e){ie(e)},organizationId:G.organization})]}),Object(a.jsx)(Q.a,{item:!0,xs:2,children:Object(a.jsx)(ir.a,{value:"1.01",fullWidth:!0,children:Object(a.jsx)(H.a,{value:"1.01",children:"1.01"})})})]}),Pe=Object(a.jsx)(Q.a,{item:!0,xs:10,children:Object(a.jsxs)(Q.a,{container:!0,spacing:2,className:i.flexItem,children:[Object(a.jsx)(Q.a,{item:!0,xs:9}),Object(a.jsx)(Q.a,{item:!0,xs:3,children:Object(a.jsx)(Pt.a,{fullWidth:!0,variant:"contained",className:i.submitButton,onClick:function(){pe.noInputError||pe.errorName||pe.errorDescription||pe.errorAttempts?u("Invalid input"):h().post("jobs").send(G).then((function(){j("successfully submitted"),O({page:"jobs"})})).catch((function(e){new Ge(u).on(400,"Can not create job").on(401,(function(){d()})).on(404,"Plugin with selected not found").on(409,"Unavailable to queue job").on(503,"Internal server error. Please, visit this resource later").handle(e)}))},children:"Submit"})})]})})):(Ce=Object(a.jsxs)(c.a.Fragment,{children:[Object(a.jsx)(Q.a,{item:!0,xs:10,children:Object(a.jsx)(En.a,{fullWidth:!0,label:"Work title"})}),Object(a.jsx)(Q.a,{item:!0,xs:10,children:Object(a.jsx)(En.a,{fullWidth:!0,label:"Submitter"})}),Object(a.jsx)(Q.a,{item:!0,xs:10,children:Object(a.jsxs)(ir.a,{value:"pathfinder monitor",fullWidth:!0,className:i.selectMargin,children:[Object(a.jsx)(H.a,{value:"pathfinder monitor",children:"Pathfinder Monitor"}),Object(a.jsx)(H.a,{value:"pathfinder core",children:"Pathfinder Core"}),Object(a.jsx)(H.a,{value:"pathfinder slave",children:"Pathfinder Slave"})]})})]}),Se=Object(a.jsxs)(c.a.Fragment,{children:[Object(a.jsx)(Q.a,{item:!0,xs:5,children:Object(a.jsx)(En.a,{fullWidth:!0,label:"Frame start"})}),Object(a.jsx)(Q.a,{item:!0,xs:5,children:Object(a.jsx)(En.a,{fullWidth:!0,label:"Frame end"})}),Object(a.jsx)(Q.a,{item:!0,xs:5,children:Object(a.jsx)(En.a,{fullWidth:!0,label:"Step"})}),Object(a.jsx)(Q.a,{item:!0,xs:5,children:Object(a.jsx)(En.a,{fullWidth:!0,label:"Start from"})}),Object(a.jsx)(Q.a,{item:!0,xs:5,children:Object(a.jsx)(En.a,{fullWidth:!0,label:"Renum step"})}),Object(a.jsx)(Q.a,{item:!0,xs:5,children:Object(a.jsx)(En.a,{fullWidth:!0,label:"Priority"})}),Object(a.jsx)(Q.a,{item:!0,xs:10,children:Object(a.jsx)(Pt.a,{variant:"contained",fullWidth:!0,className:i.buttonAdd,children:"ADD"})})]}),Re=Object(a.jsxs)(c.a.Fragment,{children:[Object(a.jsx)(Q.a,{item:!0,xs:10,className:i.flexItem}),Object(a.jsx)(Q.a,{item:!0,xs:10,children:Object(a.jsx)(ir.a,{value:"1.01",fullWidth:!0,children:Object(a.jsx)(H.a,{value:"1.01",children:"1.01"})})})]}),Pe=Object(a.jsx)(c.a.Fragment,{children:Object(a.jsx)(Q.a,{item:!0,xs:10,className:i.flexItem,children:Object(a.jsx)(Pt.a,{fullWidth:!0,variant:"contained",className:i.submitButton,children:"Submit"})})}));new Ia.IntegerField({type:"integer",name:"samples",label:"Samples",min:100,max:120,default:115});return k?Object(a.jsx)(z.a,{className:o,style:s,children:Object(a.jsxs)(Q.a,{container:!0,spacing:2,className:i.container,children:[Object(a.jsx)(Q.a,{item:!0,xs:10,children:Object(a.jsx)(B.a,{variant:"h6",children:"Submit info"})}),Object(a.jsx)(Q.a,{item:!0,xs:10,children:Ce}),Object(a.jsx)(Q.a,{item:!0,xs:10,className:i.flexItem,children:Object(a.jsx)(L.a,{disablePadding:!0,className:i.fullWidth,children:Object(a.jsx)(Xe.a,{disableGutters:!0,children:Object(a.jsx)(Ye.a,{primary:Object(a.jsx)(B.a,{variant:"h6",children:"Render settings"})})})})}),Se,Object(a.jsx)(Q.a,{item:!0,xs:10,className:i.flexItem,children:Object(a.jsx)(z.a,{children:M.map((function(e,t){return Object(a.jsx)(ot.a,{label:"".concat(e.start,"-").concat(e.end," ").concat(e.step," from ").concat(e.renumberStart," with ").concat(e.renumberStep),onDelete:function(){return function(e){var t=Object(ee.a)(M);t.splice(e,1),J(t)}(t)},className:i.chipStyle},t)}))})}),Object(a.jsx)(Q.a,{item:!0,xs:10,children:Object(a.jsx)(B.a,{variant:"h6",children:"Plugin"})}),Re,Object(a.jsx)(Q.a,{item:!0,xs:10,children:ce&&Object(a.jsx)(Cr,{pluginId:ce.id,setPluginSetting:function(e,t){Z((function(n){return Object(E.a)(Object(E.a)({},n),{},{pluginSettings:Object(E.a)(Object(E.a)({},n.pluginSettings),{},Object(S.a)({},e.name,t))})})),console.log("plugin setting",G.pluginSettings)}})}),Pe]})}):Object(a.jsx)(z.a,{className:i.loading,children:Object(a.jsx)(Te,{})})})),Ar=Object(C.a)(sr)(Fr),Wr=function(e){return Object(k.a)({container:{justifyContent:"center",alignItems:"center"},avatar:{flexGrow:1,height:e.spacing(25),width:e.spacing(25)},sidePaddingsNone:{paddingLeft:0,paddingRight:0},sidePaddings:{paddingLeft:e.spacing(2),paddingRight:e.spacing(2)},paddingNone:{paddingLeft:0,paddingBottom:0},listHeader:{paddingBottom:0},divider:{marginBottom:e.spacing(2)},colorBar:{width:4,height:e.spacing(7)},minWidthList:{minWidth:320},button:{backgroundColor:dt.a[800]},emptyRolesList:{margin:e.spacing(2,2,2,2)}})},Dr=c.a.forwardRef((function(e,t){var n=e.style,c=e.className,i=e.classes,s=y().logout,o=Ee(),d=Ln(),j=Object(fe.b)(),u=(j.getRouteParams,j.changeRoute),b=Ne(),O=y().getUser,h=ea(),m=Object(r.useState)(!1),f=Object(l.a)(m,2),p=f[0],g=f[1],x=Object(r.useState)(!1),v=Object(l.a)(x,2),w=v[0],k=v[1],N=Object(r.useState)(),C=Object(l.a)(N,2),S=C[0],R=C[1],P=Object(r.useState)(),I=Object(l.a)(P,2),T=I[0],F=I[1],A=Object(r.useState)({nameError:!1,nameMessage:"",descriptionError:!1,descriptionMessage:""}),W=Object(l.a)(A,2),D=W[0],U=W[1],q=Object(r.useState)({id:-1,name:"user",description:"Default user role.",color:"090",permissionLevel:0,canManageUsers:!1,canManageRoles:!1,canCreateJobs:!0,canDeleteJobs:!1,canEditJobs:!1,canManagePlugins:!0,canManageTeams:!0,canEditAudit:!0}),H=Object(l.a)(q,2),Z=H[0],V=H[1],Y=Object(r.useState)(),X=Object(l.a)(Y,2),te=X[0],ne=X[1],ae=Object(r.useState)([]),re=Object(l.a)(ae,2),ce=re[0],ie=re[1],se=Object(r.useState)(),oe=Object(l.a)(se,2),le=oe[0],de=oe[1],ue=Object(r.useState)([]),be=Object(l.a)(ue,2),Oe=be[0],he=be[1],me=Object(r.useState)([]),pe=Object(l.a)(me,2),ge=pe[0],xe=pe[1],ve=Object(r.useState)(!1),ye=Object(l.a)(ve,2),we=ye[0],ke=ye[1],Ce=Object(r.useState)(Z.id),Se=Object(l.a)(Ce,2),Re=Se[0],Pe=Se[1],Ie=Object(r.useState)(!1),Te=Object(l.a)(Ie,2),Le=Te[0],Be=Te[1];Object(r.useEffect)((function(){Pe(Z.id)}),[Z]);var Fe=Object(r.useState)([]),Ae=Object(l.a)(Fe,2),We=Ae[0],De=Ae[1],Me=Object(r.useState)([]),ze=Object(l.a)(Me,2),Ue=ze[0],Je=ze[1];function _e(){var e=Oe;e=e.filter((function(e){return e.id!==(null===te||void 0===te?void 0:te.id)}));for(var t=function(t){e=e.filter((function(e){return e.id!==ge[t].id&&e.id!==(null===te||void 0===te?void 0:te.id)}))},n=0;n<ge.length;n++)t(n);Je(e)}Object(r.useEffect)((function(){te&&_e()}),[te]),Object(r.useEffect)((function(){_e()}),[ge]);var qe,He=Object(M.a)();function Ze(e){g(!1),ie((function(t){return[].concat(Object(ee.a)(t),[e])}))}function Ve(e){ie((function(t){return Object(ee.a)(t.filter((function(t){return t.name!==e})))}))}Object(r.useEffect)((function(){Ze(Z)}),[]);function Ke(){S&&(null===S||void 0===S?void 0:S.length)<=3?U((function(e){return Object(E.a)(Object(E.a)({},e),{},{nameError:!0,nameMessage:"Should be more than 3 symbols"})})):S&&S.length>50?U((function(e){return Object(E.a)(Object(E.a)({},e),{},{nameError:!0,nameMessage:"Should be less than 50 symbols"})})):U((function(e){return Object(E.a)(Object(E.a)({},e),{},{nameError:!1,nameMessage:""})})),T&&(null===T||void 0===T?void 0:T.length)<=3?U((function(e){return Object(E.a)(Object(E.a)({},e),{},{descriptionError:!0,descriptionMessage:"Should be more than 3 symbols"})})):T&&T.length>50?U((function(e){return Object(E.a)(Object(E.a)({},e),{},{descriptionError:!0,descriptionMessage:"Should be less than 50 symbols"})})):U((function(e){return Object(E.a)(Object(E.a)({},e),{},{descriptionError:!1,descriptionMessage:""})}))}return Object(r.useEffect)((function(){b().get("users").then((function(e){he(e.body)})).catch((function(e){new Ge(o).on(401,(function(){s()})).handle(e)})),function(){var e=O();b().get("users/".concat(null===e||void 0===e?void 0:e.id)).then((function(e){ne(e.body)})).catch((function(e){new Ge(o).on(401,(function(){s()})).handle(e)}))}()}),[]),qe=Object(a.jsxs)(Q.a,{container:!0,xs:12,md:12,spacing:2,style:{display:"flex",alignItems:"flex-begin"},children:[Object(a.jsx)(Q.a,{item:!0,xs:12,md:6,children:Object(a.jsx)(En.a,{margin:"normal",required:!0,fullWidth:!0,label:"Organization name",onChange:function(e){R(e.target.value)},error:D.nameError,helperText:D.nameMessage,onBlur:Ke})}),Object(a.jsx)(Q.a,{item:!0,xs:12,md:6,children:Object(a.jsx)(En.a,{margin:"normal",fullWidth:!0,label:"Description",onChange:function(e){F(e.target.value)},error:D.descriptionError,helperText:D.descriptionMessage,onBlur:Ke})})]}),Object(a.jsxs)(Q.a,{container:!0,spacing:2,style:n,className:Object(je.a)(i.container,i.sidePaddings,c),children:[Object(a.jsx)(Q.a,{container:!0,justify:"center",direction:"row",alignItems:"center",children:Object(a.jsx)(J.a,{children:Object(a.jsx)(_.a,{variant:"circular",src:"/broken-image.jpg",className:i.avatar})})}),qe,Object(a.jsxs)(Q.a,{item:!0,xs:12,children:[Object(a.jsxs)(L.a,{children:[Object(a.jsxs)(Xe.a,{className:Object(je.a)(i.sidePaddingsNone,i.listHeader),children:[Object(a.jsx)(Ye.a,{primary:"Roles",primaryTypographyProps:{variant:"h6"}}),Object(a.jsx)(J.a,{onClick:function(){g(!p),de(void 0)},children:Object(a.jsx)(Nn.a,{})})]}),Object(a.jsx)(G.a,{}),ce.map((function(e){return Object(a.jsxs)(Xe.a,{children:[Object(a.jsx)(hn.a,{style:{minWidth:16},children:Object(a.jsx)(z.a,{className:i.colorBar,style:{backgroundColor:"#".concat(e.color)}})}),Object(a.jsx)(Ye.a,{primary:e.name,secondary:e.description,style:{color:Z.id===e.id?pa.a[700]:void 0}}),Object(a.jsxs)(mn.a,{children:[Object(a.jsx)(J.a,{edge:"end","aria-label":"edit",style:{marginRight:He.spacing(0)},onClick:function(){Re===e.id&&Be(!0),k(!0),g(!p),de(e)},children:Object(a.jsx)(fa.a,{})}),Object(a.jsx)(J.a,{edge:"end","aria-label":"delete",onClick:function(){return h(Object($.a)(K.a.mark((function t(){return K.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Ve(e.name));case 1:case"end":return t.stop()}}),t)}))),{title:"are you sure to delete role: ".concat(e.name," ?")})},children:Object(a.jsx)(wn.a,{})})]})]},e.id)})),!ce.length&&Object(a.jsx)(z.a,{className:i.emptyRolesList,children:Object(a.jsx)(B.a,{variant:"body1",align:"center",children:"There are no roles. Please be aware that the default role will be created anyway"})})]}),Object(a.jsx)(Pa,{open:p,onClose:function(){g(!1)},onExited:function(){de(void 0),k(!1),Be(!1)},onAddRole:Ze,role:le,modify:w,onModifyRole:function(e,t,n){console.log("new role id",e),g(!p),n&&V(t),ie((function(t){return Object(ee.a)(t.filter((function(t){return t.id!==e})))})),ie((function(e){return[].concat(Object(ee.a)(e),[t])})),k(!1)},isDefault:Le}),Object(a.jsxs)(L.a,{style:{marginTop:16},children:[Object(a.jsxs)(Xe.a,{className:Object(je.a)(i.sidePaddingsNone,i.listHeader),children:[Object(a.jsx)(Ye.a,{primary:Object(a.jsx)(B.a,{variant:"h6",children:"Members"})}),Object(a.jsx)(J.a,{onClick:function(){return ke(!we)},children:Object(a.jsx)(Nn.a,{})})]}),Object(a.jsx)(G.a,{className:i.divider}),Object(a.jsxs)(Xe.a,{children:[Object(a.jsx)(hn.a,{children:Object(a.jsx)(_.a,{})}),Object(a.jsx)(Ye.a,{primary:null===te||void 0===te?void 0:te.username}),Object(a.jsx)(mn.a,{children:Object(a.jsx)(ot.a,{label:"Owner"})})]}),ge.map((function(e){return Object(a.jsxs)(Xe.a,{children:[Object(a.jsx)(hn.a,{children:Object(a.jsx)(_.a,{})}),Object(a.jsx)(Ye.a,{primary:e.username}),Object(a.jsx)(mn.a,{children:Object(a.jsx)(J.a,{onClick:function(){return xe((function(t){return Object(ee.a)(t.filter((function(t){return e.id!==t.id})))}))},children:Object(a.jsx)(wn.a,{})})})]},e.id)}))]}),Object(a.jsx)(ha,{open:we,onClose:function(){ke(!we),De([])},newUsers:We,availableUsers:Ue,orgCreation:!0,onNewUserClick:function(e){var t=We;We.includes(e)?(t=t.filter((function(t){return t!==e})),De(t)):De([].concat(Object(ee.a)(We),[e]))},onAdduser:function(e){for(var t=function(t){var n=Oe.filter((function(n){return n.id===e[t]}));n[0].id!==(null===te||void 0===te?void 0:te.id)&&xe((function(e){return[].concat(Object(ee.a)(e),[n[0]])}))},n=0;n<e.length;n++)t(n);ke(!we),De([])}})]}),Object(a.jsx)(Q.a,{item:!0,xs:12,style:{display:"flex",justifyContent:"flex-end"},children:Object(a.jsx)(Q.a,{item:!0,xs:3,children:Object(a.jsx)(Pt.a,{fullWidth:!0,onClick:function(){console.log("roles",ce);var e=ge.map((function(e){return e.id})),t=ce.filter((function(e){return e.id!==Z.id})).map((function(e){e.id;return Object($e.a)(e,["id"])})),n=(Z.id,Object($e.a)(Z,["id"]));console.log(t),b().post("organizations").send({name:S,description:T,userIds:e,roles:t,defaultRole:n}).then((function(e){d("Successfully created"),u({page:"organization",id:e.body.organizationId})})).catch((function(e){new Ge(o).on(400,"Invalid input").on(401,(function(){s()})).on(409,"Organization with this name already exists").handle(e)}))},children:"Create"})})})]})})),Mr=Object(C.a)(Wr)(Dr),zr=function(e){return Object(k.a)({firstLine:Object(S.a)({justifyContent:"center",alignItems:"center",listStyleType:"none"},e.breakpoints.down("sm"),{paddingLeft:e.spacing(2),paddingRight:e.spacing(2)}),dangerZoneContainer:{display:"flex",justifyContent:"flex-start",alignItems:"center"},dangerZoneButton:{margin:e.spacing(2,0)},dangerZoneHeader:{paddingBottom:0,color:e.palette.error.dark},dangerZoneDivider:{backgroundColor:e.palette.error.dark},avatar:{variant:"circle",height:e.spacing(26),width:e.spacing(26)},avatarContainer:{display:"flex",justifyContent:"center",marginLeft:16},userContainer:{display:"flex"},editFieldsContainer:{display:"flex",flexGrow:1,flexDirection:"column"},editField:{marginBottom:e.spacing(2)},loading:{display:"flex",height:"90vh",justifyContent:"center",alignItems:"center"}})},Ur=c.a.forwardRef((function(e,t){var n=e.classes,c=(e.className,y()),i=c.getUser,s=c.logout,o=Ee(),d=Ne(),j=Object(fe.b)().changeRoute,u=ea(),b=Object(V.h)().path,O=Object(r.useState)(null),h=Object(l.a)(O,2),m=h[0],f=h[1],p=Object(r.useState)({email:null===m||void 0===m?void 0:m.email,username:null===m||void 0===m?void 0:m.username,password:"123456"}),g=Object(l.a)(p,2),x=g[0],v=g[1],w=Object(r.useState)(!1),k=Object(l.a)(w,2),N=k[0],C=k[1];function R(e){e.persist(),v((function(t){return Object(E.a)(Object(E.a)({},t),{},Object(S.a)({},e.target.name,e.target.value))}))}function P(){return I.apply(this,arguments)}function I(){return(I=Object($.a)(K.a.mark((function e(){var t,n,a;return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null===(t=i())||void 0===t?void 0:t.id,e.prev=1,e.next=4,d().get("users/".concat(n));case 4:a=e.sent,f(a.body),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),new Ge(o).on(401,(function(){s()})).on(404,"User not found").handle(e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,8]])})))).apply(this,arguments)}function T(){var e,t=null===(e=i())||void 0===e?void 0:e.id;d().delete("users/".concat(t)).send({password:"123456"}).then((function(e){s()})).catch((function(e){new Ge(o).on(400,"Cant not delete user").on(401,(function(){s()})).on(403,"Forbidden").on(404,"User not found").handle(e)}))}return Object(r.useEffect)((function(){Promise.all([P()]).then((function(){C(!0)}))}),[]),Object(r.useEffect)((function(){v({email:null===m||void 0===m?void 0:m.email,username:null===m||void 0===m?void 0:m.username,password:"123456"})}),[m]),N?Object(a.jsx)(V.c,{children:Object(a.jsx)(V.a,{path:b,children:Object(a.jsx)(Q.a,{container:!0,className:n.firstLine,style:{marginTop:16},children:Object(a.jsxs)(Q.a,{item:!0,xs:10,children:[Object(a.jsxs)(z.a,{className:n.userContainer,children:[Object(a.jsxs)(z.a,{className:n.editFieldsContainer,children:[Object(a.jsx)(En.a,{className:n.editField,fullWidth:!0,required:!0,label:"Username",name:"username",value:null===x||void 0===x?void 0:x.username,variant:"outlined",onChange:R,InputLabelProps:{shrink:!0}}),Object(a.jsx)(En.a,{className:n.editField,fullWidth:!0,required:!0,label:"Email",name:"email",value:null===x||void 0===x?void 0:x.email,variant:"outlined",onChange:R,InputLabelProps:{shrink:!0}}),Object(a.jsx)(En.a,{className:n.editField,fullWidth:!0,required:!0,id:"standard-required",label:"Department",defaultValue:"Department",variant:"outlined",InputLabelProps:{shrink:!0}})]}),Object(a.jsx)(z.a,{className:n.avatarContainer,children:Object(a.jsx)(_.a,{className:n.avatar,src:"https://cdn.sportclub.ru/assets/2019-09-20/n97c311rvb.jpg"})})]}),Object(a.jsx)(z.a,{className:n.dangerZoneHeader,children:Object(a.jsx)(z.a,{className:n.dangerZoneContainer,children:Object(a.jsx)(Pt.a,{className:n.dangerZoneButton,variant:"contained",color:"primary",onClick:function(){var e,t=null===(e=i())||void 0===e?void 0:e.id;d().post("users/".concat(t)).send(x).then((function(e){j({page:"user"})})).catch((function(e){new Ge(o).on(400,"Cant not edit user").on(401,(function(){s()})).on(403,"Forbidden").on(404,"User not found").on(409,"Conflict user data").handle(e)}))},children:"Save changes"})})}),Object(a.jsxs)(z.a,{className:n.dangerZoneHeader,children:[Object(a.jsx)(B.a,{variant:"h6",children:"Danger Zone"}),Object(a.jsx)(G.a,{className:n.dangerZoneDivider}),Object(a.jsx)(z.a,{className:n.dangerZoneContainer,children:Object(a.jsx)(Pt.a,{className:n.dangerZoneButton,variant:"contained",color:"secondary",onClick:function(){return u(Object($.a)(K.a.mark((function e(){return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",T());case 1:case"end":return e.stop()}}),e)}))),{title:"are you sure to delete user: ".concat(null===m||void 0===m?void 0:m.username," ?")})},children:"Delete User"})}),Object(a.jsx)(G.a,{className:n.dangerZoneDivider})]})]})})})}):Object(a.jsx)(z.a,{className:n.loading,children:Object(a.jsx)(Te,{})})})),Jr=Object(C.a)(zr)(Ur),_r=n.p+"static/media/AtlasSystemsLogo.f20a4b33.svg",qr=function(e){return Object(k.a)({firstLine:Object(S.a)({justifyContent:"center",alignItems:"center",listStyleType:"none"},e.breakpoints.down("sm"),{paddingLeft:e.spacing(2),paddingRight:e.spacing(2)}),paddingNone:{paddingLeft:0,paddingBottom:0}})},Hr=function(e){return Object(k.a)({dialogRoles:{width:"100%",textAlign:"center",paddingBottom:e.spacing(2)},gridPadding:{marginBottom:e.spacing(1)},dialogSize:{width:"100%"},rootFolder:{border:"1px solid ".concat(dt.a[700]),minHeight:300,padding:e.spacing(1)}})},Gr=n(413),Zr=function(e){return Object(k.a)({container:{padding:e.spacing(1),borderRadius:2,"&:hover":{background:It.a[800]}},draggingContainer:{padding:e.spacing(1),borderRadius:2,background:It.a[800]}})},Vr=Object(C.a)(Zr)((function(e){var t=e.classes,n=(e.className,e.style,e.type),r=Object(Gr.a)({item:{type:n},collect:function(e){return{isDragging:e.isDragging()}}}),c=Object(l.a)(r,2),i=c[0].isDragging,s=c[1],o=i?.6:1;return Object(a.jsxs)(Xe.a,{ref:s,className:t.container,style:{opacity:o},children:[Object(a.jsx)(hn.a,{children:Object(a.jsxs)(_.a,{children:["string"===n&&Object(a.jsx)(Fa.a,{}),"separator"===n&&Object(a.jsx)(Wa.a,{}),"boolean"===n&&Object(a.jsx)(Tn.a,{}),("integer"===n||"float"===n)&&Object(a.jsx)(Ma.a,{}),"folder"===n&&Object(a.jsx)(Ua.a,{})]})}),Object(a.jsx)(Ye.a,{primary:n})]})})),Yr=function(e){return Object(k.a)({folder:{border:"1px solid ".concat(dt.a[700]),padding:e.spacing(1,1,1,1),minHeight:50,width:"100%"}})},Kr=n(414),$r=function e(t){Object(d.a)(this,e),this.id=void 0,this.type=void 0,this.name=void 0,this.label=void 0,this.id=t.id,this.type=t.type,this.name=t.name,this.label=t.label},Qr=function(e){Object(j.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(d.a)(this,n),(a=t.call(this,{id:e.id,type:e.type,name:e.name,label:e.label})).nested=void 0,a.nested=e.nested,a}return n}($r),Xr=function(e){Object(j.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(d.a)(this,n),(a=t.call(this,{id:e.id,type:e.type,name:e.name,label:e.label})).default=void 0,a.min=void 0,a.max=void 0,a.default=e.default,a.min=e.min,a.max=e.max,a}return n}($r),ec=function(e){Object(j.a)(n,e);var t=Object(u.a)(n);function n(e){return Object(d.a)(this,n),t.call(this,{id:e.id,type:e.type,name:e.name,label:e.label})}return n}($r),tc=function(e){Object(j.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(d.a)(this,n),(a=t.call(this,{id:e.id,type:e.type,name:e.name,label:e.label})).default=void 0,a.min=void 0,a.max=void 0,a.default=""+e.default,a.min=e.min,a.max=e.max,a}return n}($r),nc=function(e){Object(j.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(d.a)(this,n),(a=t.call(this,{id:e.id,type:e.type,name:e.name,label:e.label})).default=void 0,a.default=e.default,a}return n}($r),ac=function(e){Object(j.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(d.a)(this,n),(a=t.call(this,{id:e.id,type:e.type,name:e.name,label:e.label})).default=void 0,a.min=void 0,a.max=void 0,a.default=e.default,a.min=e.min,a.max=e.max,a}return n}($r),rc=Object(C.a)(Yr)((function(e){var t=e.classes,n=e.className,c=e.children,i=e.id,s=(e.style,Object(r.useContext)(kc)),o=Object(Kr.a)({accept:["integer","folder","separator","string","boolean","float"],drop:function(e,t){t.didDrop()||("folder"===e.type?s.handleAddPluginField(new Qr({type:"folder",name:"Folder",label:"Folder",nested:[],id:s.idGenerator()}),i):"integer"===e.type?s.handleAddPluginField(new Xr({type:"integer",name:"Integer",label:"Integer Field",min:null,max:null,default:null,id:s.idGenerator()}),i):"separator"===e.type?s.handleAddPluginField(new ec({type:"separator",name:"Divider",label:"Divider",id:s.idGenerator()}),i):"string"===e.type?s.handleAddPluginField(new tc({type:"string",name:"String",label:"String Field",min:null,max:null,default:"",id:s.idGenerator()}),i):"boolean"===e.type?s.handleAddPluginField(new nc({type:"boolean",name:"Boolean",label:"Boolean Field",default:!1,id:s.idGenerator()}),i):"float"===e.type&&s.handleAddPluginField(new ac({type:"float",name:"Float",label:"Float Field",min:null,max:null,default:null,id:s.idGenerator()}),i))},collect:function(e){return{isOver:e.isOver(),isOverCurrent:e.isOver({shallow:!0})}}}),d=Object(l.a)(o,2),j=d[0],u=(j.isOver,j.isOverCurrent),b=d[1];return Object(a.jsx)("div",{className:n||t.folder,ref:b,style:u?{backgroundColor:It.a[900]}:{backgroundColor:It.a[800]},children:Object(a.jsx)("div",{children:c})})})),cc=function(e){return Object(k.a)({field:{paddingLeft:e.spacing(1)}})},ic=Object(C.a)(cc)((function(e){var t=e.classes,n=e.field,c=e.onDelete,i=e.moveCard,s=e.index,o=e.getIndex,d=e.fieldIndex,j=e.error,u=(Object(r.useContext)(kc),Object(r.useRef)(null)),b=n.id,O=Object(Kr.a)({accept:"InputField",hover:function(e,t){if(u.current){var n=e.index,a=s;if(n!==a){var r=u.current.getBoundingClientRect(),c=(r.bottom-r.top)/2,o=t.getClientOffset().y-r.top;n<a&&o<c||n>a&&o>c||(i(n,a,1,1),e.index=a)}}}}),h=Object(l.a)(O,2)[1],m=Object(Gr.a)({item:{type:"InputField",id:b,index:s},collect:function(e){return{isDragging:e.isDragging()}}}),f=Object(l.a)(m,2),p=f[0].isDragging;(0,f[1])(h(u));var g=p?0:1,x=d===s?"#3D3D3D":It.a[800],v="white";return j&&(v="red"),Object(a.jsxs)(Xe.a,{ref:u,style:{opacity:g,backgroundColor:x,color:v},button:!0,onClick:function(){return o(s)},className:t.field,children:[Object(a.jsx)(hn.a,{children:Object(a.jsxs)(_.a,{children:["string"===n.type&&Object(a.jsx)(Fa.a,{}),"separator"===n.type&&Object(a.jsx)(Wa.a,{}),"boolean"===n.type&&Object(a.jsx)(Tn.a,{}),("integer"===n.type||"float"===n.type)&&Object(a.jsx)(Ma.a,{}),"folder"===n.type&&Object(a.jsx)(Ua.a,{})]})}),Object(a.jsx)(Ye.a,{primary:n.name,secondary:n.type}),Object(a.jsx)(mn.a,{style:{opacity:g},children:Object(a.jsx)(J.a,{edge:"end","aria-label":"delete",onClick:function(){return c(n)},children:Object(a.jsx)(wn.a,{})})})]})})),sc=function(e){return Object(k.a)({typographyText:{textAlign:"center"},gridPadding:{marginBottom:e.spacing(1)},listPadding:{padding:0}})},oc=c.a.forwardRef((function(e,t){var n=e.classes,i=(e.style,e.className,e.pluginField),s=e.index,o=Object(r.useContext)(kc),d=Object(r.useState)(!1),j=Object(l.a)(d,2),u=j[0],b=j[1],O=Object(r.useState)({noInputError:!0,nameError:!1,labelError:!1,minError:!1,maxError:!1,defaultError:!1}),h=Object(l.a)(O,2),m=h[0],f=h[1];Object(r.useEffect)((function(){(i instanceof Xr||i instanceof tc||i instanceof ac)&&b(!0)})),Object(r.useEffect)((function(){b(!1)}),[s]),Object(r.useEffect)((function(){f({noInputError:!0,nameError:!1,labelError:!1,minError:!1,maxError:!1,defaultError:!1}),console.log(o.errorIds),i&&o.errorIds.includes(i.id)&&(g("name"),g("label"),(i instanceof Xr||i instanceof ac||i instanceof tc)&&(g("min"),g("max"),g("default")))}),[i]);var p=function(e){return function(t){var n;t.persist(),n=null===t.target.value||void 0===t.target.value||""===t.target.value?null:t.target.value,i instanceof Xr?o.handleEditPluginField(new Xr({type:i.type,name:"name"===e?n:i.name,label:"label"===e?n:i.label,min:"min"===e?n?+n:n:i.min,max:"max"===e?n?+n:n:i.max,default:"default"===e?n?+n:n:i.default,id:i.id}),s):i instanceof Qr?o.handleEditPluginField(new Qr({type:i.type,name:"name"===e?n:i.name,label:"label"===e?n:i.label,id:i.id}),s):i instanceof ec?o.handleEditPluginField(new ec({type:i.type,name:"name"===e?n:i.name,label:"label"===e?n:i.label,id:i.id}),s):i instanceof tc?o.handleEditPluginField(new tc({type:i.type,name:"name"===e?n:i.name,label:"label"===e?n:i.label,min:"min"===e?n?+n:n:i.min,max:"max"===e?n?+n:n:i.max,default:"default"===e?n:i.default,id:i.id}),s):i instanceof ac?o.handleEditPluginField(new ac({type:i.type,name:"name"===e?n:i.name,label:"label"===e?n:i.label,min:"min"===e?n?+n:n:i.min,max:"max"===e?n?+n:n:i.max,default:"default"===e?n?+n:n:i.default,id:i.id}),s):i instanceof nc&&o.handleEditPluginField(new nc({type:i.type,name:"name"===e?n:i.name,label:"label"===e?n:i.label,default:"default"===e?t.target.checked:i.default,id:i.id}),s)}};function g(e){f((function(e){return Object(E.a)(Object(E.a)({},e),{},{noInputError:!1})})),"name"===e?!i.name||i.name.length<3||i.name.length>50||o.pluginFields.filter((function(e){return e.name===i.name})).length>1?f((function(e){return Object(E.a)(Object(E.a)({},e),{},{nameError:!0})})):f((function(e){return Object(E.a)(Object(E.a)({},e),{},{nameError:!1})})):"label"===e&&(!i.label||i.label.length<3||i.label.length>50?f((function(e){return Object(E.a)(Object(E.a)({},e),{},{labelError:!0})})):f((function(e){return Object(E.a)(Object(E.a)({},e),{},{labelError:!1})}))),(i instanceof Xr||i instanceof tc||i instanceof ac)&&("min"===e?!i.min||i.min<0?f((function(e){return Object(E.a)(Object(E.a)({},e),{},{minError:!0})})):f((function(e){return Object(E.a)(Object(E.a)({},e),{},{minError:!1})})):"max"===e?!i.max||i.max<0?f((function(e){return Object(E.a)(Object(E.a)({},e),{},{maxError:!0})})):f((function(e){return Object(E.a)(Object(E.a)({},e),{},{maxError:!1})})):"default"===e&&(i instanceof tc?(!i.default||i.min&&i.default.length<i.min||i.max&&i.default.length>i.max?f((function(e){return Object(E.a)(Object(E.a)({},e),{},{defaultError:!0})})):f((function(e){return Object(E.a)(Object(E.a)({},e),{},{defaultError:!1})})),i.default||f((function(e){return Object(E.a)(Object(E.a)({},e),{},{defaultError:!1})}))):(i instanceof Xr||i instanceof ac)&&(!i.default||i.min&&i.default<i.min||i.max&&i.default>i.max?f((function(e){return Object(E.a)(Object(E.a)({},e),{},{defaultError:!0})})):f((function(e){return Object(E.a)(Object(E.a)({},e),{},{defaultError:!1})})),i.default||f((function(e){return Object(E.a)(Object(E.a)({},e),{},{defaultError:!1})})))),"min"!==e&&"max"!==e||(i.min&&i.max&&i.min>i.max?f((function(e){return Object(E.a)(Object(E.a)({},e),{},{maxError:!0,minError:!0})})):f((function(e){return Object(E.a)(Object(E.a)({},e),{},{maxError:!1,minError:!1})}))))}return i?Object(a.jsx)(L.a,{children:Object(a.jsx)(Xe.a,{className:n.listPadding,children:Object(a.jsxs)(Q.a,{container:!0,children:[Object(a.jsx)(Q.a,{item:!0,xs:12,className:n.gridPadding,children:Object(a.jsx)(En.a,{error:m.nameError,variant:"standard",required:!0,fullWidth:!0,name:"name",label:"Name",value:i.name,onChange:p("name"),onBlur:function(){g("name"),o.handleDeleteErrorsIds(i.id)},InputLabelProps:{shrink:!0}})}),Object(a.jsx)(Q.a,{item:!0,xs:12,className:n.gridPadding,children:Object(a.jsx)(En.a,{error:m.labelError,variant:"standard",required:!0,fullWidth:!0,name:"label",label:"Label",value:i.label,onChange:p("label"),onBlur:function(){return g("label")},InputLabelProps:{shrink:!0}})}),u&&(i instanceof Xr||i instanceof tc||i instanceof ac)&&Object(a.jsxs)(c.a.Fragment,{children:[Object(a.jsx)(Q.a,{item:!0,xs:12,className:n.gridPadding,children:Object(a.jsx)(En.a,{error:m.minError,type:"number",variant:"standard",fullWidth:!0,name:"min",label:"Min value",value:i.min,onChange:p("min"),onBlur:function(){return g("min")},InputLabelProps:{shrink:!0}})}),Object(a.jsx)(Q.a,{item:!0,xs:12,className:n.gridPadding,children:Object(a.jsx)(En.a,{error:m.maxError,type:"number",variant:"standard",fullWidth:!0,name:"max",label:"Max value",value:i.max,onChange:p("max"),onBlur:function(){return g("max")},InputLabelProps:{shrink:!0}})}),Object(a.jsx)(Q.a,{item:!0,xs:12,className:n.gridPadding,children:Object(a.jsx)(En.a,{error:m.defaultError,type:i instanceof Xr?"number":"string",variant:"standard",fullWidth:!0,name:"default",label:"Default Value",value:i.default,onChange:p("default"),onBlur:function(){return g("default")},InputLabelProps:{shrink:!0}})})]}),i instanceof nc&&Object(a.jsx)(Q.a,{item:!0,xs:12,className:n.gridPadding,children:Object(a.jsxs)(B.a,{children:["Default",Object(a.jsx)(ka.a,{checked:i.default,onChange:p("default")})]})})]})})}):Object(a.jsx)(B.a,{variant:"h6",className:n.typographyText,children:"Nothing selected"})})),lc=Object(C.a)(sc)(oc),dc=c.a.forwardRef((function(e,t){var n,i=e.classes,s=(e.style,e.className,e.open),o=(e.onClose,e.onAddField,e.pluginFields,e.idGenerator,e.move),d=Object(r.useContext)(kc),j=(Ee(),Ne(),Object(r.useState)(0)),u=Object(l.a)(j,2),b=u[0],O=u[1],h=Object(r.useState)(new Qr({id:0,name:"",type:"folder",label:"",nested:[]})),m=Object(l.a)(h,2),f=m[0],p=m[1],g=Object(r.useState)("inputField"),x=Object(l.a)(g,2),v=(x[0],x[1],Object(r.useState)({name:"",niceName:"",min:1,max:255,default:"",id:0})),y=Object(l.a)(v,2),w=y[0],k=y[1];function N(e){O(e)}return Object(r.useEffect)((function(){var e=d.pluginFields[0];e instanceof Qr&&p(e)})),Object(r.useEffect)((function(){k({name:"",niceName:"",min:1,max:255,default:"",id:w.id})}),[s]),Object(a.jsx)(c.a.Fragment,{children:Object(a.jsx)(L.a,{className:i.dialogSize,children:Object(a.jsx)(Xe.a,{children:Object(a.jsxs)(Q.a,{container:!0,spacing:4,children:[Object(a.jsx)(Q.a,{item:!0,xs:12,md:3,children:Object(a.jsx)(Q.a,{container:!0,children:Object(a.jsx)(Q.a,{item:!0,xs:12,className:i.gridPadding,children:Object(a.jsxs)(L.a,{children:[Object(a.jsx)(Vr,{type:"integer"}),Object(a.jsx)(Vr,{type:"string"}),Object(a.jsx)(Vr,{type:"separator"}),Object(a.jsx)(Vr,{type:"boolean"}),Object(a.jsx)(Vr,{type:"float"})]})})})}),Object(a.jsx)(Q.a,{item:!0,xs:12,md:6,children:Object(a.jsx)(Q.a,{container:!0,className:i.firstLine,children:Object(a.jsx)(Q.a,{item:!0,xs:12,children:Object(a.jsx)(rc,{className:i.rootFolder,id:f.id,children:(n=d.pluginFields,n.map((function(e,t){return Object(a.jsx)(ic,{error:d.errorIds.includes(e.id),field:e,index:t,fieldIndex:b,moveCard:o,getIndex:N,onDelete:d.handleDeletePluginField},e.id)})))})})})}),Object(a.jsx)(Q.a,{item:!0,xs:12,md:3,children:Object(a.jsx)(lc,{pluginField:d.pluginFields[b],index:b})})]})})})})})),jc=Object(C.a)(Hr)(dc),uc=n(227),bc=n.n(uc),Oc=n(52),hc=function(e){return Object(k.a)({input:{},root:{width:"100%"},rootDrag:{backgroundColor:"rgba(255,255,255,0.1)"},color:{backgroundColor:"rgba(255,255,255,0.05)"},dropzone:{userSelect:"none",cursor:"pointer",width:"100%",border:"2px solid transparent",display:"flex",alignItems:"center",justifyContent:"center",padding:e.spacing(1)},dropzoneDrag:{border:"2px dashed black",height:300},textContainer:{flexGrow:1,textAlign:"center"}})},mc=n(234),fc=function e(t){Object(d.a)(this,e),this.id=void 0,this.name=void 0,this.type=void 0,this.id=t.id,this.name=t.name,this.type=t.type},pc=n(229),gc=n.n(pc),xc=K.a.mark(vc);function vc(){var e;return K.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=0;case 1:return e++,t.next=5,e;case 5:t.next=1;break;case 7:return t.abrupt("return",e);case 8:case"end":return t.stop()}}),xc)}var yc=c.a.forwardRef((function(e,t){var n=e.classes,r=e.className,i=e.style,s=e.onBeforeLoad,o=e.onLoaded,d=e.onError,j=e.onProgress,u=e.multiple,b=e.getFileId,O=(Object($e.a)(e,["classes","className","style","onBeforeLoad","onLoaded","onError","onProgress","multiple","getFileId"]),Ne()),h=Ee(),m=c.a.useRef(vc()),f=c.a.useState([]),p=Object(l.a)(f,2),g=p[0],x=p[1],v=c.a.useCallback((function(e){u||function(){var e,t=Object(ee.a)(g),n=Object(Oc.a)(t);try{var a=function(){var t=e.value;if(!t.temp)return"continue";C(t.temp.id).catch((function(e){h("Error deleting ".concat(t.file.name))})).finally((function(){return x([])}))};for(n.s();!(e=n.n()).done;)a()}catch(r){n.e(r)}finally{n.f()}}();var t=e;s&&(t=s(t));var n,a=Object(Oc.a)(t);try{var r=function(){var e=n.value,t={file:e,progress:0,id:m.current.next().value};x((function(e){return[].concat(Object(ee.a)(e),[t])})),O().post("file").attach(e.name,e).on("progress",(function(e){var n=100*e.loaded/e.total;x((function(e){var a=Object(ee.a)(e),r=a.findIndex((function(e){return e.id===t.id}));return r<0||(a[r].progress=n),a})),j&&j(e)})).then((function(e){try{var n=new fc(e.body[0]);x((function(e){var a=Object(ee.a)(e),r=a.findIndex((function(e){return e.id===t.id}));return r<0||(a[r].temp=n,a[r].progress=1e3,b(n.id)),a})),o&&o(n)}catch(a){h("Error deleting file.")}})).catch((function(e){d&&d(e)}))};for(a.s();!(n=a.n()).done;)r()}catch(c){a.e(c)}finally{a.f()}}),[]),y=Object(mc.a)({onDrop:v}),w=y.getRootProps,k=y.getInputProps,N=y.isDragActive;function C(e){return S.apply(this,arguments)}function S(){return(S=Object($.a)(K.a.mark((function e(t){return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O().delete("file/".concat(t));case 3:e.next=8;break;case 5:throw e.prev=5,e.t0=e.catch(0),e.t0;case 8:return e.prev=8,x((function(e){return e.filter((function(e){return e.temp&&e.temp.id!==t}))})),e.finish(8);case 11:case"end":return e.stop()}}),e,null,[[0,5,8,11]])})))).apply(this,arguments)}function R(){return(R=Object($.a)(K.a.mark((function e(t){var n;return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=g.find((function(e){return e.id===t}))){e.next=3;break}return e.abrupt("return",!1);case 3:if(!n.temp){e.next=8;break}return e.next=6,C(n.temp.id);case 6:e.next=9;break;case 8:x((function(e){return e.filter((function(e){return e.id!==t}))}));case 9:return e.abrupt("return",!0);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(a.jsxs)(z.a,{children:[0===g.length&&Object(a.jsxs)(z.a,Object(E.a)(Object(E.a)({},w()),{},{className:Object(je.a)(n.root,n.dropzone,n.color,N&&n.dropzoneDrag,N&&n.rootDrag,r),style:i,children:[Object(a.jsxs)(z.a,{className:n.textContainer,children:[Object(a.jsx)(B.a,{variant:"h5",children:"UPLOAD"}),Object(a.jsx)(B.a,{variant:"body1",color:"textSecondary",children:N?"Drop files here ...":"Drag and drop or click to select files."})]}),Object(a.jsx)(ca.a,{className:n.input,inputProps:Object(E.a)(Object(E.a)({},k()),{},{color:"primary",multiple:!!u})})]})),!!g.length&&Object(a.jsx)(L.a,{children:g.map((function(e){return Object(a.jsxs)(Xe.a,{children:[Object(a.jsx)(hn.a,{children:Object(a.jsx)(_.a,{children:Object(a.jsx)(gc.a,{})})}),Object(a.jsx)(Ye.a,{primary:e.file.name,secondary:e.progress<=100?Object(a.jsx)(ue.a,{variant:"determinate",value:e.progress}):e.file.type,secondaryTypographyProps:{component:"div"}}),Object(a.jsx)(mn.a,{children:Object(a.jsx)(J.a,{edge:"end","aria-label":"delete",onClick:function(t){return function(e){return R.apply(this,arguments)}(e.id)},children:Object(a.jsx)(wn.a,{})})})]},"file-item-".concat(e.file.name,"-").concat(e.id))}))})]})}));yc.displayName="FilesLoader";var wc=Object(C.a)(hc)(yc),kc=c.a.createContext({pluginFields:[],errorIds:[],handleAddPluginField:function(e,t){},handleDeletePluginField:function(e){},handleEditPluginField:function(e,t){},idGenerator:function(){return 1},moveField:function(e,t,n,a){return[]},handleGetErrorIndexes:function(e){},handleDeleteErrorsIds:function(e){}}),Nc=c.a.forwardRef((function(e,t){var n=e.classes,i=(e.className,e.style,Object(fe.b)().changeRoute),s=y().logout,o=Ee(),d=Ne(),j=c.a.useRef(Ea()),u=function(){return j.current.next().value},b=(0,Object(fe.b)().getRouteParams)().id,O=Object(r.useState)([]),h=Object(l.a)(O,2),m=h[0],f=h[1],p=Object(r.useState)([]),g=Object(l.a)(p,2),x=g[0],v=g[1];console.log(m);var w=Object(r.useState)({name:"",version:"",note:"",description:"",file:0,organization:+b,settings:m}),k=Object(l.a)(w,2),N=k[0],C=k[1];Object(r.useEffect)((function(){C((function(e){return Object(E.a)(Object(E.a)({},e),{},{settings:m})}))}),[m]);var R=Object(r.useState)(!1),P=Object(l.a)(R,2),I=P[0],T=P[1];function B(e){e.persist(),C((function(t){return Object(E.a)(Object(E.a)({},t),{},Object(S.a)({},e.target.name,e.target.value))})),console.log(N)}var F=Object(r.useCallback)((function(e,t,n,a){var r=m[e];f(bc()(m,{$splice:[[e,1],[t,0,r]]}))}),[m]);function A(e,t){f((function(t){return[].concat(Object(ee.a)(t),[e])}))}var W=function(e){v((function(t){return[].concat(Object(ee.a)(t),[e])}))},D=function(){m.forEach((function(e){var t=function(e){if(!e.name||e.name.length<3||e.name.length>50||m.filter((function(t){return t.name===e.name})).length>1)return console.log("name"),e.id;if(!e.label||e.label.length<3||e.label.length>50)return e.id}(e);console.log(t),t&&W(t)}))};return Object(a.jsxs)(c.a.Fragment,{children:[Object(a.jsx)(Q.a,{container:!0,className:n.firstLine,children:Object(a.jsx)(Q.a,{item:!0,xs:12,md:10,children:Object(a.jsxs)(Q.a,{container:!0,spacing:2,children:[Object(a.jsx)(Q.a,{item:!0,xs:6,children:Object(a.jsx)(En.a,{fullWidth:!0,label:"Name",name:"name",value:N.name,onChange:B})}),Object(a.jsx)(Q.a,{item:!0,xs:6,children:Object(a.jsx)(En.a,{fullWidth:!0,label:"Version",name:"version",value:N.version,onChange:B})}),Object(a.jsx)(Q.a,{item:!0,xs:12,children:Object(a.jsx)(En.a,{fullWidth:!0,label:"Note",name:"note",value:N.note,onChange:B})}),Object(a.jsx)(Q.a,{item:!0,xs:12,children:Object(a.jsx)(En.a,{fullWidth:!0,label:"Description",name:"description",value:N.description,onChange:B})}),Object(a.jsx)(Q.a,{item:!0,xs:12,children:Object(a.jsx)(wc,{multiple:!0,getFileId:function(e){C((function(t){return Object(E.a)(Object(E.a)({},t),{},{file:e})})),console.log("file id",e)}})})]})})}),Object(a.jsx)(Q.a,{container:!0,className:n.firstLine,children:Object(a.jsx)(Q.a,{item:!0,xs:12,md:10,children:Object(a.jsxs)(L.a,{component:"nav","aria-label":"secondary mailbox folders",children:[Object(a.jsx)(Xe.a,{className:n.paddingNone,children:Object(a.jsx)(Ye.a,{primary:"Settings",primaryTypographyProps:{variant:"h6"}})}),Object(a.jsx)(G.a,{})]})})}),Object(a.jsxs)(Q.a,{container:!0,className:n.firstLine,children:[Object(a.jsx)(Q.a,{item:!0,xs:12,md:10,children:Object(a.jsx)(kc.Provider,{value:{pluginFields:m,errorIds:x,handleAddPluginField:A,handleDeletePluginField:function(e){f(m.filter((function(t){return t.id!==e.id})))},handleEditPluginField:function(e,t){var n=Object(ee.a)(m);n.splice(t,1,e),f(n)},idGenerator:u,moveField:function(e,t,n,a){var r=arguments.length>4&&void 0!==arguments[4]&&arguments[4],c=Object(ee.a)(e),i=null;function s(e){return function t(n,a){for(var r=0;r<n.length;r++){var c=n[r];if(c.id===a)return e(n,r);c instanceof Qr&&c.nested&&(c.nested=t(c.nested,a))}return n}}var o=s((function(e,t){return i=e[t],e.filter((function(n){return n.id!==e[t].id}))}))(c,t);if(r)return o;i||(i=a);var l=s((function(e,t){if(e[t]instanceof Qr){if(i){var a=e[t];a.nested&&a.nested.push(i)}}else{for(var r=new $r({type:"integer",name:"name",label:"label",id:1e3}),c=0;c<e.length;c++)e[c].id===n&&(r=e[c]);for(var s=0;s<e.length;s++)e[s].id===n&&i&&(e[s]=i,e.push(r))}return e}))(c,n);return l},handleGetErrorIndexes:W,handleDeleteErrorsIds:function(e){var t=x.filter((function(t){return t!==e}));v(t)}},children:Object(a.jsx)(jc,{open:I,onClose:function(){return T(!1)},onAddField:A,idGenerator:u,pluginFields:m,move:F})})}),Object(a.jsx)(Pt.a,{fullWidth:!0,onClick:function(){try{var e=new Ia.PluginSettingsSpec(m);C((function(t){return Object(E.a)(Object(E.a)({},t),{},{fields:e})}))}catch(t){if(t instanceof Ia.ValidationError)D(),o(t.message),console.log(t.getNested());else new Ge(o).on(400,"Plugin settings validation error").on(401,(function(){s()})).on(404,"Temp file not found").on(409,"Plugin with this version already exists").handle(t);return}console.log("Before send:",N),d().post("plugins").query({organization:N.organization}).send(N).then((function(e){console.log("done"),i({page:"organization/".concat(N.organization),create:null,id:null})})).catch((function(e){new Ge(o).on(400,"Plugin settings validation error").on(401,(function(){s()})).on(404,"Organization not found").on(409,"Plugin with this version already exists").handle(e)}))},children:"Save"})]})]})})),Cc=Object(C.a)(qr)(Nc),Sc=n(232),Ec=n(402),Rc=function(e){return Object(k.a)({container:{padding:e.spacing(2,1)},listIcon:{justifyContent:"center"},listText:{marginLeft:8}})},Pc=c.a.forwardRef((function(e,t){var n=e.classes,r=(e.className,e.page),c=e.label,i=e.icon,s=Object(fe.b)().changeRoute;return Object(a.jsxs)(Xe.a,{className:n.container,button:!0,onClick:function(){return s({page:r,panel:null})},children:[Object(a.jsx)(zn.a,{className:n.listIcon,children:Object(a.jsx)(i,{})}),Object(a.jsx)(Ye.a,{className:n.listText,primary:c})]})})),Ic=Object(C.a)(Rc)(Pc),Tc=n(175),Lc=n.n(Tc),Bc=n(174),Fc=n.n(Bc),Ac=c.a.forwardRef((function(e,t){var n=e.classes,i=(e.className,Ne()),s=Object(fe.b)().changeRoute,o=Ee(),d=Object(M.a)(),j=c.a.useState(!1),u=Object(l.a)(j,2),b=u[0],O=u[1],h=c.a.useState({left:!1}),m=Object(l.a)(h,2),f=m[0],p=m[1],g=y(),x=g.logout,v=g.isLogged,w=g.getUser,k=c.a.useState(null),N=Object(l.a)(k,2),C=N[0],F=N[1],W=Object(r.useState)(-1),D=Object(l.a)(W,2),Y=D[0],K=D[1],$=Object(r.useState)([]),Q=Object(l.a)($,2),X=Q[0],ee=Q[1],te=Object(r.useState)(!1),ne=Object(l.a)(te,2),ae=ne[0],re=ne[1],ce=Boolean(C)?"simple-popper":void 0,ie=Object(V.g)();Object(r.useEffect)((function(){var e=w();e&&(ze.connect(e.bearer),K(e.id));var t=function(e){console.log("recieved11 ",e)};return ze.getInstance().addListener(Ue,t),ze.getInstance().addListener(He,(function(e){console.log("UPDATE TASK EVENT:",e)})),"/"===ie.pathname&&s({page:"user",id:null}),function(){ze.getInstance().removeListener("ping",t)}}),[]),Object(r.useEffect)((function(){v||s({page:"authorization",panel:null})}),[v]),Object(r.useEffect)((function(){v&&Y>=0&&se()}),[Y,v]);var se=function(){i().get("users/".concat(Y,"/organizations")).then((function(e){ee(e.body),re(!0)})).catch((function(e){new Ge(o).on(401,(function(){x()})).on(404,"User not found").handle(e)}))},oe=function(){F(null)},le=function(e,t){return function(n){(!n||"keydown"!==n.type||"DialogTaskTabs"!==n.key&&"Shift"!==n.key)&&p(Object(E.a)(Object(E.a)({},f),{},Object(S.a)({},e,t)))}};var de,ue,be,Oe;Object(U.a)(d.breakpoints.up("md"))?(f.left&&p({left:!1}),de=Object(a.jsxs)(c.a.Fragment,{children:[Object(a.jsx)(I.a,{}),Object(a.jsx)(P.a,{position:"fixed",className:Object(je.a)(n.appBar,Object(S.a)({},n.appBarShift,b),n.header),children:Object(a.jsxs)(T.a,{className:n.header,children:[Object(a.jsx)(J.a,{color:"inherit","aria-label":"open drawer",onClick:function(){O(!0)},edge:"start",className:Object(je.a)(n.menuButton,Object(S.a)({},n.hide,b)),children:Object(a.jsx)(A.a,{})}),Object(a.jsx)(_.a,{src:_r,variant:"square"}),Object(a.jsx)(B.a,{variant:"h6",noWrap:!0,className:n.typographyFlex,children:"Atlas"}),Object(a.jsx)(J.a,{"aria-describedby":ce,type:"button",onClick:function(e){F(C?null:e.currentTarget)},children:Object(a.jsx)(_.a,{})}),ae&&Object(a.jsxs)(q.a,{id:"simple-menu",anchorEl:C,keepMounted:!0,open:Boolean(C),onClose:oe,className:n.rightSideMenu,children:[Object(a.jsx)(H.a,{onClick:function(){s({page:"user",panel:null}),oe()},children:"Profile"}),Object(a.jsx)(H.a,{onClick:function(){s({page:"jobs",panel:null}),oe()},children:"Render Jobs"}),X.length>0&&X.map((function(e,t){return t<3?Object(a.jsx)(H.a,{onClick:function(){s({page:"organization/".concat(e.id)}),oe()},children:e.name}):void 0})),Object(a.jsx)(H.a,{onClick:function(){x(),s({page:"authorization",panel:null})},children:"Logout"})]})]})}),Object(a.jsxs)(R.a,{variant:"permanent",className:Object(je.a)(n.drawer,(ue={},Object(S.a)(ue,n.drawerOpen,b),Object(S.a)(ue,n.drawerClose,!b),ue)),classes:{paper:Object(je.a)((be={},Object(S.a)(be,n.drawerOpen,b),Object(S.a)(be,n.drawerClose,!b),be))},children:[Object(a.jsx)(z.a,{className:n.toolbar,children:Object(a.jsx)(J.a,{onClick:function(){O(!1)},children:"rtl"===d.direction?Object(a.jsx)(rr.a,{}):Object(a.jsx)(nr.a,{})})}),Object(a.jsx)(G.a,{}),Object(a.jsxs)(L.a,{children:[Object(a.jsx)(Ic,{icon:Fc.a,page:"jobs",label:"Render ShortJobs"}),Object(a.jsx)(Ic,{icon:Lc.a,page:"user",label:"User Page"}),Object(a.jsx)(Ic,{icon:Tn.a,page:"submit",label:"Submit Page"}),Object(a.jsx)(Ic,{icon:Nn.a,page:"createorganization",label:"Create Organization"})]})]})]})):(b&&O(!1),de=Object(a.jsxs)(c.a.Fragment,{children:[Object(a.jsx)(I.a,{}),Object(a.jsx)(P.a,{position:"fixed",className:Object(je.a)(n.appBar,Object(S.a)({},n.appBarShift,b)),children:Object(a.jsxs)(T.a,{className:n.header,children:[Object(a.jsx)(J.a,{color:"inherit","aria-label":"open drawer",onClick:le("left",!0),edge:"start",className:Object(je.a)(n.menuButton,Object(S.a)({},n.hide,b)),children:Object(a.jsx)(A.a,{})}),Object(a.jsx)(Z.a,{anchor:"left",open:f.left,onClose:le("left",!1),onOpen:le("left",!0),children:(Oe="left",Object(a.jsx)(z.a,{className:Object(je.a)(n.list),role:"presentation",onClick:le(Oe,!1),onKeyDown:le(Oe,!1),children:Object(a.jsxs)(L.a,{children:[Object(a.jsx)(Ic,{icon:Fc.a,page:"jobs",label:"Render ShortJobs"}),Object(a.jsx)(Ic,{icon:Lc.a,page:"user",label:"User Page"}),Object(a.jsx)(Ic,{icon:Tn.a,page:"submit",label:"Submit Page"}),Object(a.jsx)(Ic,{icon:Nn.a,page:"createorganization",label:"Create Organization"})]})}))}),Object(a.jsx)(B.a,{variant:"h6",noWrap:!0,children:"Atlas"})]})})]}));Object(V.h)().path;return Object(a.jsxs)(z.a,{className:n.root,children:[de,Object(a.jsxs)("main",{className:n.content,children:[Object(a.jsx)(T.a,{}),Object(a.jsxs)(V.c,{children:[Object(a.jsx)(V.a,{exact:!0,path:"/user/:id/edit",children:Object(a.jsx)(Jr,{})}),Object(a.jsx)(V.a,{path:"/jobs",children:Object(a.jsx)(fe.a,{routeMask:"(/:panel)",children:Object(a.jsx)(On,{})})}),Object(a.jsx)(V.a,{path:"/user",children:Object(a.jsx)(fe.a,{routeMask:"(/:id(/:actions))",children:Object(a.jsx)(Mn,{})})}),Object(a.jsx)(V.a,{path:"/organization",children:Object(a.jsx)(fe.a,{routeMask:"(/:id)",children:Object(a.jsx)(er,{})})}),Object(a.jsx)(V.a,{path:"/submit",children:Object(a.jsx)(fe.a,{routeMask:"(/:panel)",children:Object(a.jsx)(Ar,{})})}),Object(a.jsx)(V.a,{path:"/createorganization",children:Object(a.jsx)(fe.a,{routeMask:"(/:id)",children:Object(a.jsx)(Mr,{})})}),Object(a.jsx)(V.a,{path:"/plugin",children:Object(a.jsx)(fe.a,{routeMask:"(/:create(/:id))",children:Object(a.jsx)(Ec.a,{backend:Sc.a,children:Object(a.jsx)(Cc,{})})})})]})]})]})})),Wc=Object(C.a)(D)(Ac),Dc=function(e){return Object(k.a)({})},Mc=function(e){return Object(k.a)({root:{flexGrow:1},title:{flexGrow:1},header:{background:e.palette.header.dark,color:e.palette.common.white}})},zc=c.a.forwardRef((function(e,t){var n=e.classes,r=e.className;return Object(a.jsx)(z.a,{className:Object(je.a)(n.root,r),children:Object(a.jsx)(P.a,{position:"static",children:Object(a.jsx)(T.a,{className:n.header,children:Object(a.jsx)(B.a,{className:n.title,variant:"h6",noWrap:!0,children:"Pathfinder"})})})})}));zc.displayName="Header";var Uc=Object(C.a)(Mc)(zc),Jc=n(404),_c=n(405),qc=n(145),Hc=n.n(qc),Gc=n(403),Zc=function(e){return Object(k.a)({paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}})},Vc=c.a.forwardRef((function(e,t){var n=e.classes,c=(e.className,e.style,Object(fe.b)().changeRoute),i=Object(w.b)().enqueueSnackbar,s=Ee(),o=y().login,d=Ne(),j=Object(r.useState)({usernameError:!1,usernameMessage:"",passwordError:!1,passwordMessage:""}),u=Object(l.a)(j,2),b=u[0],O=u[1],h=Object(r.useState)({username:"",password:""}),m=Object(l.a)(h,2),f=m[0],p=m[1];function g(e){e.persist(),O((function(t){return Object(E.a)(Object(E.a)({},t),{},Object(S.a)({},e.target.name+"Error",!1))})),p((function(t){return Object(E.a)(Object(E.a)({},t),{},Object(S.a)({},e.target.name,e.target.value))}))}return Object(a.jsxs)(Gc.a,{component:"main",maxWidth:"xs",children:[Object(a.jsx)(I.a,{}),Object(a.jsxs)(z.a,{className:n.paper,children:[Object(a.jsx)(_.a,{className:n.avatar,children:Object(a.jsx)(Hc.a,{})}),Object(a.jsx)(B.a,{component:"h1",variant:"h5",children:"Sign in"}),Object(a.jsx)(En.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,error:b.usernameError,helperText:b.usernameMessage,id:"username",label:"Username",name:"username",autoComplete:"username",autoFocus:!0,onChange:g}),Object(a.jsx)(En.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,error:b.passwordError,helperText:b.passwordMessage,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",onChange:g}),Object(a.jsx)(Jc.a,{control:Object(a.jsx)(ua.a,{value:"remember",color:"primary"}),label:"Remember me"}),Object(a.jsx)(Pt.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:n.submit,onClick:function(e){e.preventDefault(),d().post("login").send(f).then((function(e){console.log(e.body);var t=e.body;t||(console.error("No user"),i("No such user",{variant:"error"})),"number"===typeof t.id&&"string"===typeof t.username&&"string"===typeof t.email&&"string"===typeof t.bearer&&"string"===typeof t.createdAt&&"boolean"===typeof t.deleted||i("One of parameters has wrong type",{variant:"error"}),o(t),c({page:"user/".concat(t.id)})})).catch((function(e){new Ge(s).on(400,(function(){e.response.body.response.errors.forEach((function(e){console.log(e);var t=e.dataPath.substr(1)+"Error",n=e.dataPath.substr(1)+"Message";switch(e.keyword){case"format":O((function(a){var r;return Object(E.a)(Object(E.a)({},a),{},(r={},Object(S.a)(r,t,!0),Object(S.a)(r,n,"".concat(e.dataPath.substr(1)," has invalid format")),r))}));break;case"minLength":O((function(a){var r;return Object(E.a)(Object(E.a)({},a),{},(r={},Object(S.a)(r,t,!0),Object(S.a)(r,n,"".concat(e.dataPath.substr(1)," is too short")),r))}));break;case"maxLength":O((function(a){var r;return Object(E.a)(Object(E.a)({},a),{},(r={},Object(S.a)(r,t,!0),Object(S.a)(r,n,"".concat(e.dataPath.substr(1)," is too long")),r))}));break;case"pattern":O((function(a){var r;return Object(E.a)(Object(E.a)({},a),{},(r={},Object(S.a)(r,t,!0),Object(S.a)(r,n,"".concat(e.dataPath.substr(1)," has wrong pattern")),r))}))}}))})).on(401,(function(){O((function(e){return Object(E.a)(Object(E.a)({},e),{},{passwordError:!0,passwordMessage:"Incorrect passsword"})}))})).on(404,(function(){O((function(e){return Object(E.a)(Object(E.a)({},e),{},{usernameError:!0,usernameMessage:"There is no such user"})}))})).handle(e)}))},children:"Sign In"}),Object(a.jsxs)(Q.a,{container:!0,children:[Object(a.jsx)(Q.a,{item:!0,xs:!0,children:Object(a.jsx)(_c.a,{href:"#",variant:"body2",children:"Forgot password?"})}),Object(a.jsx)(Q.a,{item:!0,children:Object(a.jsx)(_c.a,{href:"",variant:"body2",onClick:function(){return c({page:"signUp"})},children:"Don't have an account? Sign Up"})})]})]})]})})),Yc=Object(C.a)(Zc)(Vc),Kc=function(e){return Object(k.a)({paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)}})},$c=c.a.forwardRef((function(e,t){var n=e.classes,c=(e.className,e.style,y().login),i=Ee(),s=Object(r.useState)({usernameError:!1,usernameMessage:"",emailError:!1,emailMessage:"",passwordError:!1,passwordMessage:""}),o=Object(l.a)(s,2),d=o[0],j=o[1],u=Object(r.useState)({username:"",password:"",email:""}),b=Object(l.a)(u,2),O=b[0],h=b[1],m=Object(fe.b)().changeRoute,f=Ne();function p(e){e.persist(),h((function(t){return Object(E.a)(Object(E.a)({},t),{},Object(S.a)({},e.target.name,e.target.value))}))}return Object(a.jsxs)(Gc.a,{component:"main",maxWidth:"xs",children:[Object(a.jsx)(I.a,{}),Object(a.jsxs)(z.a,{className:n.paper,children:[Object(a.jsx)(_.a,{className:n.avatar,children:Object(a.jsx)(Hc.a,{})}),Object(a.jsx)(B.a,{component:"h1",variant:"h5",children:"Sign up"}),Object(a.jsxs)(Q.a,{container:!0,spacing:2,children:[Object(a.jsx)(Q.a,{item:!0,xs:12,children:Object(a.jsx)(En.a,{autoComplete:"username",variant:"outlined",error:d.usernameError,required:!0,fullWidth:!0,name:"username",label:"Username",helperText:d.usernameMessage,autoFocus:!0,onChange:p})}),Object(a.jsx)(Q.a,{item:!0,xs:12,children:Object(a.jsx)(En.a,{variant:"outlined",required:!0,fullWidth:!0,error:d.emailError,helperText:d.emailMessage,label:"Email Address",name:"email",autoComplete:"email",onChange:p})}),Object(a.jsx)(Q.a,{item:!0,xs:12,children:Object(a.jsx)(En.a,{variant:"outlined",required:!0,fullWidth:!0,error:d.passwordError,helperText:d.passwordMessage,name:"password",label:"Password",type:"password",autoComplete:"current-password",onChange:p})}),Object(a.jsx)(Q.a,{item:!0,xs:12,children:Object(a.jsx)(Jc.a,{control:Object(a.jsx)(ua.a,{value:"allowExtraEmails",color:"primary"}),label:"I want to receive inspiration, marketing promotions and updates via email."})})]}),Object(a.jsx)(Pt.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:n.submit,onClick:function(e){e.preventDefault(),f().post("users").send(O).then((function(e){var t=e.body;t||i("No such user");var n=new g(t);c(n),m({page:"user/".concat(t.id)})})).catch((function(e){new Ge(i).on(400,(function(){e.response.body.response.errors.forEach((function(e){console.log(e);var t=e.dataPath.substr(1)+"Error",n=e.dataPath.substr(1)+"Message";switch(e.keyword){case"format":j((function(a){var r;return Object(E.a)(Object(E.a)({},a),{},(r={},Object(S.a)(r,t,!0),Object(S.a)(r,n,"".concat(e.dataPath.substr(1)," has invalid format")),r))}));break;case"minLength":j((function(a){var r;return Object(E.a)(Object(E.a)({},a),{},(r={},Object(S.a)(r,t,!0),Object(S.a)(r,n,"".concat(e.dataPath.substr(1)," is too short")),r))}));break;case"maxLength":j((function(a){var r;return Object(E.a)(Object(E.a)({},a),{},(r={},Object(S.a)(r,t,!0),Object(S.a)(r,n,"".concat(e.dataPath.substr(1)," is too long")),r))}));break;case"pattern":j((function(a){var r;return Object(E.a)(Object(E.a)({},a),{},(r={},Object(S.a)(r,t,!0),Object(S.a)(r,n,"".concat(e.dataPath.substr(1)," has wrong pattern")),r))}))}}))})).on(401,"".concat(e.response.body.response.errors.message)).on(409,"user with this username already exists").handle(e)}))},children:"Sign Up"}),Object(a.jsx)(Q.a,{container:!0,justify:"flex-end",children:Object(a.jsx)(Q.a,{item:!0,children:Object(a.jsx)(_c.a,{href:"",variant:"body2",onClick:function(){return m({page:"authorization"})},children:"Already have an account? Sign in"})})})]})]})}));$c.displayName="SignUpPage";var Qc=Object(C.a)(Kc)($c),Xc=c.a.forwardRef((function(e,t){e.classes,e.className;var n=Object(fe.b)().changeRoute,c=Object(V.g)();return Object(r.useEffect)((function(){"/"===c.pathname&&n({page:"authorization",id:null})}),[]),Object(a.jsxs)(z.a,{children:[Object(a.jsx)(Uc,{}),Object(a.jsxs)("main",{children:[Object(a.jsx)(T.a,{}),Object(a.jsxs)(V.c,{children:[Object(a.jsx)(V.a,{path:"/authorization",children:Object(a.jsx)(fe.a,{routeMask:"(/:id)",children:Object(a.jsx)(Yc,{})})}),Object(a.jsx)(V.a,{path:"/signUp",children:Object(a.jsx)(fe.a,{routeMask:"(/:id)",children:Object(a.jsx)(Qc,{})})})]})]})]})})),ei=Object(C.a)(Dc)(Xc),ti=c.a.forwardRef((function(e,t){var n=y(),r=n.getUser,i=(n.isLogged,r());return Object(a.jsx)(c.a.Fragment,{children:Object(a.jsx)(fe.a,{routeMask:"(/:page)",children:i?Object(a.jsx)(Wc,{}):Object(a.jsx)(ei,{})})})})),ni=Object(C.a)(N)(ti),ai=n(406);s.a.render(Object(a.jsx)(c.a.StrictMode,{children:Object(a.jsx)(v,{children:Object(a.jsx)(ai.a,{theme:Ha,children:Object(a.jsx)(Xn,{children:Object(a.jsx)(o.a,{children:Object(a.jsx)(w.a,{maxSnack:3,children:Object(a.jsx)(ni,{})})})})})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[330,1,2]]]);
//# sourceMappingURL=main.ee6a8a61.chunk.js.map